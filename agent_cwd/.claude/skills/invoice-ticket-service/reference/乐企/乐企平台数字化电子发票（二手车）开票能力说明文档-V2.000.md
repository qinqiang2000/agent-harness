乐企平台数字化电子发票（二手车）开票能力说明文档V2.000





























修改说明

| 版本 | 章节编号 | 修订内容简述 | 生效日期 |
| --- | --- | --- | --- |
| V1.000 | 全部 | 新建 | 2024.08.23 |
| V1.001 | 第五章 | 第五章2.查询发票授信额度删除查询发票授信额度限制。 | 2024.11.29 |
| V1.002 | 第四、五章 | 第四章3.2.4.1调整备注长度；<br/>第五章12.二手车销售统一发票上传、13.二手车类特定要素发票上传调整备注字段说明。 | 2025.01.24 |
| | 第四、五章 | 删除二手车*特定要素发票、二手车特定要素普票相关业务逻辑内容。 | 2025.01.24 |
| | 第四、五、六章 | 第四章2.4.1.1、2.4.3、3.2.4.1增加二手车销售统一发票自然人信息采集的字段及校验规则，包括购销方自然人证件类型、号码、国籍。<br/>第五章12.二手车销售统一发票上传新增购销方自然人证件类型、号码、国籍。<br/>新增第六章附件一国籍代码表。 | 2025.01.24 |
| V1.003 | 第四、五章 | 第四章2.2.4.1、3.2.4.1合规性校验增加发票开具方式代码字段；2.2.4.3、3.2.4.2业务逻辑校验增加发票开具方式代码校验规则。<br/>第五章12.二手车销售统一发票上传、13.二手车类特定要素发票上传增加发票开具方式代码字段。 | 2025.03.28 |
| V1.004 | 第五章 | 接口详情1.获取数电票批量预赋码信息的接口说明增加跨省迁移企业发票号码段下载使用规则。 | 2025.08.29 |
| | 第五章 | 发票上传、红字确认单申请、汇总确认等接口请求报文增加生产报文示例。 | 2025.08.29 |
| V2.000 | 第五章 | 增加发票用途状态信息查询接口 | 2025.09.26 |




目  录

一、阅读指引	1

二、能力介绍	2

（一）能力简介	2

（二）应用案例	2

（三） 名词解释	2

（四） 扩展阅读	3

三、政策依据	6

四、开发指引	7

（一）二手车发票开具前置	7

1.全流程图	7

2.业务规则	9

（二）二手车蓝字发票开具	14

1.全流程图	14

2.业务规则	14

（三）二手车红字发票开具	26

1.数电红字确认单申请	26

2.数电红字确认单确认	32

3.数电红字发票开具	33

4.开票汇总确认	43

五、接口技术说明	45

（一）能力编码	45

（二）接口清单	45

（三）接口详情	45

1.获取数电票批量预赋码信息	45

2.查询发票额度	47

3.下载/退回发票额度	49

4.调整发票额度有效期	52

5.查询纳税人风险信息	54

6.查询纳税人基本信息	56

7.查询可用税率信息	64

8.查询税收分类编码信息	66

9.自然人卖方限制名单阻断查询	73

10.可换开二手车销售统一发票批量查询	74

11.二手车销售统一发票换开信息单笔查询	77

12.二手车销售统一发票上传	80

13.二手车类特定要素发票上传	88

14.查询二手车发票上传结果	95

15.数电红字确认单申请	97

16.数电红字确认单确认	103

17.查询数电红字确认单明细信息	104

18.查询数电红字确认单列表信息	110

19.上传发票汇总确认信息	117

20.查询发票汇总确认信息	120

21.发票用途状态信息查询	122

六、附件	126

（一）国籍代码表	126



# 一、阅读指引
为了满足纳税人多场景、规模化、合规化、自动化的全面数字化的电子发票（以下简称“数电票”）开具需求，乐企数字开放平台提供数电票开具能力，并通过本能力说明文档明确了数电票开具相关业务规则和数据接口。

本能力说明文档分为阅读指引、能力介绍、政策依据、开发指引、接口技术说明、附件六个章节，其中阅读指引、能力介绍、政策依据章节适合纳税人管理人员及财务人员阅读；开发指引、接口技术说明、附件章节适合纳税人技术人员阅读。



# **<font style="color:#000000;">二、</font>**能力介绍
## （一）能力简介
纳税人销售二手车时，可以通过本能力开具二手车销售电子统一发票（含正常开具、反向开具）、特定要素“二手车”的电子发票（增值税专用发票）。纳税人可将本能力中的各类规则和接口嵌入本单位信息化系统中（如：销售、收款、结算等），实现二手车发票开具流程和商业行为的融合，有效提升二手车发票开具效率。

纳税人可以同时使用本能力、电子发票服务平台开具二手车销售电子统一发票（含正常开具、反向开具）、特定要素“二手车”的电子发票（增值税专用发票）（税务机关另有规定除外）。

## （二）应用案例
1.某企业销售二手车资金结算自动开票

某企业将二手车发票开具能力嵌入销售结算系统，当二手车销售方确认收入、产生结算单时，销售结算系统通过乐企嵌入的二手车发票开具能力的各个规则和接口，组合商品、结算等信息自动生成二手车发票。完成交付并推送至财务系统，同时进行账务处理。

## 1 名词解释
直连单位:指的是申请直连乐企数字开放平台且税务机关审核通过的纳税人。

使用单位:指的是被直连单位邀请直连乐企数字开放平台且税务机关审核通过的纳税人。

开具前置:指的是纳税人在开具发票前所获取的关于开票相关信息的能力。

赋额制:指的是税务机关按照纳税人“信用”情况，结合生产经营、开票和申报行为，自动为纳税人赋予发票总额度并动态调整，实现“以系统赋额为主，人工调整为辅”的赋额制管理。

首次初始赋额：指纳税人（包括新办纳税人和存量纳税人）首次申请数电票时，系统第一次赋予纳税人发票额度的行为。首次初始赋额对每个纳税人全生命周期中仅有一次。

首次初始发票额度：指纳税人（包括新办纳税人和存量纳税人）首次申请数电票时，系统第一次赋予纳税人的具体发票额度。该额度根据试点纳税人的赋额类别确定。

月初赋额：指首次初始赋额后，系统每月1日依据特定规则，赋予纳税人当月初始发票额度的行为。

月初发票额度：指首次初始赋额后，系统每月1日依据特定规则，赋予纳税人的当月初始发票的额度。月初发票额度是按照赋额类别的变化情况，在上月月初发票额度、系统定期调增额度、系统定期调减额度、赋额类别默认发票额度和人工调整额度中，按优先规则确定。

当月发票总额度：是指一个自然月内，纳税人发票可开具总金额（不含增值税）的上限额度。

剩余可用发票额度：是指在一个自然月内,纳税人当月发票总额度扣除当月已使用额度，剩余的可用发票额度。

预赋码信息:指的是纳税人在开具发票前所需获取的数字化电子发票号码信息。

API列表:指的是纳税人在使用开票能力期间所需要的应用程序接口。

## 2 扩展阅读
关于当月发票总额度：由于存在系统临时调整或发票额度人工调整的情况，当月调整后的额度为当月发票总额度。若为调增，则当月发票总额度大于月初发票额度；若为调减，则当月发票总额度小于月初发票额度；若不存在调整，当月发票总额度等于月初发票额度。

需要说明的是，目前税务数字账户首页和蓝字发票开具界面上所显示的“发票总额度”，基本上表达的是“当月发票总额度”的概念。

关于剩余可用发票额度：剩余可用发票额度区分申报前和申报后。剩余可用发票额度（申报前）是指纳税人在申报月完成对应属期申报前可开具数电票的金额上限（申报前税控发票无法领用，因此不控制其领用金额），其初始化值（每月1日计算）为上月剩余发票额度和本月月初发票额度的较小值。

剩余可用发票额度（申报后）是指纳税人在申报月完成对应属期申报且比对成功后可开具数电票以及领用税控发票的金额上限。等于当月发票总额度减去本月已用发票额度（即本月数电票实际开具金额以及税控发票实际领用的金额）。

需要说明的是，目前税务数字账户首页和蓝字发票开具界面上所显示的“可用发票额度”，基本上表达的是“剩余可用发票额度”的概念。

例如：某企业为按月申报纳税人，3月发票总额度为1000万，3月累计开具800万金额发票，则3月剩余发票额度为200万，若4月月初发票额度为1000万，则企业4月申报前的剩余可用发票额度为3月剩余发票额度与4月月初发票额度中的较小值，即200万。若企业4月15日完成申报，4月1日至4月15日期间开具150万金额发票，则企业4月申报后的剩余可用发票额度为4月发票总额度（1000万）减去本月已用发票额度（150万），即850万。

需注意的是，企业在月初未申报时下载的发票额度的有效期止为当月申报截止日期，超过发票额度有效期止后，无法开具数电票，企业在完成申报或到达发票额度有效期止后，需调整发票额度有效期，并根据税局端返回的有效期更新本地发票额度有效期。

关于全面数字化的电子红字发票（以下简称数电红票）开具：除按政策规定可以修改的单价、数量、金额等要素外，数电红票中的其余要素需与全面数字化的电子蓝字发票（以下简称数电蓝票）一一对应，详细规则可参见版式文件中的相关内容。

关于按需开票：按需开票纳税人在开具发票前同样需要下载发票额度，并且只能在发票额度有效期内使用，不允许超额度开票，在查询发票额度当月发票总额度时，系统返回数据为9999999999999999，企业下载发票额度后，剩余可用发票额度返回数据仍为9999999999999999，按需开票纳税人退出按需开票后，退出当月剩余可用发票额度需扣除当月已下载发票额度。

例如：某企业为按需开票纳税人，其按需开票截止时间为5月15日，5月113日起，税务机关将自动为企业赋予当月发票总额度为1000万，若企业在5月1日-15日期间已累计下载发票额度800万，则企业此时查询当月剩余可用发票额度为1000-800=200万，5月1日-31日可再下载的发票额度为200万。



# 三、政策依据
《财政部 税务总局关于二手车经销有关增值税政策的公告》（财政部 税务总局公告2020年第17号）

《财政部 税务总局关于延续实施二手车经销有关增值税政策的公告》（财政部 税务总局公告2023年第63号）



# 四、开发指引
企业在调用乐企平台发起的相关请求报文中禁止使用Unicode码，但是可以使用Unicode码对应的中文。例如 ★ 可以出现在开票报文的备注中，但是不能出现\u38996。

为方便理解，本指引文档按照数电票开具前置、数电蓝字发票开具、数电红字发票开具、开票汇总确认共4个场景进行描述。

下述内容中业务流程图中涉及到的接口编号与第四章-4.1接口清单列表进行对应，编号规则仅适用于本文档，后续乐企1.5平台对所有接口编号设置统一的编号规则。

## （一）二手车发票开具前置
企业在开具发票前可提前将开具发票所需的相关信息获取到本地，待开票时查询本地的数据进行校验。企业可申请获取所有信息，也可以单独只获取任意一个开票信息更新本地的信息。

### 1.全流程图
在该场景中获取发票所需信息无严格的先后顺序。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114683280-ec1e4367-cda5-4d6a-a9fb-3a3d9b5787b8.png)

蓝字发票业务流程图

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114683559-7a8566db-b7b9-4e49-9abc-eaaf2389121e.png)

红字发票业务流程图

### 2.业务规则 
#### 2.1获取批量预赋码信息
查询本地未使用数电票号码段，判断是否低于设定的阈值（例如：低于20%等），低于阈值可按需调用税务局端接口重新获取数电票批量预赋码信息。

数电票号码前2位代表使用年份，禁止跨年度使用。例如：“24”开头的发票号码为2024年度的发票号码，只能在2024年使用，开票日期必须为2024年。企业在2024年开具的数电票，可以在跨年后继续上传，跨年后企业需要重新下载新一年度的数电票号码开具数电票。

接口详情参见“五、接口列表1.获取数电票批量预赋码信息”。

#### 2.2发票额度管理
发票额度即开票额度，用于控制企业开具数电票的总额度，企业需自行管理每月数电票的发票额度，以下情况禁止使用发票额度。

● 发票额度不在有效期内

● 跨月使用

● 开票总额度大于发票额度

发票额度管理包括下载发票额度和退回发票额度2个功能。

##### 2.2.1下载发票额度
当企业本地的已下载未使用的发票额度小于需要开具的数电票的额度时，可通过此接口下载发票额度。

建议根据企业自身开票情况，对本地已下载未使用的发票额度设置阈值，当已下载未使用的发票额度小于设置的阈值时，自动触发下载发票额度操作。

##### 2.2.2退回发票额度
当企业需要在其他平台开具数电票，但是发票额度不足时，企业可通过此接口把下载到本地的发票额度退回至税务局端，以便企业在其他平台开具数电票时使用。

#### 2.3调整发票额度有效期
企业在月初未申报时下载的发票额度的有效期止为当月申报截止日期，超过发票额度有效期止后，无法开具数电票，企业在完成申报或到达发票额度有效期止后，通过此接口调整发票额度有效期，并根据税局端返回的有效期更新本地发票额度有效期。

#### 2.4获取纳税人风险信息
企业可依据纳税人风险信息判断是否可以使用当前的开票能力，建议企业每24小时获取纳税人风险信息，或者在纳税人风险信息发生变更时手动触发更新。

#### 2.5获取纳税人基本信息
企业可依据纳税人基本信息判断是否可以使用当前的开票能力，建议定时获取纳税人基本信息，或者在纳税人基本信息发生变更时手动触发更新。

#### 2.6获取可用税收分类编码
开具数电票时可依据获取到的税收分类编码信息判断发票开具是否合规，建议定时获取税收分类编码信息。

针对不同的税收分类编码维护了可使用增值税特殊管理内容，即可使用的优惠政策，纳税人在开具数电票时可以根据选择的税收分类编码选择适用的优惠政策，享受税收减免政策。

增值税特殊管理共分为18类，分别是“简易征收”“稀土产品”“免税”“不征税”“先征后退”“100%先征后退”“50%先征后退”“按3%简易征收”“按5%简易征收”“按5%简易征收减按1.5%计征”“即征即退30%”“即征即退50%”“即征即退70%”“即征即退100%”“超税负3%即征即退”“超税负8%即征即退”“超税负12%即征即退”“超税负6%即征即退”。

在开具数电票条件时，根据需求选择符合的优惠政策代码和税率，包括：

优惠政策选择“简易征收”，发票明细“优惠政策标识”项填写“01”，税率限制为3%或5%；

优惠政策选择“稀土产品”，发票明细“优惠政策标识”项填写“02”，“税率”栏次正常填写适用税率；

优惠政策选择“免税”，发票明细“优惠政策标识”项填写“03”，选择免税后，税率为0，该优惠政策不能与其他优惠政策混开；

优惠政策选择“不征税”，发票明细“优惠政策标识”项填写“04”，选择不征税后，税率为0，该优惠政策不能与其他优惠政策混开；

优惠政策选择“先征后退”，发票明细“优惠政策标识”项填写“05”，在发票明细的“税率”栏次填写适用税率；

优惠政策选择“100%先征后退”，发票明细“优惠政策标识”项填写“06”，在发票明细的“税率”栏次填写适用税率；

优惠政策选择“50%先征后退”，发票明细“优惠政策标识”项填写“07”，在发票明细的“税率”栏次填写适用税率；

优惠政策选择“按3%简易征收”，发票明细“优惠政策标识”项填写“08”，“税率”栏次限制为3%；

优惠政策选择“按5%简易征收”，发票明细“优惠政策标识”项填写“09”，“税率”栏次限制为5%；

优惠政策选择“按5%简易征收减按1.5%计征”，发票明细“优惠政策标识”项填写“10”，“税率”栏次限制为1.5%，该优惠政策不能与其他优惠政策混开，仅限不动产经营租赁能力可用；

优惠政策选择“即征即退30%”，发票明细“优惠政策标识”项填写“11”，“税率”栏次正常填写适用税率；

优惠政策选择“即征即退50%”，发票明细“优惠政策标识”项填写“12”，“税率”栏次正常填写适用税率；

优惠政策选择“即征即退70%”，发票明细“优惠政策标识”项填写“13”，“税率”栏次正常填写适用税率；

优惠政策选择“即征即退100%”，发票明细“优惠政策标识”项填写“14”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负3%即征即退”，发票明细“优惠政策标识”项填写“15”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负8%即征即退”，发票明细“优惠政策标识”项填写“16”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负12%即征即退”，发票明细“优惠政策标识”项填写“17”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负6%即征即退”，发票明细“优惠政策标识”项填写“18”，“税率”栏次正常填写适用税率。

#### 2.7获取可用税率
开具数电票时可依据获取到的可用税率信息判断发票开具是否合规，建议定时获取可用税率。

#### 2.8获取数电红字确认单列表
获取数电红字确认单列表信息，以便于后期开具红字发票以及红字发票确认单确认操作时进行业务校验，建议企业定时下载/更新数电红字确认单列表信息。

#### 2.9获取数电红字确认单明细
获取数电红字确认单明细信息，以便于后期开具红字发票以及对红字发票确认单操作时进行业务校验，建议企业定时下载/更新数电红字确认单明细信息。

## （二）二手车蓝字发票开具
### 1.全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114683852-54800005-5cb0-4ba7-b244-e6b2396d3a14.png)

### 2.业务规则
#### 2.1判断纳税人开票资格
根据查询获取后保存在本地的纳税人信息，校验纳税人是否具备数电蓝字发票开票资格，包括风险纳税人信息校验和纳税人资格校验。

根据纳税人风险信息进行校验，当满足以下任意条件时禁止开具数电蓝字发票：

● 纳税人风险信息中“风险纳税人类型”为“Ⅰ类”。

● 纳税人风险信息中“纳税人预警级别”为“红色预警”。

● 纳税人风险信息中“风险纳税人标志”为“Y（风险纳税人）”。

根据查询的纳税人基本信息进行校验，当发生以下任意条件时禁止开具数电蓝字发票：

● 纳税人信息中“纳税人状态”不是“03（正常）”、“09（报验）”中的任意一个。

根据查询的纳税人基本信息进行校验，当企业行业性质满足以下条件时允许开具二手车相关蓝字发票：

● 仅二手车经销企业、二手车市场、二手车拍卖企业可以开具蓝字二手车销售统一发票，仅二手车经销企业可以反向开具蓝字二手车销售统一发票。

● 仅二手车经销企业可以开具蓝字二手车特定要素专票。

#### 2.2发票号段结余校验
判断本地是否还有未使用的数电票，若无未使用的数电票，需调用税务局端接口重新获取数电票批量预赋码信息。

#### 2.3获取开票基础信息
查询本地保存的税收分类编码信息和可用税率信息。

#### 2.4录入、校验发票信息
依据开票能力发票开具的要求，录入发票信息，并依据发票开具规则对发票信息进行业务逻辑校验，主要包括合规性校验、数值校验。

##### 2.4.1合规性校验
合规性校验主要对输入参数的类型、长度、是否必填、码值进行校验。以下任意一项不满足要求时，阻断发票开具。

###### 2.4.1.1二手车销售统一发票
● 蓝字发票标志，必填，取值范围为“0”、“1”。

● 发票号码，必填，长度20位，由数字组成，前2位为年份后2位。

● 平台编号，必填，最大长度20位。

● 发票票种，必填，取值范围为“04”。

● 开票日期，必填，格式必须是“yyyy-MM-dd HH:mm:ss”。

● 开票人，必填，最大长度300位。当使用联用、他用能力时，开票员必须与申请接入时配置的开票员一致。

● 开票人证件号码，选填，最大长度30位。当使用联用、他用能力时，必填，必须是开票人证件类型对应的证件号码，并且与平台维护的信息一致。

● 开票人证件类型，选填，最大长度4位。当使用他用、联用能力时，必填，取值范围为“ 101”，“ 102”，“ 103”，“ 199”，“ 201”，“ 202”，“ 203”，“ 204”，“ 205”，“ 206”，“ 207”，“ 208”，“ 209”，“ 210”，“ 211”，“ 212”，“ 213”，“ 214”，“ 215”，“ 216”，“ 217”，“ 218”，“ 219”，“ 220”，“ 221”，“ 222”，“ 223”，“ 224”，“ 225”，“ 226”，“ 227”，“ 228”，“ 229”，“ 230”，“ 231”，“ 232”，“ 233”，“ 234”，“ 235”，“ 236”，“ 237”，“ 238”，“ 239”，“ 240”，“ 241”，“ 291”，“ 299”。

● 区域代码，必填，最大长度20位。

● 应税行为发生地，选填，最大长度11位。

● 开票企业开票行业性质，必填，最大长度2位。取值范围为“07”，“08”，“09”。

● 开票企业纳税人识别号，必填，最大长度20位。

● 开票企业纳税人名称，必填，最大长度80位。

● 开票企业联系地址，必填，最大长度80位。

● 开票企业开户行，必填，最大长度120位。

● 开票企业银行账号，必填，最大长度50位。

● 开票企业联系电话，必填，最大长度20位。

● 特定要素，必填，最大长度2位，取值范围为“51”，“52”。

● 购买方自然人标志，必填，最大长度1位，取值范围为“Y”，“N”。

● 购买方纳税人识别号，选填，最大长度	20位，购买方自然人标志为N时必填。

● 购买方名称，必填，最大长度300位。

● （购买方）自然人证件类型，选填，最大长度3位，购买方自然人标志为Y时必填。

● （购买方）自然人证件号码，选填，最大长度30位，购买方自然人标志为Y时必填。

● （购买方）自然人国籍代码，选填，最大长度3位，购买方自然人标志为Y时必填。

● 买方单位/个人住址，必填，最大长度80位。

● 买方单位/个人电话，必填，最大长度20位。

● 购买方纳税人开户行，选填，最大长度120位。

● 购买方纳税人开户行账户，选填，最大长度50位。

● 销售方自然人标志，必填，最大长度1位，取值范围为“Y”，“N”。

● 销售方纳税人识别号，选填，最大长度20位，由数字和大写字母组成，销售方自然人标志为N时必填。

● 销售方名称，必填，最大长度300位。

● 销售方自然人证件类型，选填，最大长度3位，销售方自然人标志为Y时必填。

● 销售方自然人证件号码，选填，最大长度30位，销售方自然人标志为Y时必填。

● 销售方自然人国籍代码，选填，最大长度3位，销售方自然人标志为Y时必填。

● 卖方（销售方）单位/个人住址，必填，最大长度80位。

● 卖方（销售方）单位/个人电话，必填，最大长度20位。

● 销售方纳税人开户行，选填，最大长度120位。

● 销售方纳税人开户行账户，选填，最大长度50位。

● 发票开具方式代码，必填，最大长度1位，取值范围“4”、“5”。

● 车牌号码，必填，最大长度20位。

● 登记证号，必填，最大长度20位。

● 车辆类型代码，必填，最大长度5位。

● 商品和服务税收分类合并编码，必填，最大长度19位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 车架识别代号，必填，最大长度23位。

● 厂牌型号，必填，最大长度60位。

● 转入地车辆管理所名称，必填，最大长度80位。

● 车价合计小写，必填，最大长度18位，最多2位小数。

● 备注，选填，最大长度230位。

● 对应蓝字发票号码，选填，长度20位。

● 红字确认信息单编号，选填，最大长度20位。

● 红字确认单uuid，选填，最大长度32位。

● 服务器地址，必填，长度20位。

● mac地址，必填，长度20位。

● CPU序列号，选填，长度20位。

● 主板序列号，选填，长度20位。

###### 2.4.1.2二手车特定要素发票
● 蓝字发票标志，必填，取值范围为“0”、“1”。

● 发票号码，必填，长度20位，由数字组成，前2位为年份后2位。

● 平台编号，必填，最大长度20位。

● 发票票种，必填，取值范围为“01”。

● 开票日期，必填，格式必须是“yyyy-MM-dd HH:mm:ss”。

● 开票人，必填，最大长度300位。当使用联用、他用能力时，开票员必须与申请接入时配置的开票员一致。

● 开票人证件号码，选填，最大长度30位。当使用联用、他用能力时，必填，必须是开票人证件类型对应的证件号码，并且与平台维护的信息一致。

● 开票人证件类型，选填，最大长度4位。当使用他用、联用能力时，必填，取值范围为“ 101”，“ 102”，“ 103”，“ 199”，“ 201”，“ 202”，“ 203”，“ 204”，“ 205”，“ 206”，“ 207”，“ 208”，“ 209”，“ 210”，“ 211”，“ 212”，“ 213”，“ 214”，“ 215”，“ 216”，“ 217”，“ 218”，“ 219”，“ 220”，“ 221”，“ 222”，“ 223”，“ 224”，“ 225”，“ 226”，“ 227”，“ 228”，“ 229”，“ 230”，“ 231”，“ 232”，“ 233”，“ 234”，“ 235”，“ 236”，“ 237”，“ 238”，“ 239”，“ 240”，“ 241”，“ 291”，“ 299”。

● 区域代码，必填，最大长度20位。

● 购买方自然人标志，必填，最大长度1位，取值为“Y”，“N”。

● 购买方纳税人识别号，必填，最大长度	20位。

● 购买方名称，必填，最大长度300位。

● 购买方地址，必填，最大长度300位。

● 购买方电话，必填，最大长度60位。

● 购买方开户行名称，选填，最大长度120位。

● 购买方开户行银行账号，选填，最大长度100位。

● 经办人，选填，最大长度150位。

● 经办人身份证件号码，选填，最大长度	30位。

● 经办人联系电话，选填，最大长度60位。

● 是否展示购买方银行账号标签，选填，最大长度1位。

● 销售方纳税人识别号，必填，最大长度20位，由数字和大写字母组成。

● 销售方名称，必填，最大长度300位。

● 销售方地址，必填，最大长度300位。

● 销售方电话，必填，最大长度60位。

● 销售方开户行，选填，最大长度120位。

● 销售方账号，选填，最大长度50位。

● 是否展示销售方银行账号标签，选填，最大长度1位。

● 特定要素，必填，最大长度2位，取值范围为“15”。

● 减按征税类型代码，选填，最大长度2位，取值范围为“54”、“55”。

● 合计金额，必填，最大长度18位，最多2位小数。

● 合计税额，必填，最大长度18位，最多2位小数。

● 价税合计，必填，最大长度18位，最多2位小数。

● 备注，选填，最大长度450位。

● 收款人姓名，选填，最大长度150位。

● 复核人姓名，选填，最大程度75位。

● 发票开具方式代码，必填，最大长度1位，取值范围“4”、“5”。

● 收款银行名称，选填，最大长度120位。

● 收款银行账号，选填，最大长度100位。

● 结算方式，选填，取值范围为“01”、“02”、“03”、“04”、“05”、“99”。

● 应税行为发生地，选填，最大长度11位。

● 服务器地址，必填，长度20位。

● mac地址，必填，长度20位。

● CPU序列号，选填，长度20位。

● 主板序列号，选填，长度20位。

● 明细序号，必填，最大长度8位。

● 对应蓝字发票明细序号，必填，最大长度8位。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 规格型号，必填，最大长度150位。

● 单位，必填，最大长度300位，必须为辆。

● 数量，必填，最大长度25位，必须为1。

● 单价，必填，最大长度25位。

● 金额，必填，最大长度18位，最多2位小数。

● 增值税税率/征收率，必填，最大长度16位，最多6位小数。必须在可用税率信息中存在。

● 税额，必填，最大长度18位，最多2位小数。

● 含税金额，必填，最大长度18位，最多2位小数。

● 商品和服务税收分类合并编码，必填，最大长度19位。必须在商品编码信息中存在。

● 优惠政策标识，选填，不为空时取值范围为“01”、“02”、“03”、“04”、“05”、“06”、“07”、“08”、“09”、“10”、“11”、“12”、“13”、“14”、“15”、“16”、“17”、“18”。

● 附加要素名称，选填，最大长度200位。

● 附加要素类型，选填，最大长度200位。

● 附加要素值，选填，最大长度200位。

● 二手车销售统一发票号码，选填，最大长度20位。

● 二手车销售统一纸质发票号码，选填，最大长度20位。

● 二手车销售统一纸质发票代码，选填，最大长度12位。

● 对应蓝字发票号码，选填，长度20位。

● 红字确认信息单编号，选填，最大长度20位。

● 红字确认单uuid，选填，最大长度32位。

##### 2.4.2数据校验
● 单行金额校验：|单价*数量-金额|<=0.01。

● 汇总金额校验：|所有商品行金额之和-合计金额|<=0.01。

● 单行税额校验：| 金额 * 税率 - 税额 |<=0.06。

● 汇总税额校验：| 金额 * 税率（第1行）+......+金额 * 税率（第N行）-税额合计|<=1.27。

##### 2.4.3业务逻辑校验
● 发票上传接口中“平台编号”字段值必须为直连单位ID。

● 开具发票时，只能使用税收分类编码中“是否汇总项”字段为“N”的编码进行开票。

● 税率校验规则：

（1）不使用优惠政策时，一般纳税人只能使用商品编码对应的税率，小规模、转登记纳税人只能使用商品编码对应的征收率，纳税人使用商编对应的优惠政策时，按照优惠政策限制使用对应的税率征收率。

（2）开具增值税普通发票时，纳税人使用1、2、3、4、5开头的商品编码开具时，支持开具零税率或免税的发票；开具增值税专用发票时，发票明细行税率不允许填写0%。

（3）当纳税人申请了原税率授权开具发票时，支持纳税人使用原税率开具发票。

● 小规模纳税人、转登记纳税人在2027-12-31之前使用适用3%征收率的商品编码开具蓝字发票时，税率应当填写1%。如果填写3%，则必须填写放弃3-1优惠政策的原因（发票中对应字段为“减按征税类型代码”）：

（1）如果开具的为增值税普通发票，代码只能选择“54：前期已开具3%征收率的发票，发生销售折让、中止或者退回等情形需要开具3%征收率的红字发票，或者开票有误需要重新开具3%征收率的发票”；

（2）如果开具的为增值税专用发票，按照实际情况选择“54：前期已开具3%征收率的发票，发生销售折让、中止或者退回等情形需要开具3%征收率的红字发票，或者开票有误需要重新开具3%征收率的发票”或“55：因为实际经营业务需要，放弃享受减按1%征收率征收增值税政策”。

● 发票上传时间与开票时间间隔应当小于48小时。

● 开具二手车发票时，只能开具一行明细行，不支持折扣行。

● 开具二手车发票时，纳税人仅可选择“机动车”商品和服务税收分类编码。

● 二手车销售统一发票业务规则：

开具二手车销售统一发票时，不支持开具差额、减按发票。

反向开具二手车销售统一发票时，销售方必须为自然人，销售方方自然人标志必须为“Y”，并需要调用二手车销售统一发发票卖方自然人查询接口，判断是否可为该自然人开票。（正向开具销售方为自然人时操作同理）。

开具二手车销售统一发票时开票方纳税人识别号、纳税人名称必须与查询到的纳税人基本信息完全一致，开票方作为购/销方时，填写的购/销方信息也必须与基本信息完全一致。

● 二手车特定要素发票业务规则：

（1）开具“二手车”发票，不支持差额、减按发票，数量必须为1，单位必须为辆。增值税专用发票只能填写0.5%税率。

（2）开具二手车特定要素发票，可以选择是否用于换开二手车销售统一发票（只有二手车经销企业正向开具的二手车销售统一发票才可以换开二手车特定要素发票）。当用于换开二手车销售统一发票时，调用二手车销售统一发票换开记录资格查询接口查询是否支持用于换开，发票明细信息中的购销方信息（包括购买方/销售方名称、纳税人识别号、地址、电话）、“项目名称”、“商品和服务税收分类合并编码”、“商品服务简称”、“规格型号”、“价税合计”需要与二手车销售统一发票的购销方信息、项目名称、商品和服务税收分类合并编码、商品服务简称、车架号/车辆识别代号、车价合计完全一致，不一致则校验不通过。

● 小规模纳税人、转登记纳税人在2027-12-31之前使用适用3%征收率的商品编码开具蓝字发票时，税率应当填写1%。如果填写3%，则必须填写放弃3-1优惠政策的原因（发票中对应字段为“减按征税类型代码”）：

（1）如果开具的为增值税普通发票，代码只能选择“54：前期已开具3%征收率的发票，发生销售折让、中止或者退回等情形需要开具3%征收率的红字发票，或者开票有误需要重新开具3%征收率的发票”；

（2）如果开具的为增值税专用发票，按照实际情况选择“54：前期已开具3%征收率的发票，发生销售折让、中止或者退回等情形需要开具3%征收率的红字发票，或者开票有误需要重新开具3%征收率的发票”或“55：因为实际经营业务需要，放弃享受减按1%征收率征收增值税政策”。

● 自然人国籍代码具体校验规则如下：

（1）当“自然人证件类型”选择“201：居民身份证”时，校验是否为“156：中国”；

（2）当“自然人证件类型”选择“210：港澳居民来往内地通行证”时，校验证件号码必须以H或M开头。如果“证件号码”以H开头，“国籍（或地区）”必须为“344:中国香港”；如果“证件号码”以M开头，“国籍（或地区）”必须为“446：中国澳门”；

（3）当“自然人证件类型”选择“213：台湾居民来往大陆通行证”时，校验是否为“158：中国台湾”。

（4）当“自然人证件类型”选择“227：中华人民共和国护照”时，校验是否为“156：中国”。

（5）当“自然人证件类型”选择“237：中华人民共和国港澳居民居住证”时，校验证件号码必须以810000或820000开头，如果“证件号码”以810000开头，“国籍（或地区）”必须为“344:中国香港”；如果“证件号码”以820000开头，“国籍（或地区）”必须为“446：中国澳门”；

（6）当“自然人证件类型”选择“238：中华人民共和国台湾居民居住证”时，校验是否为“158：中国台湾”。

● 二手车销售统一发票蓝字发票根据自然人标志对购销方自然人信息校验规则如下：

① 销售方自然人标志为Y

蓝字发票“销售方自然人国籍代码”、“销售方自然人证件类型”、“销售方自然人证件号码”此时均为必填。

若蓝字发票“销售方自然人证件类型”填写“201：居民身份证”，“销售方纳税人识别号”必须与“销售方自然人证件号码”完全一致；如果为其他8类证件类型，销售方纳税人识别号填写自然人纳税人识别号，此时“销售方纳税人识别号”为选填。此时通过“销售方自然人证件号码”查询自然人是否在自然人限制名单内阻断开票。

② 销售方自然人标志为N

二手车销售统一发票的“销售方自然人国籍代码”、“销售方自然人证件类型”、“销售方自然人证件号码”均不允许填写，销售方纳税人识别号必填。

③ 购买方自然人标志为Y

蓝字发票“(购买方)自然人国籍代码”、“(购买方)自然人证件类型”、“(购买方)自然人证件号码”此时均为必填；若“(购买方)自然人证件类型”填写“201：居民身份证”，“购买方纳税人识别号”必须与“(购买方)自然人证件号码”完全一致；如果为其他8类证件类型，销售方纳税人识别号填写自然人纳税人识别号，无自然人纳税人识别号填写证件号码，此时不校验“购买方纳税人识别号”必须与“(购买方)自然人证件号码”是否一致，“购买方纳税人识别号”为选填。

④ 购买方自然人标志为N

“(购买方)自然人国籍代码”、“(购买方)自然人证件类型”、“(购买方)自然人证件号码”均不允许填写，购买方纳税人识别号必填。

● “发票开具方式代码”根据直连单位与使用单位的关系填写内容，当直连单位和使用单位关系为直连单位自用、总分公司关系、母子公司关系、其他控制关系、同一监管部门时，必须填写“5：自建平台开票（乐企自用开票）”，当关系为不具有控制关系（他用）、不具有控制关系（联用）时，必须填写“4：第三方平台开票（乐企联用、他用开票）”。

#### 2.5校验发票额度
校验已下载未使用发票额度和本次开具的蓝字发票金额，若已下载未使用发票额度 - 开票金额 < 0时，阻断开具数电票预开具或修改发票信息后重新开具；若已下载未使用发票额度 - 开票金额 >= 0，更新本地已下载未使用发票额度。

二手车发票开具成功均扣减开票企业授信额度。

校验已下载未使用发票额度，当满足以下任意条件时阻断发票开具：

● 查询已下载未使用发票额度失败。

● 发票额度信息中“已下载未使用发票额度”小于开票金额。

#### 2.6发票赋码
从本地数电票号码段中给要开具的数电票依次分配不重复的数电票号码，若本地数电票号码已使用完毕，调用发票号段结余校验操作。

乐企自用发票号码第5位为“7”，第6位为“0”，第7至20位为顺序编号，若发票赋码使用的号码规则错误，阻断发票上传。

乐企他用发票号码第5位为“7”，第6位为“1”，第7至20位为顺序编号，若发票赋码使用的号码规则错误，阻断发票上传。

乐企联用发票号码第5位为“7”，第6位为“2”，第7至20位为顺序编号，若发票赋码使用的号码规则错误，阻断发票上传。

#### 2.7发票上传
发票赋码成功后，首先在本地保存数电蓝字发票预开具信息（发票状态为“预开具成功”），调用税务局端《数电票上传》接口上传预开具成功的数电蓝字发票，并依据返回的结果，更新本地发票预上传结果。

#### 2.8查询发票上传结果
发票上传成功后，间隔一定时间（建议最小10秒）后依据发票上传返回的“受理流水号”调用税务局端《查询二手车发票上传结果》接口查询数电蓝字发票是否通过乐企平台校验，并依据返回的发票开具结果更新本地发票开具结果。

## （三）二手车红字发票开具
### 1.数电红字确认单申请
#### 1.1全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114684214-a9c2aa71-6bcb-4f7f-a22a-403cf69f5e69.png)

#### 1.2业务规则
##### 1.2.1判断纳税人申请资格
校验纳税人是否具备数电红字确认单申请资格，通过本地保存的纳税人风险信息进行风险纳税人校验，通过本地保存的纳税人基本信息进行纳税人资格校验，详细规则同2.1 判断纳税人开票资格。

##### 1.2.2本地判断蓝字发票是否可红冲
查询本地保存蓝字发票信息和蓝字发票勾选信息，校验数电蓝字发票是否具备红冲条件。

本地若无蓝票信息，需通过乐企归集能力中“批量发票下载申请”、“批量发票下载申请反馈”、“查询增量发票下载信息”接口查询蓝票信息。

本地若无蓝票状态信息，需通过“发票用途状态信息查询”接口查询蓝字发票状态信息。

对从本地查询的蓝字发票、蓝字发票勾选信息、数电红字发票信息进行判断，满足以下任意条件时禁止提交申请数电红字确认单：

●对应数电蓝字发票状态为“作废”、“锁定”或“异常凭证”。

●对应数电蓝字发票增值税用途为待退税、已退税、已抵扣（改退）、已代办退税、不予退税且不予抵扣时。

●校验对应数电蓝字发票税收优惠类标签明细，当“冬奥会退税标签”为“已用于冬奥会退税”时。

●通过“发票用途状态信息查询”接口查询的信息判断是否触发以上禁止开具的条件，对应如下：

| 字段 | 码值 | 蓝字发票状态 |
| --- | --- | --- |
| 异常凭证状态 | 2 | 异常凭证 |
| 红字锁定标识 | Y | 锁定 |
| 发票状态 | 2 | 作废 |
| | 11 | 冬奥退税 |
| 发票用途 | 2 | 已申请退税 |
| | 3 | 已申请代办退税 |
| | 5 | 已申请代办退税（历史数据） |
| | 7 | 内销转出口 |
| | 9 | 准予退税 |
| | 10 | 不予退税 |


##### 1.2.3录入、校验数电红字确认单信息
依据开票能力数电红字确认单要求，录入数电红字确认单信息，并依据数电红字确认单申请规则对发票信息进行业务逻辑校验，主要包括合规性校验、数值校验。

###### 1.2.3.1合规性校验
合规性校验主要对输入参数的类型、长度、是否必填、码值进行校验。以下任意一项不满足要求时，阻断申请：

● 录入方身份，必填，取值范围为“0”、“1”、“2”。当开票方代卖方申请红字确认单时，填写“2：第三方”。

● 销售方纳税人识别号，必填，最大长度20位，由数字和大写字母组成。

● 销售方名称，必填，最大长度300位。

● 购买方纳税人识别号，必填，最大长度20位。

● 购买方名称，必填，最大长度300位。

● 第三方纳税人识别号，选填，最大长度20位。

● 第三方纳税人名称，选填，最大长度300位。

● 蓝字发票代码，选填，最大长度12位。

● 蓝字发票号码，必填，最大长度20位。

● 是否纸质发票标志，必填，取值范围为“Y”、“N”。

● 蓝字发票开票日期，必填，格式为yyyy-MM-dd HH:mm:ss。

● 蓝字发票合计金额，必填，最大长度18位，最多2位小数。二手车销售统一发票申请红字确认单时，填写车价合计。

● 蓝字发票合计税额，必填，最大长度18位，最多2位小数。二手车销售统一发票申请红字确认单时，填写0。

● 蓝字发票发票票种代码，必填，取值范围为“01”、“02”、“03”、“04”。

● 蓝字发票特定要素类型代码，必填，取值范围为“15”、“51”、“52”。

● 红字冲销金额，必填，最大长度18位，最多2位小数。

● 红字冲销税额，必填，最大长度18位，最多2位小数。

● 红字发票冲红原因代码，必填，取值范围为“01”、“02”。

● 序号，必填，最大长度	8位，必须传1。

● 蓝字发票明细序号，必填，必须传1。

● 商品和服务税收分类合并编码，必填，最大长度19位。必须在商品编码信息中存在。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 规格型号，选填，最大长度150位，二手车销售统一发票填写蓝票的车辆识别代号。

● 单位，选填，最大长度300位，必须为“辆”。

● 单价，选填（如“数量”非空，则必填），最大长度25位。

● 数量，选填（如“单价”非空，则必填），最大长度25位，必须为-1。

● 金额，必填，最大长度18位，最多2位小数。

● 税率，必填，最大长度16位，最多6位小数，二手车销售统一发票必须为0。

● 税额，必填，最大长度18位，最多2位小数，二手车销售统一发票必须为0。

###### 1.2.3.2数据校验
● 含税金额=税额+金额，不能有误差。

● 红票开具金额<= 对应蓝字发票开具金额。

● 红字发票的商品金额税额不为正数。

###### 1.2.3.3业务逻辑校验
● 红字确认单的商品金额必须为负数，税额不为正数。

● 蓝字增值税专用发票只能用增值税专用发票冲红；蓝字普通发票只能用普通发票进行冲红。

● 红冲二手车发票时，红冲原因只能选择“开票有误”、“销货退回”，必须全额红冲。

● 关联二手车特定要素标签增值税发票的二手车销售统一蓝字发票，不允许直接红冲。若需红冲需要先将其关联开具的“二手车”特定要素标签的电子增值税发票作废或红冲后，才允许红冲二手车销售统一发票。

● “反向开具”的二手车销售统一发票与“正向开具”二手车销售统一发票不能互相红冲，此处二手车销售统一发票既包括电子发票服务平台开具的二手车销售统一发票，也包括税控系统开具的二手车销售统一发票。

● 对于税控发票，申请红字确认单时，如果税控蓝票项目名称为*A*B，红字确认单项目名称字段填写税控蓝字发票项目名称第二个*号之后的内容，即B。

##### 1.2.4红字确认单申请
数电红字确认单录入校验通过后，首先在本地保存数电红字确认单申请信息，调用税务局端《数电红字确认单申请》接口将预申请数电红字确认单上传至税务局端，如果返回成功则表明预申请数电红字确认单上传成功。



### 2.数电红字确认单确认
#### 2.1全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114684625-3e07b0d0-0a5d-4ccc-a7ca-45c005f70e3b.png)

#### 2.2业务规则 
##### 2.2.1判断纳税人确认资格
校验纳税人是否具备数电红字确认单申请资格，通过本地保存的纳税人风险信息进行风险纳税人校验，通过本地保存的纳税人基本信息进行纳税人资格校验，详细规则同2.1 判断纳税人开票资格。

##### 2.2.2选择、确认数电红字确认单
从查询出的数电红字确认单中选择需要确认的数电红字确认单，并选择确认结果。

##### 2.2.3上传数电红字确认单确认信息
调用《数电红字确认单确认》接口向税务局端上传数电红字确认单确认结果，包括：同意、不同意和撤销，并更新数电红字确认单确认信息上传结果，具体参见“五、接口列表16.数电红字确认单确认”。

红字确认单撤销时要求红字确认单状态为有效且未开具红票，红字确认单撤销只能由最后操作方申请，具体包含以下规则：

（1）购买方未对蓝字发票做勾选/入账操作，销售方申请红字确认单，这时红字确认单状态为“01”，此时只允许销售方撤销。

（2）购买方对蓝字发票做勾选/入账操作，销售方申请红字确认单，购买方未确认，这时红字确认单状态为“02”，此时只允许销售方撤销。

（3）购买方对蓝字发票做勾选/入账操作，销售方申请红字确认单，购买方已确认，这时红字确认单状态为“04”，此时只允许购买方撤销。

（4）购买方对蓝字发票做勾选/入账操作，购买方申请红字确认单，销售方未确认，这时红字确认单状态为“03”，此时只允许购买方撤销。

（5）购买方对蓝字发票做勾选/入账操作，购买方申请红字确认单，销售方已确认，这时红字确认单状态为“04”，此时只允许销售方撤销。

若开票方代销售方申请红字确认单的情况，红字确认单状态为“01”、“02”时支持开票方申请撤销红字确认单。

### 3.数电红字发票开具
#### 3.1.全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114684953-8386091d-6ace-40f6-83c3-14017daf6013.png)

#### 3.2业务规则
##### 3.2.1校验红字确认单信息
查询本地保存的红字确认单信息，判断是否存在红字确认单信息以及红字确认单状态是否正常。当满足以下任意条件时禁止开具数电红字发票。

● 未查询到本地存储的红字确认单信息。

● 数电红字确认单信息状态不正确。

##### 3.2.2判断纳税人开票资格
根据查询获取后保存在本地的纳税人信息，校验纳税人是否具备数电红字发票开票资格，包括风险纳税人信息校验和纳税人资格校验。

根据纳税人风险信息进行校验，当满足以下任意条件时禁止开具数电红字发票：

● 纳税人风险信息中“风险纳税人类型”为“Ⅰ类”。

● 纳税人风险信息中“纳税人预警级别”为“红色预警”。

● 纳税人风险信息中“风险纳税人标志”为“Y（风险纳税人）”。

根据查询的纳税人基本信息进行校验，当发生以下任意条件时禁止开具数电红字发票：

● 纳税人信息中“纳税人状态”不是“03（正常）”、“09（报验）”中的任意一个。

根据查询的纳税人基本信息进行校验，当企业行业性质满足以下条件时允许开具二手车相关蓝字发票：

● 仅二手车经销企业、二手车市场、二手车拍卖企业可以开具红字二手车销售统一发票，仅二手车经销企业可以反向开具红字二手车销售统一发票。

● 仅二手车经销企业可以开具红字二手车特定要素发票。

##### 3.2.3发票号段结余校验
判断本地是否还有未使用的数电票，若无未使用的数电票，需调用税务局端接口重新获取数电票批量预赋码信息。

##### 3.2.4录入、校验发票信息
###### 3.2.4.1合规性校验
合规性校验主要对输入参数的类型、长度、是否必填、码值进行校验。以下任意一项不满足要求时，阻断发票开具。

3.2.4.1.1二手车销售统一发票

● 蓝字发票标志，必填，取值范围为“0”、“1”。

● 发票号码，必填，长度20位，由数字组成，前2位为年份后2位。

● 平台编号，必填，最大长度20位。

● 发票票种，必填，取值范围为“04”。

● 开票日期，必填，格式必须是“yyyy-MM-dd HH:mm:ss”。

● 开票人，必填，最大长度300位。当使用联用、他用能力时，开票员必须与申请接入时配置的开票员一致。

● 开票人证件号码，选填，最大长度30位。当使用联用、他用能力时，必填，必须是开票人证件类型对应的证件号码，并且与平台维护的信息一致。

● 开票人证件类型，选填，最大长度4位。当使用他用、联用能力时，必填，取值范围为“ 101”，“ 102”，“ 103”，“ 199”，“ 201”，“ 202”，“ 203”，“ 204”，“ 205”，“ 206”，“ 207”，“ 208”，“ 209”，“ 210”，“ 211”，“ 212”，“ 213”，“ 214”，“ 215”，“ 216”，“ 217”，“ 218”，“ 219”，“ 220”，“ 221”，“ 222”，“ 223”，“ 224”，“ 225”，“ 226”，“ 227”，“ 228”，“ 229”，“ 230”，“ 231”，“ 232”，“ 233”，“ 234”，“ 235”，“ 236”，“ 237”，“ 238”，“ 239”，“ 240”，“ 241”，“ 291”，“ 299”。

● 区域代码，必填，最大长度20位。

● 应税行为发生地，选填，最大长度11位。

● 开票企业开票行业性质，必填，最大长度2位。取值范围为“07”，“08”，“09”。

● 开票企业纳税人识别号，必填，最大长度20位。

● 开票企业纳税人名称，必填，最大长度80位。

● 开票企业联系地址，必填，最大长度80位。

● 开票企业开户行，必填，最大长度120位。

● 开票企业银行账号，必填，最大长度50位。

● 开票企业联系电话，必填，最大长度20位。

● 特定要素，必填，最大长度2位，取值范围为“51”，“52”。

● 购买方自然人标志，必填，最大长度1位，取值范围为“Y”，“N”。

● 买方单位/个人名称，必填，最大长度300位。

● 购买方纳税人识别号，选填，最大长度20位。

● （购买方）自然人证件类型，选填，最大长度3位。

● （购买方）自然人证件号码，选填，最大长度30位。

● （购买方）自然人国籍代码，选填，最大长度3位。

● 买方单位/个人住址，必填，最大长度80位。

● 买方单位/个人电话，必填，最大长度20位。

● 销售方自然人标志，必填，最大长度1位，取值范围为“Y”，“N”。

● 卖方（销售方）单位/个人名称，必填，最大长度300位。

● 销售方纳税人识别号，选填，最大长度20位。

● 销售方自然人证件类型，选填，最大长度3位。

● 销售方自然人证件号码，选填，最大长度30位。

● 销售方自然人国籍代码，选填，最大长度3位。

● 卖方（销售方）单位/个人住址，必填，最大长度80位。

● 卖方（销售方）单位/个人电话，必填，最大长度20位。

● 发票开具方式代码，必填，最大长度1位，取值范围“4”、“5”。

● 车牌号码，必填，最大长度20位。

● 登记证号，必填，最大长度20位。

● 车辆类型代码，必填，最大长度5位。

● 商品和服务税收分类合并编码，必填，最大长度19位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 车架识别代号，必填，最大长度23位。

● 厂牌型号，必填，最大长度60位。

● 转入地车辆管理所名称，必填，最大长度80位。

● 车价合计小写，必填，最大长度18位，最多2位小数。

● 备注，选填，最大长度162位。

● 对应蓝字发票号码，必填，长度20位。

● 红字确认信息单编号，必填，最大长度20位。

● 红字确认单uuid，必填，最大长度32位。

● 服务器地址，必填，长度20位。

● mac地址，必填，长度20位。

● CPU序列号，选填，长度20位。

● 主板序列号，选填，长度20位。

3.2.4.1.2二手车特定要素发票

● 蓝字发票标志，必填，取值范围为“0”、“1”。

● 发票号码，必填，长度20位，由数字组成，前2位为年份后2位。

● 平台编号，必填，最大长度20位。

● 发票票种，必填，取值范围为“01”。

● 开票日期，必填，格式必须是“yyyy-MM-dd HH:mm:ss”。

● 开票人，必填，最大长度300位。当使用联用、他用能力时，开票员必须与申请接入时配置的开票员一致。

● 开票人证件号码，选填，最大长度30位。当使用联用、他用能力时，必填，必须是开票人证件类型对应的证件号码，并且与平台维护的信息一致。

● 开票人证件类型，选填，最大长度4位。当使用他用、联用能力时，必填，取值范围为“ 101”，“ 102”，“ 103”，“ 199”，“ 201”，“ 202”，“ 203”，“ 204”，“ 205”，“ 206”，“ 207”，“ 208”，“ 209”，“ 210”，“ 211”，“ 212”，“ 213”，“ 214”，“ 215”，“ 216”，“ 217”，“ 218”，“ 219”，“ 220”，“ 221”，“ 222”，“ 223”，“ 224”，“ 225”，“ 226”，“ 227”，“ 228”，“ 229”，“ 230”，“ 231”，“ 232”，“ 233”，“ 234”，“ 235”，“ 236”，“ 237”，“ 238”，“ 239”，“ 240”，“ 241”，“ 291”，“ 299”。

● 区域代码，必填，最大长度20位。

● 购买方自然人标志，必填，最大长度1位，取值为“Y”，“N”。

● 购买方纳税人识别号，必填，最大长度	20位。

● 购买方名称，必填，最大长度300位。

● 购买方地址，必填，最大长度300位。

● 购买方电话，必填，最大长度60位。

● 购买方开户行名称，选填，最大长度120位。

● 购买方开户行银行账号，选填，最大长度100位。

● 经办人，选填，最大长度150位。

● 经办人身份证件号码，选填，最大长度	30位。

● 经办人联系电话，选填，最大长度60位。

● 是否展示购买方银行账号标签，选填，最大长度1位。

● 销售方纳税人识别号，必填，最大长度20位，由数字和大写字母组成。

● 销售方名称，必填，最大长度300位。

● 销售方地址，必填，最大长度300位。

● 销售方电话，必填，最大长度60位。

● 销售方开户行，选填，最大长度120位。

● 销售方账号，选填，最大长度50位。

● 是否展示销售方银行账号标签，选填，最大长度1位。

● 特定要素，必填，最大长度2位，取值范围为“15”。

● 减按征税类型代码，选填，最大长度2位，取值范围为“54”、“55”。

● 合计金额，必填，最大长度18位，最多2位小数。

● 合计税额，必填，最大长度18位，最多2位小数。

● 价税合计，必填，最大长度18位，最多2位小数。

● 备注，选填，最大长度382位。

● 收款人姓名，选填，最大长度150位。

● 复核人姓名，选填，最大程度75位。

● 发票开具方式代码，必填，最大长度1位，取值范围“4”、“5”。

● 收款银行名称，选填，最大长度120位。

● 收款银行账号，选填，最大长度100位。

● 结算方式，选填，取值范围为“01”、“02”、“03”、“04”、“05”、“99”。

● 应税行为发生地，选填，最大长度11位。

● 服务器地址，必填，长度20位。

● mac地址，必填，长度20位。

● CPU序列号，选填，长度20位。

● 主板序列号，选填，长度20位。

● 明细序号，必填，最大长度8位。

● 对应蓝字发票明细序号，必填，最大长度8位。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 规格型号，必填，最大长度150位。

● 单位，必填，最大长度300位。

● 数量，必填，最大长度25位。

● 单价，必填，最大长度25位。

● 金额，必填，最大长度18位，最多2位小数。

● 增值税税率/征收率，必填，最大长度16位，最多6位小数。必须在可用税率信息中存在。

● 税额，必填，最大长度18位，最多2位小数。

● 含税金额，必填，最大长度18位，最多2位小数。

● 扣除额，选填，最大长度18位，最多2位小数。

● 商品和服务税收分类合并编码，必填，最大长度19位。必须在商品编码信息中存在。

● 优惠政策标识，选填，不为空时取值范围为“01”、“02”、“03”、“04”、“05”、“06”、“07”、“08”、“09”、“10”、“11”、“12”、“13”、“14”、“15”、“16”、“17”、“18”。

● 附加要素名称，选填，最大长度200位。

● 附加要素类型，选填，最大长度200位。

● 附加要素值，选填，最大长度200位。

● 二手车销售统一发票号码，选填，最大长度20位。

● 二手车销售统一纸质发票号码，选填，最大长度20位。

● 二手车销售统一纸质发票代码，选填，最大长度12位。

● 对应蓝字发票号码，必填，长度20位。

● 红字确认信息单编号，必填，最大长度20位。

● 红字确认单uuid，必填，最大长度32位。

###### 3.2.4.2数据校验
● 红字发票明细和红字确认单必须保持一致。

● 发票上传时间与开票时间间隔应当小于48小时。

●  二手车销售统一发票开具红字发票时，除红字确认单外下述字段必须与蓝字发票一一对应，包括蓝票下述字段：

车牌号码、登记证号、车辆类型代码、车辆识别代号、厂牌型号、转入地车辆管理所名称、车价合计（需要为蓝票的负数）、开票企业开票行业性质、开票企业纳税人识别号、开票企业纳税人名称、开票企业联系地址、开票企业开户行、开票企业银行账号、开票企业联系电话、（购买方）自然人证件类型、（购买方）自然人证件号码、（购买方）自然人国籍代码、销售方自然人证件类型、销售方自然人证件号码、销售方自然人国籍代码。

● 二手车特定要素发票开具红字发票时，除红字确认单外下述字段必须与蓝字发票一一对应，包括蓝票下述字段：

减按征税类型代码、购买方自然人标志、区域代码、销售方地址、销售方电话、销售方开户行、销售方账号、购买方地址、购买方电话、购买方开户行、购买方账号、购买方经办人姓名、经办人身份证件种类、购买方经办人证件号码、购买方经办人联系电话、收款银行名称、收款银行账号、结算方式、应税行为发生地、是否展示销售方银行账号标签、是否展示购买方银行账号标签、优惠政策标识、附加要素名称、附加要素值、二手车销售统一发票号码、二手车销售统一纸质发票号码、二手车销售统一纸质发票代码。

● 对于没有反向开具资格的纳税人，不允许其反向开具蓝字二手车销售统一发票，但允许其对原蓝字二手车销售统一发票开具红字二手车销售统一发票。

● 二手车销售统一发票开具红字发票时，如果企业性质发生了变化，红字发票按原开具蓝字发票时的企业类型开具，系统根据对应蓝字发票信息进行校验。例如，开具蓝字发票时企业性质为经营单位，开具红字发票时企业性质为拍卖单位，开具红字发票时按经营单位开具。

● 开具二手车特定要素发票时， 除开票人、开票人证件类型、开票人证件号码、区域代码、服务器地址、mac地址、CPU序列号、主板序列号这些字段外，其他字段必须与红字确认单及蓝字发票一一对应，金额类字段应为蓝字发票的负数。

● “发票开具方式代码”根据直连单位与使用单位的关系填写内容，当直连单位和使用单位关系为直连单位自用、总分公司关系、母子公司关系、其他控制关系、同一监管部门时，必须填写“5：自建平台开票（乐企自用开票）”，当关系为不具有控制关系（他用）、不具有控制关系（联用）时，必须填写“4：第三方平台开票（乐企联用、他用开票）”。

##### 3.2.5校验发票额度
判断红字发票对应蓝字发票的开票日期，若红字发票对应蓝字发票的开票日期为当前月份，需要增加本地发票额度，增加的数量为红字发票开票金额；若红字发票对应的蓝字发票的开票日期不是当前月份，不增加本地发票额度。

##### 3.2.6发票赋码
从本地数电票号码段中给要开具的数电票依次分配不重复的数电票号码，若本地数电票号码已使用完毕，调用发票号段结余校验操作。

##### 3.2.7发票上传
发票赋码成功后，首先在本地保存数电红字发票预开具信息（发票状态为“预开具成功”），调用税务局端《数电票上传》接口预上传数电红字发票，并依据返回的结果，更新本地发票预上传结果。

##### 3.2.8查询发票上传结果
发票上传成功后，间隔10秒-10分钟依据发票上传返回的“受理流水号”调用税务局端《查询二手车发票上传结果》接口查询数电红字发票是否接收成功，并依据返回的发票开具结果，更新本地发票开具结果。



### 4.开票汇总确认
#### 4.1.全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114685276-6f13b729-b5be-48f5-a17e-0c98b2abaa5f.png)

#### 4.2.业务规则
##### 4.2.1数电票汇总信息上传
给企业提供按月上传发票汇总信息接口，以避免由于企业未及时上传发票而带来的问题。企业在每月13日前需按自然月汇总上月在本平台开具的数电票的数量、金额和税额上传至乐企服务端，与乐企服务端汇总接收到的数电票信息进行比对，若比对一致，返回比对成功；若比对不一致，返回具体失败信息，由企业核实后，再次上传。开票汇总确认后不允许上传已确认的月份的数子化电子发票说明。

若企业在每月13日前未上传上个月的发票汇总确认信息，乐企服务端将在13日零点汇总乐企服务端接收到的上个月的数子化电子发票。每月13日零点之后，上个月未上传的发票，请重新开具。

每月13日之前，当企业上传发票汇总确认信息后，发现已确认的月份还有数电票未上传，可以取消发票汇总确认，把未上传的数电票上传至乐企服务端后再次上传发票汇总确认信息。

##### 4.2.2查询发票汇总确认信息
给企业提供发票汇总确认信息查询功能，企业可以通过此接口查询历史发票汇总确认信息。



# **<font style="color:#000000;">五、</font>**接口技术说明
## （一）能力编码
| 能力名称 | 乐企二手车开票能力 |
| --- | --- |
| 能力编码 | 202082 |




## （二）接口清单
| 序号 | 服务名称（fwmc） | 服务编码 |
| --- | --- | --- |
| 1 | 获取数电票批量预赋码信息 | <font style="color:rgb(0, 0, 0);">QDFPPLFM</font> |
| 2 | 查询发票额度 | <font style="color:rgb(0, 0, 0);">CXSXED</font> |
| 3 | 下载/退回发票额度 | <font style="color:rgb(0, 0, 0);">XZTHSXED</font> |
| 4 | 调整发票额度有效期 | <font style="color:rgb(0, 0, 0);">TZSXEDYXQ</font> |
| 5 | 查询纳税人风险信息 | <font style="color:rgb(0, 0, 0);">CXNSRFXXX</font> |
| 6 | 查询纳税人基本信息 | <font style="color:rgb(0, 0, 0);">CXNSRJBXX</font> |
| 7 | 查询可用税率信息 | <font style="color:rgb(0, 0, 0);">CXKYSL</font> |
| 8 | 查询税收分类编码信息 | <font style="color:rgb(0, 0, 0);">CXSSFLBM</font> |
| 9 | 自然人卖方限制名单阻断查询 | <font style="color:rgb(0, 0, 0);">ZRRMFXZMDZDCX</font> |
| 10 | 可换开二手车销售统一发票批量查询 | <font style="color:rgb(0, 0, 0);">KHKESCXSTYFPPLCX</font> |
| 11 | 二手车销售统一发票换开信息单笔查询 | <font style="color:rgb(0, 0, 0);">ESCXSTYFPHXXXDBCX</font> |
| 12 | 二手车销售统一发票上传 | <font style="color:rgb(0, 0, 0);">ESCXSTYFPSC</font> |
| 13 | 二手车类特定要素发票上传 | <font style="color:rgb(0, 0, 0);">ESCLTDYSFPSC</font> |
| 14 | 查询二手车发票上传结果 | <font style="color:rgb(0, 0, 0);">CXQDFPSCJG</font> |
| 15 | 数电红字确认单申请 | <font style="color:rgb(0, 0, 0);">QDHZQRDSQ</font> |
| 16 | 数电红字确认单确认 | <font style="color:rgb(0, 0, 0);">QDHZQRDQR</font> |
| 17 | 查询数电红字确认单列表 | <font style="color:rgb(0, 0, 0);">CXQDHZQRDLB</font> |
| 18 | 查询数电红字确认单明细 | <font style="color:rgb(0, 0, 0);">CXQDHZQRDMX</font> |
| 19 | 上传发票汇总确认信息 | <font style="color:rgb(0, 0, 0);">SCFPHZQRXX</font> |
| 20 | 查询发票汇总确认信息 | <font style="color:rgb(0, 0, 0);">CXFPHZQRXX</font> |
| 21 | <font style="color:#000000;">发票用途状态信息查询</font> | FPZTXXCX |


## （三）接口详情
### **<font style="color:#000000;">1.</font>**获取数电票批量预赋码信息
#### 1.1接口说明
向纳税人提供批量预赋码功能，用于企业给数电票自动赋发票号码。

企业使用开票前置判断企业发票库存低于“20%”阈值时，调用此接口申请预分配置新号码段。

数电票号码前2位代表使用年份，禁止跨年度使用。例如：“22”开头的发票号码为2022年度的发票号码，只能在2022年使用，开票日期必须为2022年。企业在2022年开具的数电票，可以在跨年后继续上传，跨年后企业需要重新下载新一年度的数电票号码开具数电票。

企业每次获取数电票批量预赋码信息时，需要上传业务流水号，由“使用单位id”+“直连单位id”+“32位随机生成码”组成，若企业由于网络超时等原因没有收到获取结果，可以通过该业务流水号重新请求，重新请求时领用数量需要保持不变。

当企业完成跨省迁移后，不能再使用跨省迁移前下载的发票号码段，应当重新下载发票号码段，使用迁移后下载的发票号码段开具上传发票。

注意：每次最多申请5000份数电票。

#### 1.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 申领发票的纳税人识别号或统一社会信用代码 |
| 2 | lysl | 领用数量 | number | 10 | 是 | 申领数量最大值为：5000 |
| 3 | ywlsh | 业务流水号 | varchar | 100 | 是 | “使用单位id”+“直连单位id”+“32位随机生成数” |


#### 1.3请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>	"lysl": "领用数量",<br/>		"ywlsh": "业务流水号"<br/>} |
| --- |


#### 1.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | fpqshm | 发票起始号码 | varchar | 20 | 是 |  |
| 4 | fpzzhm | 发票终止号码 | varchar | 20 | 是 |  |
| 5 | lysl | 领用数量 | number | 10 | 是 |  |


#### 1.5返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"fpqshm": "发票起始号码",<br/>			"fpzzhm": "发票终止号码",<br/>			"lysl": "领用数量"<br/>		}<br/>}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 2.查询发票额度
#### 2.1接口说明
向纳税人提供发票额度查询功能，可查询企业当前在税务局端的发票额度信息，包括：暂停赋额标志、本月发票额度、可用剩余额度、已下载额度、已下载未使用额度、属期。

当纳税人为按需开票企业时，查询发票额度时，本月发票额度及剩余可用额度均为9999999999999999，但纳税人仍需正常下载发票额度进行开票使用，纳税人发票上传后剩余可用额度不变，仍为9999999999999999。

#### 2.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 申领发票的纳税人识别号或统一社会信用代码 |


#### 2.3请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码"<br/>} |
| --- |


#### 2.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | ztsxbz | 暂停赋额标志 | varchar | 2 | 是 | Y：暂停<br/>N：未暂停 |
| 4 | bysxed | 本月发票额度 | number | 18,2 | 是 | 本月总发票额度 |
| 5 | kysyed | 可用剩余额度 | number | 18,2 | 是 | 本月可用发票额度 |
| 6 | yxzed | 已下载额度 | number | 18,2 | 是 | 本月乐企1.5已下载的全部发票额度 |
| 7 | yxzwsyed | 已下载未使用额度 | number | 18,2 | 是 | 本月乐企1.5已下载的全部发票额度减已上传的开票日期为本月的发票的总金额 |
| 8 | sq | 属期 | varchar | 6 | 是 | 格式：yyyyMM |


#### 2.5返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"ztsxbz": "暂停赋额标志",<br/>			"bysxed": "本月发票额度",<br/>			"kysyed": "可用剩余额度",<br/>			"yxzed": "已下载额度",<br/>			"yxzwsyed": "已下载未使用额度",<br/>			"sq": "属期"<br/>		}<br/>}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 3.下载/退回发票额度
#### 3.1接口说明
向纳税人提供下载/退回发票额度功能，企业可通过接口从税务局端下载或退回发票额度。

1.下载发票额度

当企业本地的已下载未使用的发票额度小于需要开具的数电票的额度时，可通过此接口下载发票额度。

建议根据企业自身开票情况，对本地已下载未使用的发票额度设置阈值，当已下载未使用的发票额度小于设置的阈值时，自动触发下载发票额度操作。

2.退回发票额度

当企业需要在其他平台开具数电票，但是发票额度不足时，企业可通过此接口把下载到本地的发票额度退回至税务局端，以便企业在其他平台开具数电票时。

发票额度即开票额度，用于控制企业开具数电票的总额度，乐企1.5要求企业自行管理每月数电票的发票额度，以下情况禁止使用发票额度。

● 发票额度不在有效期内

● 跨月使用

● 开票总额度大于发票额度

企业每次下载/退回发票额度时，需要上传业务流水号，由“使用单位id”+“直连单位id”+“32位随机生成码”组成，若企业由于网络超时等原因没有收到发票额度下载/退回结果，可以通过该业务流水号重新获取，使用相同业务流水号申请下载/退回发票额度时申请类型与申请额度需要相同。

#### 3.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 申领发票的纳税人识别号或统一社会信用代码 |
| 2 | ptbh | 平台编号 | varchar | 20 | 是 |  |
| 3 | sqlx | 申请类型 | varchar | 2 | 是 | 0：下载<br/>1：退回 |
| 4 | sqed | 申请额度 | number | 20,2 | 是 |  |
| 5 | ywlsh | 业务流水号 | varchar | 100 | 是 | “使用单位id”+“直连单位id”+“32位随机生成数” |


#### 3.3请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>	"ptbh": "平台编号",<br/>	"sqlx": "申请类型",<br/>	"sqed": "申请额度",<br/>		"ywlsh": "业务流水号"<br/>} |
| --- |


#### 3.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | syqjq | 发票额度使用区间起 | date |  | 否 | 下载发票额度时，有此节点<br/>数电票开票日期在发票额度使用区间（含）时才可以使用.格式：yyyymmdd |
| 4 | syqjz | 发票额度使用区间止 | date |  | 否 | 下载发票额度时，有此节点<br/>数电票开票日期在发票额度使用区间（含）时才可以使用.格式：yyyymmdd |


#### 3.5返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"syqjq": "发票额度使用区间起",<br/>			"syqjz": "发票额度使用区间止"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 4.调整发票额度有效期
#### 4.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | xsfnsrsbh | 统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| 2 | sxedsq | 发票额度属期 | varchar | 7 | 是 | 格式：yyyy-MM |


#### 4.1接口说明
给企业提供调整发票额度有效期接口，企业在月初未申报时下载的发票额度的有效期止为当月申报截止日期，超过发票额度有效期止后，无法开具数电票，企业在完成申报或到达发票额度有效期止后，通过此接口调整发票额度有效期，并根据税局端返回的有效期更新本地发票额度有效期。

#### 4.3请求报文示例
| {<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"sxedsq": "发票额度属期"<br/>} |
| --- |


#### 4.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | sxedsq | 发票额度属期 | varchar | 7 | 是 | 格式：yyyy-MM |
| 4 | syqjq | 发票额度使用区间起 | date |  | 否 | 下载发票额度时，有此节点<br/>数电票开票日期在发票额度使用区间（含）时才可以使用.格式：yyyymmdd |
| 5 | syqjz | 发票额度使用区间止 | date |  | 否 | 下载发票额度时，有此节点<br/>数电票开票日期在发票额度使用区间（含）时才可以使用.格式：yyyymmdd |


#### 4.5返回报文示例 
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>         "returncode": "00",<br/>         "returnmsg": "成功",<br/>          "sxedsq ": "发票额度属期",<br/>			"syqjq ": "发票额度使用区间起"<br/>          "syqjz ": "发票额度使用区间止"<br/>}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 5.查询纳税人风险信息
#### 5.1接口说明
向企业提供查询纳税人风险信息的功能，企业可将查询的风险信息保存在本地。在开票时自校验该接口获取的风险信息是否满足开具发票的条件，控制高风险企业操作涉税业务。建议企业每24小时通过调用该接口更新本地风险信息。

#### 5.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 开票纳税人识别号/统一社会信用代码 |


#### 5.3请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码"<br/>} |
| --- |


#### 5.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 |  |
| 4 | fxnsrlx | 风险纳税人类型 | varchar | 2 | 否 | 空：非风险纳税人<br/>01：Ⅰ类（高风险）纳税人<br/>02：Ⅱ类（中风险）纳税人<br/>03：Ⅲ类（低风险）纳税人<br/>04：Ⅳ类（无风险）纳税人 |
| 5 | nsrxydj | 纳税人信用等级 | varchar | 20 | 是 | A<br/>B<br/>C<br/>D<br/>M |
| 6 | nsryjjb | 纳税人预警级别 | varchar | 1 | 否 | 空：无预警<br/>01：红色预警<br/>02：黄色预警<br/>03：蓝色预警 |
| 7 | fxnsrbz | 风险纳税人标志 | varchar | 1 | 是 | Y：风险纳税人N：正常纳税人 |


#### 5.5返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>			"fxnsrlx": "风险纳税人类型",<br/>			"nsrxydj": "纳税人信用等级",<br/>			"nsryjjb": "纳税人预警级别",<br/>			"fxnsrbz": "风险纳税人标志"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 6.查询纳税人基本信息
#### 6.1接口说明
向企业提供查询纳税人基本信息的功能，企业可将查询的基本信息，包括生产经营信息、税务机关信息、企业性质、消费税性质等保存在本地。在开票时自校验该接口获取的纳税人基本信息是否满足开具发票的条件。

建议定时获取纳税人基本信息，或者在纳税人基本信息发生变更时手动触发更新。

#### 6.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 开票纳税人识别号/统一社会信用代码 |


#### 6.3请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码"<br/>} |
| --- |


#### 6.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 |  |
| 4 | djxh | 登记序号 | varchar | 20 | 否 |  |
| 5 | ssdabh | 税收档案编号 | varchar | 20 | 否 |  |
| 6 | nsrmc | 纳税人名称 | varchar | 300 | 是 |  |
| 7 | nsrlx | 纳税人类型标签 | varchar | 300 | 是 | 1：一般纳税人<br/>2：小规模纳税人<br/>3：转登记小规模纳税人<br/>4：辅导期一般纳税人<br/>5：自然人 |
| 8 | scjydz | 生产经营地址 | varchar | 300 | 是 |  |
| 9 | zcdyzbm | 注册地邮政编码 | varchar | 6 | 是 |  |
| 10 | zcdlxdh | 注册地联系电话 | varchar | 60 | 否 |  |
| 11 | fddbrxm | 法人名称(法定代表人姓名 | varchar | 150 | 是 |  |
| 12 | djzclxdm | 登记注册类型（国标） | varchar | 3 | 否 |  |
| 13 | hydm | 行业代码 | varchar | 4 | 是 | 主行业代码特定征收部门可空 |
| 14 | qxjswjgdm | 区县级税务机关代码 | varchar | 11 | 是 |  |
| 15 | zgswskfjdm | 税务机关代码 | varchar | 11 | 是 | 主管税务所科分局 |
| 16 | zgswskfjmc | 税务机关名称 | varchar | 300 | 是 | 主管税务所科分局 |
| 17 | cwfzrxm | 财务负责人姓名 | varchar | 150 | 是 |  |
| 18 | khhmc | 账户名称 | varchar | 300 | 是 |  |
| 19 | yhzh | 账号 | varchar | 50 | 否 | 首选账户账号 |
| 20 | bsrxm | 企业办税人员姓名 | varchar | 150 | 否 |  |
| 21 | xdpsdqybz | 数电票试点企业标识 | varchar | 20 | 是 | Y：数电票试点企业<br/>N：不是数电票试点企业 |
| 22 | ckqyfldm | 出口企业分类 | varchar | 20 | 是 | 空：非出口企业<br/>01：一类出口企业<br/>02：二类出口企业<br/>03：三类出口企业<br/>04：四类出口企业 |
| 23 | zfjglxdm | 总分机构类型 | varchar | 20 | 是 | 0：非总分机构 <br/>1：总机构<br/>2：分支机构 3：分总机构 |
| 24 | yhyywddm | 银行营业网点 | varchar | 13 | 否 |  |
| 25 | nsrztdm | 开票方纳税人状态 | varchar | 2 | 是 | 01：受理<br/>02：筹建期<br/>03：正常<br/>04：停业<br/>05：非正常<br/>06：清算<br/>07：注销<br/>08：非正常户注销<br/>09：报验<br/>10：核销报验<br/>11：中断缴费<br/>12：恢复缴费<br/>13：简易注销无异议<br/>99：其他 |
| 26 | yxqq | 纳税人类型标签有效期起 | date |  | 否 | 格式：<br/>yyyy-MM-dd |
| 27 | yxqz | 纳税人类型标签有效期止 | date |  | 否 | 格式：<br/>yyyy-MM-dd |
| 28 | qyhyxzdm | 企业行业性质 | varchar | 300 | 否 | 01：成品油生产企业 <br/>02：成品油经销企业 <br/>03：国内机动车生产企业 <br/>04：进口机动车生产企业驻我国办事机构或总授权代理机构 <br/>05：机动车授权经销企业 <br/>06：其他机动车贸易商 <br/>07：二手车市场 <br/>08：二手车经销企业<br/>09：二手车拍卖企业 <br/>10：稀土矿产企业 <br/>11：稀土冶炼分离企业 <br/>12：稀土其他企业<br/>13：稀土矿产企业、稀土冶炼分离企业、稀土其他企业<br/>14：稀土矿产企业、稀土冶炼分离企业 15：稀土矿产企业、稀土其他企业 <br/>16：稀土冶炼分离企业、稀土其他企业 <br/>17：卷烟生产企业<br/>18：卷烟批发企业<br/>19：卷烟出口企业 <br/>20：生产型出口企业 <br/>21：外贸型出口企业<br/>22：外贸综合服务企业<br/>23：自贸区试点企业<br/>24：特殊监管区内企业 <br/>25：增值税一般纳税人资格试点<br/>26：市场采购试点<br/>27：退税商店<br/>28：电子商务出口企业<br/>29：享受出口退税政策的融资租赁企业 <br/>30：增值税零税率应税服务提供者<br/>31：房地产开发企业 <br/>32：农产品深加工企业<br/>33：外购石脑油、燃料油用于消费税退税企业 <br/>34：从事机动车进口的其他贸易商<br/>35：自产农产品者 <br/>36：农产品收购企业 <br/>37：光伏收购企业 <br/>38：住房租赁企业 <br/>39：冬奥会退税企业 |
| 29 | xfsnsrlxdm | 消费税纳税人类型 | varchar | 20 | 否 | 01：卷烟生产消费税纳税人 <br/>02：卷烟批发消费税纳税人 <br/>03：白酒生产消费税纳税人 <br/>04：黄酒生产消费税纳税人 <br/>05：啤酒生产消费税纳税人 <br/>06：其他酒生产消费税纳税人 <br/>07：小汽车生产消费税纳税人 <br/>08：超豪华小汽车消费税纳税人 <br/>09：汽油生产消费税纳税人 <br/>10：石脑油生产消费税纳税人 <br/>11：溶剂油生产消费税纳税人 <br/>12：润滑油生产消费税纳税人 <br/>13：柴油生产消费税纳税人 <br/>14：航空煤油生产消费税纳税人 <br/>15：燃料油生产消费税纳税人<br/>16：电池生产消费税纳税人 <br/>17：涂料生产消费税纳税人 <br/>18：高档化妆品生产消费税纳税人<br/>19：金银首饰铂金首饰和钻石及钻石饰品零售消费税纳税人<br/>20：其他贵重首饰和珠宝玉石生产消费税纳税人<br/>21：鞭炮焰火生产消费税纳税人 <br/>22：摩托车生产消费税纳税人 <br/>23：高尔夫球及球具生产消费税纳税人 <br/>24：高档手表生产消费税纳税人 <br/>25：游艇生产消费税纳税人 <br/>26：木制一次性筷子生产消费税纳税人 <br/>27：实木地板生产消费税纳税人 <br/>28：雪茄烟生产消费税纳税人 <br/>29：烟丝生产消费税纳税人 |


#### 6.5返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>          "returncode": "00",<br/>          "returnmsg": "成功",<br/>			"jcxx": {<br/>				"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>				"djxh": "登记序号",<br/>				"ssdabh": "税收档案编号",<br/>				"nsrmc": "纳税人名称",<br/>				"nsrlx": "纳税人类型",<br/>				"scjydz": "生产经营地址",<br/>				"zcdyzbm": "注册地邮政编码",<br/>				"zcdlxdh": "注册地联系电话",<br/>				"fddbrxm": "法人名称(法定代表人姓名",<br/>				"djzclxdm": "登记注册类型（国标）",<br/>				"hydm": "行业代码",<br/>				"qxjswjgdm": "区县级税务机关代码",<br/>				"zgswskfjdm": "税务机关代码",<br/>				"zgswskfjmc": "税务机关名称",<br/>				"cwfzrxm": "财务负责人姓名",<br/>				"khhmc": "账户名称",<br/>				"yhzh": "账号",<br/>				"bsrxm": "企业办税人员姓名",<br/>				"xdpsdqybz": "数电票试点企业标识",<br/>				"ckqyfldm": "出口企业分类",<br/>				"zfjglxdm": "总分机构类型",<br/>				"yhyywddm": "银行营业网点",<br/>				"nsrztdm": "开票方纳税人状态",<br/>				"yxqq": "有效期起",<br/>				"yxqz": "有效期止"<br/>			},<br/>			"qyhyxzGrid": [<br/>				{<br/>						"qyhyxzdm": "企业行业性质",<br/>						"yxqq": "有效期起",<br/>						"yxqz": "有效期止"<br/>				}<br/>			],<br/>			"xfsnsrlxGrid": [<br/>				{<br/>						"xfsnsrlxdm": "消费税纳税人类型",<br/>						"yxqq": "有效期起",<br/>						"yxqz": "有效期止"<br/>				}<br/>			]<br/>		}<br/>}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 7.查询可用税率信息
#### 7.1接口说明
向企业提供查询可用税率信息的功能，企业可将查询的基本信息保存在本地。在开票时选择保存在本地的可用税率。

建议定时获取可用税率。

#### 7.2请求参数
无

#### 7.3请求报文示例
| {} |
| --- |


#### 7.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | count | 总数量 | number | 10 | 是 |  |
| 4 | csxz | 参数性质 | varchar | 2 | 是 | 1：税率<br/>2：征收率 |
| 5 | slzsl | 税率征收率 | number | 16,6 | 是 |  |
| 6 | yslbz | 原税率标志 | varchar | 1 | 是 | Y：是原税率<br/>N：非原税率 |
| 7 | dyysl | 对应原税率 | varchar | 150 | 否 | 百分比形式、逗号连接 |
| 8 | cszt | 参数状态 | varchar | 1 | 是 | 0：启用<br/>1：停用 |
| 9 | yxqq | 有效期起 | date |  | 是 | 时间格式：<br/>yyyy-MM-dd |
| 10 | yxqz | 有效期止 | date |  | 否 | 时间格式：<br/>yyyy-MM-dd |
| 11 | tyrq | 停用日期 | date |  | 否 | 时间格式：<br/>yyyy-MM-dd |


#### 7.5返回报文示例
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"count": "总数量",<br/>			"slzslList": [<br/>				{<br/>					"csxz": "参数性质",<br/>					"slzsl": "税率征收率",<br/>					"yslbz": "原税率标志",<br/>					"dyysl": "对应原税率",<br/>					"cszt": "参数状态",<br/>					"yxqq": "有效期起",<br/>					"yxqz": "有效期止",<br/>					"tyrq": "停用日期"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 8.查询税收分类编码信息
#### 8.1接口说明
向企业提供查询商品税收分类编码信息的功能，企业可将查询的编码信息保存在本地。在开票时选择保存在本地的税收分类编码。

建议定时获取税收分类编码。

针对不同的税收分类编码维护了可使用增值税特殊管理内容，即可使用的优惠政策，纳税人在开具数电票时可以根据选择的税收分类编码选择适用的优惠政策，享受税收减免政策。

增值税特殊管理共分为18类，分别是“简易征收”“稀土产品”“免税”“不征税”“先征后退”“100%先征后退”“50%先征后退”“按3%简易征收”“按5%简易征收”“按5%简易征收减按1.5%计征”“即征即退30%”“即征即退50%”“即征即退70%”“即征即退100%”“超税负3%即征即退”“超税负8%即征即退”“超税负12%即征即退”“超税负6%即征即退”。

在开具数电票条件时，根据需求选择符合的优惠政策代码和税率，包括：

优惠政策选择“简易征收”，发票明细“优惠政策标识”项填写“01”，税率限制为3%或5%；

优惠政策选择“稀土产品”，发票明细“优惠政策标识”项填写“02”，“税率”栏次正常填写适用税率；

优惠政策选择“免税”，发票明细“优惠政策标识”项填写“03”，选择免税后，税率为0；

优惠政策选择“不征税”，发票明细“优惠政策标识”项填写“04”，选择不征税后，税率为0，该优惠政策不能与其他优惠政策混开，但选择不征税的编码为“6130000000000000000 代收民航发展基金”时，支持与选择任何优惠政策标识的“3010301010100000000 国内航空旅客运输服务”编码混开；选择不征税的编码为“6110000000000000000不征税自来水”时，支持与选择任何优惠政策标识的税收分类编码混开；

优惠政策选择“先征后退”，发票明细“优惠政策标识”项填写“05”，在发票明细的“税率”栏次填写适用税率；

优惠政策选择“100%先征后退”，发票明细“优惠政策标识”项填写“06”，在发票明细的“税率”栏次填写适用税率；

优惠政策选择“50%先征后退”，发票明细“优惠政策标识”项填写“07”，在发票明细的“税率”栏次填写适用税率；

优惠政策选择“按3%简易征收”，发票明细“优惠政策标识”项填写“08”，“税率”栏次限制为3%；

优惠政策选择“按5%简易征收”，发票明细“优惠政策标识”项填写“09”，“税率”栏次限制为5%；

优惠政策选择“按5%简易征收减按1.5%计征”，发票明细“优惠政策标识”项填写“10”，“税率”栏次限制为1.5%，该优惠政策不能与其他优惠政策混开，仅限不动产经营租赁能力可用；

优惠政策选择“即征即退30%”，发票明细“优惠政策标识”项填写“11”，“税率”栏次正常填写适用税率；

优惠政策选择“即征即退50%”，发票明细“优惠政策标识”项填写“12”，“税率”栏次正常填写适用税率；

优惠政策选择“即征即退70%”，发票明细“优惠政策标识”项填写“13”，“税率”栏次正常填写适用税率；

优惠政策选择“即征即退100%”，发票明细“优惠政策标识”项填写“14”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负3%即征即退”，发票明细“优惠政策标识”项填写“15”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负8%即征即退”，发票明细“优惠政策标识”项填写“16”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负12%即征即退”，发票明细“优惠政策标识”项填写“17”，“税率”栏次正常填写适用税率；

优惠政策选择“超税负6%即征即退”，发票明细“优惠政策标识”项填写“18”，“税率”栏次正常填写适用税率。

#### 8.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 开票纳税人识别号/统一社会信用代码 |
| 2 | sjc | 时间戳 | date |  | 否 | 格式：yyyyMMddHHmmss<br/>首次下载时为空；<br/>非首次下载时，传入上次下载返回的时间戳.格式：yyyyMMddHHmmss |
| 3 | sjswjgdm | 省级税务机关代码 | varchar | 11 | 否 |  |


#### 8.3请求报文示例
| {<br/>"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>"sjc": "时间戳",<br/>"sjswjgdm": "省级税务机关代码"<br/>} |
| --- |


#### 8.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | sjc | 时间戳 | date |  | 是 | 格式：<br/>yyyyMMddHHmmss<br/>用于增量下载 |
| 4 | count | 总数量 | number | 10 | 是 |  |
| 5 | fjbm | 父级编码 | varchar | 19 | 是 |  |
| 6 | sphfwssflhbbm | 商品和服务税收分类合并编码 | varchar | 19 | 是 |  |
| 7 | tdyslxdm | 特定要素标签归类 | varchar | 2 | 否 | 01：成品油<br/>02：稀土<br/>03：建筑服务<br/>04：货物运输<br/>05：不动产销售<br/>06：不动产租赁<br/>07：代收车船使用税<br/>08：通行费<br/>09：旅客运输<br/>10：医疗服务<br/>11：农产品<br/>12：拖拉机和联合收割机<br/>13：机动车<br/>14：光伏收购<br/>15：卷烟 |
| 8 | cezs | 差额征税 | varchar | 1 | 否 | Y：是<br/>N：否 |
| 9 | bzs | 不征税 | varchar | 1 | 否 | Y：是<br/>N：否 |
| 10 | jzjtdm | 即征即退代码集合 | varchar | 150 | 否 | 01：增值税即征即退-软件产品<br/>02：增值税即征即退-资源综合利用产品<br/>03：增值税即征即退-管道运输服务<br/>04：增值税即征即退-有形动产融资租赁服务<br/>05：增值税即征即退-有形动产融资性售后回租服务<br/>06：增值税即征即退-新型墙体材料<br/>07：增值税即征即退-风力发电产品<br/>08：增值税即征即退-光伏发电产品<br/>09：增值税即征即退-动漫软件产品<br/>10：增值税即征即退-飞机维修劳务<br/>11：增值税即征即退-黄金<br/>12：增值税即征即退-铂金 |
| 11 | sphfwmc | 商品和服务名称 | varchar | 150 | 是 |  |
| 12 | sphfwfljc | 商品和服务分类简称 | varchar | 120 | 是 |  |
| 13 | sm | 说明 | varchar |  | 否 |  |
| 14 | zzssl | 增值税税率 | varchar | 50 | 否 | <br/>取值返回是中文顿号连接的百分数。例如3%、5% |
| 15 | zsl | 征收率 | varchar | 50 | 否 | <br/>取值返回是中文顿号连接的百分数。例如3%、5% |
| 16 | zzstsgl | 增值税特殊管理 | varchar | 150 | 否 |  |
| 17 | zzszcyj | 增值税政策依据 | varchar | 300 | 否 |  |
| 18 | zzstsnrdm(zzsjmszcdmb) | 增值税特殊内容代码（增值税减免税政策代码表） | varchar | 300 | 否 |  |
| 19 | xfsgl | 消费税管理 | varchar | 150 | 否 |  |
| 20 | xfszcyj | 消费税政策依据 | varchar | 300 | 否 |  |
| 21 | xfstsnrdm | 消费税特殊内容代码 | varchar | 300 | 否 |  |
| 22 | gjz | 关键字 | mediumtext |  | 否 |  |
| 23 | sfhzx | 是否汇总项 | varchar | 1 | 是 | Y：是<br/>N：否 |
| 24 | dytjjbm | 对应统计局编码（2011年版）或国民行业代码 | mediumtext |  | 否 |  |
| 25 | hgjcksppm | 海关进出口商品品目 | mediumtext |  | 否 |  |
| 26 | qyrq | 启用日期 | date |  | 是 | 格式：<br/>yyyy-MM-dd |
| 27 | tyrq | 停用日期 | date |  | 否 | 格式：<br/>yyyy-MM-dd |
| 28 | hydm | 行业代码 | varchar | 4 | 否 | 主行业代码特定征收部门可空 |
| 29 | dydhy | 对应的行业 | varchar | 68 | 否 |  |
| 30 | hydydzspm1 | 行业对应的征收品目一 | varchar | 9 | 否 |  |
| 31 | hydydzsmc1 | 行业对应的征收名称一 | varchar | 210 | 否 |  |
| 32 | hydydzspm2 | 行业对应的征收品目二 | varchar | 9 | 否 |  |
| 33 | hydydzsmc2 | 行业对应的征收名称二 | varchar | 210 | 否 |  |


#### 8.5返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>		"returncode": "00",<br/>		"returnmsg": "成功",<br/>			"sjc": "时间戳",<br/>			"count": "总数量",<br/>			"ssbmList": [<br/>				{<br/>				   "fjbm": "父级编码",<br/>				   "sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>					"tdyslxdm": "特定要素标签归类",<br/>					"cezs": "差额征税",<br/>					"bzs": "不征税",<br/>					"jzjtdm": "即征即退代码集合",<br/>					"sphfwmc": "商品和服务名称",<br/>					"sphfwfljc": "商品和服务分类简称",<br/>					"sm": "说明",<br/>					"zzssl": "增值税税率",<br/>					"zsl": "征收率",<br/>					"zzstsgl": "增值税特殊管理",<br/>					"zzszcyj": "增值税政策依据",<br/>					"zzstsnrdm": "增值税特殊内容代码（增值税减免税政策代码表）",<br/>					"xfsgl": "消费税管理",<br/>					"xfszcyj": "消费税政策依据",<br/>					"xfstsnrdm": "消费税特殊内容代码",<br/>					"gjz": "关键字",<br/>					"sfhzx": "是否汇总项",<br/>					"dytjjbm": "对应统计局编码（2011年版）或国民行业代码",<br/>					"hgjcksppm": "海关进出口商品品目",<br/>					"qyrq": "启用日期",<br/>					"tyrq": "停用日期",			<br/>					"zspmList": [<br/>						{<br/>	                     "hydm": "行业代码",<br/>							"dydhy": "对应的行业",<br/>							"hydydzspm1": "行业对应的征收品目一",<br/>							"hydydzsmc1": "行业对应的征收名称一",<br/>							"hydydzspm2": "行业对应的征收品目二",<br/>							"hydydzsmc2": "行业对应的征收名称二"<br/>						}<br/>					]<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 9.自然人卖方限制名单阻断查询
#### 9.1接口说明
当二手车销售统一发票卖方为自然人时，当自然人在自然人限制名单内，则不支持为该自然人开具二手车销售统一发票。

#### 9.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | xsfmc | 销售方名称 | varchar | 300 | 是 |  |
| 2 | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |


#### 9.3请求报文示例
| {<br/>	"xsfmc": "销售方名称 ",<br/>	"xsfnsrsbh": "销售方纳税人识别号"<br/>} |
| --- |


#### 9.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | zdbz | 阻断标志 | varchar | 1 | 否 | Y：阻断开票<br/>N：不阻断开票 |


#### 9.5返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"zdbz": "阻断标志"<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 10.可换开二手车销售统一发票批量查询
#### 10.1接口说明
当企业开具“二手车”特定要素发票用于换开二手车销售统一发票时，需确认二手车销售统一发票未被换开，提供此接口给纳税人查询可以用于换开的二手车销售统一发票，开票起止时间最大跨度为6个月。

#### 10.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | xsfsfzjhm | 销售方身份证件号码 | varchar | 20 | 是 |  |
| 2 | gmfnsrsbh | 购买方纳税人识别号 | varchar | 20 | 否 |  |
| 3 | tdyslxDm | 特定要素类型代码 | varchar | 2 | 是 | 15:二手车 <br/>（仅二手车经销企业可以查询） |
| 4 | kpqsrq | 开票起始日期 | datetime | - | 是 | yyyy-MM-dd HH:mm:ss |
| 5 | kpzzrq | 开票终止日期 | datetime | -- | 是 | yyyy-MM-dd HH:mm:ss |
| 6 | pageNumber | 页码 | Number | 4 | 是 |  |
| 7 | pageSize | 每页数量 | Number | 4 | 是 |  |


#### 10.3请求报文示例
| {<br/>	"xsfsfzjhm": "销售方身份证件号码",<br/>	"gmfnsrsbh": "购买方纳税人识别号",<br/>	"tdyslxDm": "特定要素类型代码",<br/>	"kpqsrq": "开票起始日期",<br/>	"kpzzrq": "开票终止日期",<br/>	"pageNumber": "页码",<br/>	"pageSize": "每页数量"<br/>} |
| --- |


#### 10.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | total | 总数量 | varchar | 4 | 是 | 如果无符合条件的二手车销售统一发票，返回0 |
| 4 | pageNumber | 页码 | Number | 4 | 是 |  |
| 二手车销售统一发票列表 | | | | | | |
| 1 | cjhj | 车价合计 | number | 18,2 | 否 |  |
| 2 | escfphkztDm | 二手车发票换开状态代码 | varchar | 1 | 否 | 1:统一发票已开具 |
| 3 | escxstyfphm | 二手车销售统一发票号码 | varchar | 20 | 否 |  |
| 4 | escxstyfpkpqyhyxzDm | 二手车销售统一发票开票企业行业性质代码 | varchar | 2 | 否 | 07：二手车市场 <br/>08：二手经销企业 <br/>09：二手车拍卖企业 |
| 5 | escxstyfpkprq | 二手车销售统一发票开票日期 | datetime | - | 否 |  |
| 6 | escxstyfpzxkpbz | 二手车销售统一发票正向开票标识  | varchar | 1 | 否 | Y：正向开票 <br/>N：反向开票 |
| 7 | escxstyzzfpDm | 二手车销售统一纸质发票代码 | varchar | 12 | 否 |  |
| 8 | escxstyzzfphm | 二手车销售统一纸质发票号码 | varchar | 20 | 否 |  |
| 9 | clsbdh | 车辆识别代号 | varchar | 23 | 否 |  |


#### 10.5返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"total": "总数量",<br/>				"pageNumber": "页码",<br/>			"escxstyfpList": [{<br/>					"cjhj": "车价合计",<br/>					"escfphkztDm": "二手车发票换开状态代码",<br/>					"escxstyfphm": "二手车销售统一发票号码",<br/>					"escxstyfpkpqyhyxzDm": "二手车销售统一发票开票企业行业性质代码",<br/>					"escxstyfpkprq": "二手车销售统一发票开票日期",<br/>					"escxstyfpzxkpbz": "二手车销售统一发票正向开票标识 ",<br/>					"escxstyzzfpDm": "二手车销售统一纸质发票代码",<br/>					"escxstyzzfphm": "二手车销售统一纸质发票号码",<br/>					"clsbdh": "车辆识别代号"<br/>				}]<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 11.二手车销售统一发票换开信息单笔查询
#### 11.1接口说明
当企业开具“二手车”特定要素发票用于换开二手车销售统一发票时，可通过此接口使用发票号码查询单笔二手车销售统一发票换开信息，判断该二手车销售统一发票是否可以用于换开。

#### 11.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | escxstyfphm | 二手车销售统一发票号码 | varchar | 20 | 是 |  |
| 2 | tdyslxDm | 特定要素类型代码 | varchar | 2 | 是 | 15二手车 |
| 3 | xsfsfzjhm | 销售方身份证件号码 | varchar | 20 | 是 |  |


#### 11.3请求报文示例
| {<br/>	"escxstyfphm": "二手车销售统一发票号码",<br/>	"tdyslxDm": "特定要素类型代码",<br/>	"xsfsfzjhm": "销售方身份证件号码"<br/>} |
| --- |


#### 11.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 二手车销售统一发票信息 | | | | | | |
| 1 | cjhj | 车价合计 | number | 18,2 | 否 |  |
| 2 |       escfphkztDm | 二手车发票换开状态代码 | varchar | 1 | 否 | 1:统一发票已开具<br/> 2:专票换开预申请 <br/>3:专票已换开成功 <br/>4:统一发票红票已开具 <br/>5:统一发票已作废 |
| 3 | escxstyfphm | 二手车销售统一发票号码 | varchar | 20 | 否 |  |
| 4 | escxstyfpkpqyhyxzDm | 二手车销售统一发票开票企业行业性质代码 | varchar | 2 | 否 | 07：二手车市场 <br/>08：二手经销企业 <br/>09：二手车拍卖企业 |
| 5 | escxstyfpkprq | 二手车销售统一发票开票日期 | datetime | - | 否 |  |
| 6 | escxstyfpzxkpbz | 二手车销售统一发票正向开票标识  | varchar | 1 | 否 | Y：正向开票 <br/>N：反向开票 |
| 7 | escxstyzzfpDm | 二手车销售统一纸质发票代码 | varchar | 12 | 否 |  |
| 8 | escxstyzzfphm | 二手车销售统一纸质发票号码 | varchar | 20 | 否 |  |
| 9 | fphm | 发票号码 | varchar | 20 | 否 |  |
| 10 | fplxDm | 发票类型代码 | varchar | 2 | 否 |  |
| 11 | gmfmc | 购买方名称 | varchar | 300 | 否 |  |
| 12 | gmfsfzjhm | 购买方身份证件号码 | varchar | 20 | 否 |  |
| 13 | jdcclsbdh | 车辆识别代号 | varchar | 23 | 否 |  |
| 14 | kpfnsrsbh | 开票方纳税人识别号 | varchar | 20 | 否 |  |
| 15 | kprq | 开票日期 | varchar |  | 否 |  |
| 16 | tdyslxDm | 特定要素类型代码 | varchar | 2 | 否 |  |
| 17 | xsfsfzjhm | 销售方纳税人识别号 | varchar | 20 | 否 |  |
| 18 | zzfpDm | 纸质发票代码 | varchar | 12 | 否 |  |
| 19 | zzfphm | 纸质发票号码 | varchar | 20 | 否 |  |


#### 11.5返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"cjhj": "车价合计",<br/>			"escfphkztDm": "二手车发票换开状态代码",<br/>			"escxstyfphm": "二手车销售统一发票号码",<br/>			"escxstyfpkpqyhyxzDm": "二手车销售统一发票开票企业行业性质代码",<br/>			"escxstyfpkprq": "二手车销售统一发票开票日期",<br/>			"escxstyfpzxkpbz": "二手车销售统一发票正向开票标识 ",<br/>			"escxstyzzfpDm": "二手车销售统一纸质发票代码",<br/>			"escxstyzzfphm": "二手车销售统一纸质发票号码",<br/>			"fphm": "发票号码",<br/>			"fplxDm": "发票类型代码",<br/>			"gmfmc": "购买方名称",<br/>			"gmfsfzjhm": "购买方身份证件号码",<br/>			"jdcclsbdh": "车辆识别代号",<br/>			"kpfnsrsbh": "开票方纳税人识别号",<br/>			"kprq": "开票日期",<br/>			"tdyslxDm": "特定要素类型代码",<br/>			"xsfsfzjhm": "销售方纳税人识别号",<br/>			"zzfpDm": "纸质发票代码",<br/>			"zzfphm	": "纸质发票号码"<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 12.二手车销售统一发票上传
#### 12.1接口说明
给企业提供上传预开具的二手车销售统一发票功能，上传成功后给企业返回信息。

税务局端接收到企业上传的二手车销售统一发票后，依次校验企业是具备开票条件、发票信息是否合规、是否超过发票额度、数电票号码是否合法、发票是否属于直连单位，当校验不通过时，不接收企业上传的二手车发票，返回具体错误信息。每次上传最大票量为100张数电票。

#### 12.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | lzfpbz | 蓝字发票标志 | varchar | 1 | 是 | 0：蓝字发票<br/>1：红字发票 |
| 2 | fphm | 发票号码 | varchar | 20 | 是 | 20位并符合编码规则 |
| 3 | ptbh | 平台编号 | varchar | 20 | 是 | 直连单位ID |
| 4 | fppz | 发票票种 | varchar | 2 | 是 | 04:二手车销售统一发票 |
| 5 | kprq | 开票日期 | date | - | 是 | 日期格式：yyyy-MM-dd HH:mm:ss；不能超过当前系统时间 |
| 6 | kpr | 开票人 | varchar | 20 | 是 |  |
| 7 | kprzjhm | 开票人证件号码 | varchar | 30 | 否 | 他用、联用（无控制关系）时必填且必须与备案的开票人信息一致。 |
| 8 | kprzjlx | 开票人证件类型 | varchar | 4 | 否 | 他用、联用（无控制关系）时必填且必须与备案的开票人信息一致。 |
| 9 | qyDm | 区域代码 | varchar | 20 | 是 |  |
| 10 | ysxwfsd | 应税行为发生地 | varchar | 11 | 否 |  |
| 11 | kpqykphyxz | 开票企业开票行业性质 | char | 2 | 是 | 07：二手车市场<br/>08：二手车经销企业<br/>09：二手车拍卖企业 |
| 12 | kpqynsrsbh | 开票企业纳税人识别号 | varchar | 20 | 是 |  |
| 13 | kpqynsrmc | 开票企业纳税人名称 | varchar | 80 | 是 |  |
| 14 | kpqylxdz | 开票企业联系地址 | varchar | 80 | 是 |  |
| 15 | kpqykhh | 开票企业开户行 | varchar | 120 | 是 |  |
| 16 | kpqyyhzh | 开票企业银行账号 | varchar | 50 | 是 |  |
| 17 | kpqylxdh | 开票企业联系电话 | varchar | 20 | 是 |  |
| 18 | tdys | 特定要素 | char | 2 | 是 | 51：正常开具<br/>52：反向开具 |
| 19 | gmfzrrbz | 购买方自然人标志 | char | 1 | 是 | Y：是，N：否<br/>反向开具时必须为N |
| 20 | gmfmc | 买方单位/个人名称 | varchar | 300 | 是 |  |
| 21 | gmfnsrsbh | 购买方纳税人识别号 | varchar | 20 | 否 |  |
| 22 | zrrzjlxDm | （购买方）自然人证件类型 | varchar | 3 | 否 | 201:居民身份证；<br/>208：外国护照；<br/>210：港澳居民来往内地通行证;<br/>213：台湾居民来往大陆通行证;<br/>227：中国护照;<br/>233：外国人永久居留身份证;<br/>237：中华人民共和国港澳居民居住证;<br/>238：中华人民共和国台湾居民居住证；<br/>299：其他个人证件 |
| 23 | zrrzjhm | （购买方）自然人证件号码 | varchar | 30 | 否 |  |
| 24 | zrrgjDm | （购买方）自然人国籍代码 | varchar | 3 | 否 |  |
| 25 | gmfdz | 买方单位/个人住址 | varchar | 80 | 是 |  |
| 26 | gmfdh | 买方单位/个人电话 | varchar | 20 | 是 |  |
| 27 | xsfzrrbz | 销售方自然人标志 | char | 1 | 是 | Y：是，N：否<br/>反向开具时必须为Y |
| 28 | xsfmc | 卖方（销售方）单位/个人名称 | varchar | 300 | 是 |  |
| 29 | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 否 |  |
| 30 | xsfzrrzjlxDm | 销售方自然人证件类型 | varchar | 3 | 否 | 201:居民身份证；<br/>208：外国护照；<br/>210：港澳居民来往内地通行证;<br/>213：台湾居民来往大陆通行证;<br/>227：中国护照;<br/>233：外国人永久居留身份证;<br/>237：中华人民共和国港澳居民居住证;<br/>238：中华人民共和国台湾居民居住证；<br/>299：其他个人证件。 |
| 31 | xsfzrrzjhm | 销售方自然人证件号码 | varchar | 30 | 否 |  |
| 32 | xsfzrrgjDm | 销售方自然人国籍代码 | varchar | 3 | 否 |  |
| 33 | xsfdz | 卖方（销售方）单位/个人住址 | varchar | 80 | 是 |  |
| 34 | xsfdh | 卖方（销售方）单位/个人电话 | varchar | 20 | 是 |  |
| 35 | fpkjfsDm | 发票开具方式代码 | varchar | 1 | 是 | 4：第三方平台开票（乐企联用、他用开票）<br/>5：自建平台开票（乐企自用开票） |
| 36 | cphm | 车牌号码 | varchar | 20 | 是 |  |
| 37 | djzh | 登记证号 | varchar | 20 | 是 |  |
| 38 | cllxDm | 车辆类型代码 | varchar | 5 | 是 | 01：载货汽车<br/>02：越野汽车<br/>03：自卸汽车<br/>04：牵引汽车<br/>05：专用汽车(特种结构、厢式、罐式汽车)<br/>06：客车<br/>07：轿车<br/>08：摩托车<br/>09：挂车<br/>10：农用车<br/>101：乘用车<br/>102：客车<br/>103：货车<br/>104：专用车<br/>11：电车<br/>201：普通摩托车<br/>202：轻便摩托车<br/>301：牵引杆挂车(全挂车)<br/>302：中置轴挂车<br/>303：半挂车<br/>401：有轨电车<br/>502：专用机械<br/>900：拖拉机<br/>99：其他 |
| 39 | sphfwssflhbbm | 商品和服务税收分类合并编码 | varchar | 19 | 是 |  |
| 40 | spfwjc | 商品服务简称 | varchar | 120 | 是 |  |
| 41 | xmmc | 项目名称 | varchar | 600 | 是 |  |
| 42 | hwhyslwfwmc | 货物或应税劳务、服务名称 | varchar | 300 | 是 | 拼装规则：“*商品服务简称（spfwjc）*”+“项目名称（xmmc）” |
| 43 | clsbdh | 车架识别代号 | varchar | 23 | 是 | 车辆识别代号与车架号同时存在时，填写车辆识别代号 |
| 44 | cpxh1 | 厂牌型号 | varchar | 60 | 是 |  |
| 45 | zrdclglsmc | 转入地车辆管理所名称 | varchar | 80 | 是 |  |
| 46 | cjhjxx | 车价合计小写 | number | 18,2 | 是 |  |
| 47 | bz | 备注 | varchar | 230 | 否 | 蓝票最长230位，其中可填写汉字115个，数字、字母、符号230个；红票最长162位，其中可填写汉字81个，数字、字母、符号162个 |
| 48 | dylzfphm | 对应蓝字发票号码 | varchar | 20 | 否 | 蓝票必须为空，红票必须有值，税控发票填写发票代码+发票号码的拼接值（填写规则） |
| 49 | hzqrxxdbh | 红字确认信息单编号 | varchar | 20 | 否 | 蓝票必须为空，红票必须有值 |
| 50 | hzqrduuid | 红字确认单uuid | varchar | 32 | 否 | 蓝票必须为空，红票必须有值 |
| 51 | ip | 服务器地址 | varchar | 20 | 是 |  |
| 52 | macdz | mac地址 | char | 20 | 是 |  |
| 53 | cpuid | CPU序列号 | char | 20 | 否 |  |
| 54 | zbxlh | 主板序列号 | varchar | 20 | 否 |  |


#### 12.3请求报文示例
| [<br/>	{<br/>		"fphm": "发票号码",<br/>		"lzfpbz": "蓝字发票标志",<br/>		"ptbh": "平台编号",<br/>		"fppz": "发票票种",<br/>		"kprq": "开票日期",		<br/>		"kpr	": "开票人",<br/>		"kprzjhm": "开票人证件号码",<br/>		"kprzjlx": "开票人证件类型",<br/>		"qyDm": "区域代码",<br/>		"ysxwfsd": "应税行为发生地",<br/>		"kpqykphyxz": "开票企业开票行业性质",<br/>		"kpqynsrsbh": "开票企业纳税人识别号",<br/>		"kpqynsrmc": "开票企业纳税人名称",<br/>		"kpqylxdz": "开票企业联系地址",<br/>		"kpqykhh": "开票企业开户行",<br/>		"kpqyyhzh": "开票企业银行账号",<br/>		"kpqylxdh": "开票企业联系电话",<br/>		"tdys": "特定要素",<br/>		"gmfzrrbz": "购买方自然人标志",<br/>		"gmfmc": "买方单位/个人名称",<br/>		"gmfnsrsbh": "购买方纳税人识别号",<br/>		"zrrzjlxDm":"（购买方）自然人证件类型",<br/>		"zrrzjhm":"（购买方）自然人证件号码",<br/>		"zrrgjDm":"（购买方）自然人国籍代码",<br/>		"gmfdz": "买方单位/个人住址",<br/>		"gmfdh": "买方单位/个人电话",<br/>		"xsfzrrbz": "卖方（销售方）自然人标志",<br/>		"xsfmc": "卖方（销售方）单位/个人名称",<br/>		"xsfnsrsbh": "销售方纳税人识别号"，<br/>		"xsfzrrzjlxDm": "销售方自然人证件类型"，<br/>		"xsfzrrzjhm": "销售方自然人证件号码"，<br/>		"xsfzrrgjDm": "销售方自然人国籍代码"，<br/>		"xsfdz": "卖方（销售方）单位/个人住址",<br/>		"xsfdh": "卖方（销售方）单位/个人电话",<br/>		"fpkjfsDm": "发票开具方式代码",<br/>		"cphm": "车牌号码",<br/>		"djzh": "登记证号",<br/>		"cllxDm": "车辆类型代码",<br/>		"sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>		"spfwjc": "商品服务简称",		<br/>		"xmmc": "项目名称",<br/>		"hwhyslwfwmc": "货物或应税劳务、服务名称",<br/>		"clsbdh": "车架号/车辆识别代号",<br/>		"cpxh1": "厂牌型号",<br/>		"zrdclglsmc": "转入地车辆管理所名称",<br/>		"cjhjxx": "车价合计小写",<br/>		"bz": "备注",<br/>		"dylzfphm": "对应蓝字发票号码",<br/>		"hzqrxxdbh": "红字确认信息单编号",<br/>		"hzqrduuid": "红字确认单uuid",<br/>		"ip": "服务器地址",<br/>		"macdz": "mac地址",<br/>		"cpuid": "CPU序列号",<br/>		"zbxlh": "主板序列号"<br/>	}<br/>] |
| --- |


生产报文示例

| [<br/>    {<br/>        "fphm": "25447*********226245",<br/>        "lzfpbz": "0",<br/>        "ptbh": "5d2cff**********b7a3",<br/>        "fppz": "04",<br/>        "kprq": "2025-05-01 12:00:00",<br/>        "kpr": "罗**",<br/>        "kprzjhm": "440102********2314",<br/>        "kprzjlx": "201",<br/>        "qyDm": "14403000000",<br/>        "ysxwfsd": "北京市",<br/>        "kpqykphyxz": "08",<br/>        "kpqynsrsbh": "9144**********093N",<br/>        "kpqynsrmc": "广州********设计室",<br/>        "kpqylxdz": "北京市海淀区**********01室",<br/>        "kpqykhh": "中信银行*******支行",<br/>        "kpqyyhzh": "811070********00501",<br/>        "kpqylxdh": "155****0791",<br/>        "tdys": "51",<br/>        "gmfzrrbz": "N",<br/>        "gmfmc": "包头市******有限责任公司",<br/>        "gmfnsrsbh": "9115**********NK5H",<br/>        "zrrzjlxDm": "",<br/>        "zrrzjhm": "",<br/>        "zrrgjDm": "",<br/>        "gmfdz": "包头市********北路店",<br/>        "gmfdh": "155****0791",<br/>        "xsfzrrbz": "N",<br/>        "xsfmc": "广州********设计室",<br/>        "xsfnsrsbh": "9144**********093N",<br/>        "xsfzrrzjlxDm": "",<br/>        "xsfzrrzjhm": "",<br/>        "xsfzrrgjDm": "",<br/>        "xsfdz": "北京市海淀区**********01室",<br/>        "xsfdh": "155****0791",<br/>        "fpkjfsDm": "5",<br/>        "cphm": "ABCD1234",<br/>        "djzh": "10114401********8307",<br/>        "cllxDm": "01",<br/>        "sphfwssflhbbm": "109030503*********0",<br/>        "spfwjc": "机动车",<br/>        "xmmc": "载货汽车",<br/>        "hwhyslwfwmc": "*机动车*载货汽车",<br/>        "clsbdh": "CLSBDH******3272",<br/>        "cpxh1": "国产CPXH******2114",<br/>        "zrdclglsmc": "北京市海淀区***********车辆管理所",<br/>        "cjhjxx": "100.00",<br/>        "bz": "测试",<br/>        "dylzfphm": "",<br/>        "hzqrxxdbh": "",<br/>        "hzqrduuid": "",<br/>        "ip": "***.***.***.**",<br/>        "macdz": "SESFSD4666DSSSA",<br/>        "cpuid": "SESFSD4666DSSSA",<br/>        "zbxlh": "SESFSD4666DSSSA"<br/>    }<br/>] |
| --- |


#### 12.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | sllsh | 受理流水号 | String | 40 | 是 |  |


#### 12.5返回报文示例 
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"sllsh": "受理流水号"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 13.二手车类特定要素发票上传
#### 13.1接口说明
给企业提供上传预开具的二手车特定要素发票功能，上传成功后给企业返回信息。

税务局端接收到企业上传的二手车特定要素票后，依次校验企业是具备开票条件、发票信息是否合规、是否超过发票额度、数电票号码是否合法、发票是否属于直连单位，当校验不通过时，不接收企业上传的二手车发票，返回具体错误信息。每次上传最大票量为100张数电票。

#### 13.2请求参数
| 序号 | 数据项标识 | 数据项名称 | | 字段类型 | 长度 | 必须 | | 说明 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | lzfpbz | | 蓝字发票标志 | varchar | 1 | 是 | | 0：蓝字发票<br/>1：红字发票 |
| 2 | fphm | | 发票号码 | varchar | 20 | 是 | | 20位并符合编码规则 |
| 3 | ptbh | | 平台编号 | varchar | 20 | 是 | | 直连单位ID |
| 4 | fppz | | 发票票种 | varchar | 2 | 是 | | 01:增值税专用发票 |
| 5 | kprq | | 开票日期 | Datetime |  | 是 | | yyyy-MM-dd HH:mm:ss |
| 6 | kpr | | 开票人 | varchar | 20 | 是 | |  |
| 7 | kprzjlx | | 开票人证件类型 | varchar | 4 | 否 | |  |
| 8 | kprzjhm | | 开票人证件号码 | varchar | 30 | 否 | |  |
| 9 | qyDm | | 区域代码 | varchar | 20 | 是 | |  |
| 10 | gmfzrrbz | | 购买方自然人标志 | varchar | 1 | 是 | | N：购买方非自然人 |
| 11 | gmfnsrsbh | | 购买方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 | | 对应二手车销售统一发票的“买方单位代码/身份证号码” |
| 12 | gmfmc | | 购买方名称 | varchar | 300 | 是 | |  |
| 13 | gmfdz | | 购买方地址 | varchar | 300 | 是 | |  |
| 14 | gmfdh | | 购买方电话 | varchar | 60 | 是 | |  |
| 15 | gmfkhh | | 购买方开户行 | varchar | 120 | 否 | |  |
| 16 | gmfzh | | 购买方账号 | varchar | 50 | 否 | |  |
| 17 | gmfjbr | | 购买方经办人姓名 | varchar | 150 | 否 | |  |
| 18 | jbrsfzjhm | | 购买方经办人证件号码 | varchar | 30 | 否 | |  |
| 19 | gmfjbrlxdh | | 购买方经办人联系电话 | varchar | 60 | 否 | |  |
| 20 | sfzsgmfyhzhbq | | 是否展示购买方银行账号标签 | varchar | 1 | 否 | | Y:展示<br/>N:不展示 |
| 21 | xsfnsrsbh | | （销售方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 | |  |
| 22 | xsfmc | | (销售方)名称 | varchar | 300 | 是 | |  |
| 23 | xsfdz | | (销售方)地址 | varchar | 300 | 是 | |  |
| 24 | xsfdh | | (销售方)电话 | varchar | 60 | 是 | |  |
| 25 | xsfkhh | | (销售方)开户行 | varchar | 120 | 否 | |  |
| 26 | xsfzh | | (销售方)银行账号 | varchar | 50 | 否 | |  |
| 27 | sfzsxsfyhzhbq | | 是否展示销售方银行账号标签 | varchar | 1 | 否 | | Y:展示<br/>N:不展示 |
| 28 | tdys | | 特定要素 | varchar | 2 | 是 | | 15：二手车 |
| 29 | jazslxDm | | 减按征税类型代码 | varchar | 2 | 否 | | 54：前期已开具3%征收率的发票，发生销售折让、中止或者退回等情形需要开具3%征收率的红字发票，或者开票有误需要重新开具3%征收率的发票；<br/>55：因为实际经营业务需要，放弃享受减按1%征收率征收增值税政策。 |
| 30 | hjje | | 合计金额 | number | 18,2 | 是 | |  |
| 31 | hjse | | 合计税额 | number | 18,2 | | 是 |  |
| 32 | jshj | | 价税合计 | number | 18,2 | | 是 |  |
| 33 | bz | | 备注 | varchar | 450 | | 否 | 蓝票最长450位，红票最长382位。 |
| 34 | skrxm | | 收款人姓名 | varchar | 150 | | 否 |  |
| 35 | fhrxm | | 复核人姓名 | varchar | 75 | 否 | |  |
| 36 | fpkjfsDm | | 发票开具方式代码 | varchar | 1 | 是 | | 4：第三方平台开票（乐企联用、他用开票）<br/>5：自建平台开票（乐企自用开票） |
| 37 | skyhmc | | 收款银行名称 | varchar | 120 | 否 | |  |
| 38 | skyhzh | | 收款银行账号 | varchar | 100 | 否 | |  |
| 39 | jsfs | | 结算方式 | varchar | 2 | 否 | |  |
| 40 | ysxwfsd | | 应税行为发生地 | varchar | 11 | 否 | |  |
| 41 | ip | | 服务器地址 | varchar | 20 | 是 | |  |
| 42 | macdz | | mac地址 | char | 20 | 是 | |  |
| 43 | cpuid | | CPU序列号 | char | 20 | 否 | |  |
| 44 | zbxlh | | 主板序列号 | varchar | 20 | 否 | |  |
| 45 | mxxh | | 明细序号 | Number | 8 | 是 | | 必须为1 |
| 46 | dylzfpmxxh | | 对应蓝字发票明细序号 | Number | 8 | 否 | | 蓝字发票必须为空；<br/>红字发票必填且必须为1 |
| 47 | sphfwssflhbbm | | 商品和服务税收分类合并编码 | varchar | 19 | 是 | |  |
| 48 | spfwjc | | 商品服务简称 | varchar | 120 | 是 | |  |
| 49 | xmmc | | 项目名称 | varchar | 600 | 是 | |  |
| 50 | hwhyslwfwmc | | 货物或应税劳务、服务名称 | varchar | 300 | 是 | | “*商品服务简称*”+“项目名称” |
| 51 | ggxh | | 规格型号 | varchar | 150 | 是 | |  |
| 52 | dw | | 单位 | varchar | 300 | 是 | | 固定为“辆” |
| 53 | sl | | 数量 | varchar | 25 | 是 | | 蓝字发票固定为“1” |
| 54 | dj | | 单价 | varchar | 25 | 是 | |  |
| 55 | je | | 金额 | number | 18,2 | 是 | |  |
| 56 | slv | | 增值税税率/征收率 | number | 16,6 | 是 | |  |
| 57 | se | | 税额 | number | 18,2 | 是 | |  |
| 58 | hsje | | 含税金额 | number | 18,2 | 是 | |  |
| 59 | yhzcbs | | 优惠政策标识 | varchar | 2 | 否 | |  |
| 60 | fjysmc | | 附加要素名称 | varchar | 200 | 否 | |  |
| 61 | fjyslx | | 附加要素类型 | varchar | 200 | 否 | |  |
| 62 | fjysz | | 附加要素值 | varchar | 200 | 否 | |  |
| 63 | escxstyfphm | | 二手车销售统一发票号码 | varchar | 20 | 否 | |  |
| 64 | escxstyzzfphm | | 二手车销售统一纸质发票号码 | varchar | 20 | 否 | |  |
| 65 | escxstyzzfpDm | | 二手车销售统一纸质发票代码 | varchar | 12 | 否 | |  |


#### 13.3请求报文示例
| [<br/>	{<br/>		"fphm": "发票号码",<br/>		"lzfpbz": "蓝字发票标志",<br/>		"ptbh": "平台编号",<br/>		"fppz": "发票票种",<br/>		"kprq": "开票日期",		<br/>		"kpr	": "开票人",<br/>		"kprzjhm": "开票人证件号码",<br/>		"kprzjlx": "开票人证件类型",<br/>		"qyDm": "区域代码",<br/>		"tdys": "特定要素",<br/>		"gmfzrrbz": "购买方自然人标志",<br/>		"gmfmc": "购买方名称",<br/>		"gmfnsrsbh": "购买方纳税人识别号",<br/>		"gmfdz": "购买方住址",<br/>		"gmfdh": "购买方电话",<br/>		"gmfkhh": "购买方开户行",<br/>		"gmfzh": "购买方账号",<br/>		"gmfjbr": "购买方经办人姓名",<br/>		"jbrsfzjhm": "购买方经办人证件号码",<br/>		"gmfjbrlxdh": "购买方经办人联系电话",<br/>		"sfzsgmfyhzhbq": "是否展示购买方银行账号标签",<br/>		"xsfmc": "销售方名称",<br/>		"xsfnsrsbh": "销售方纳税人识别号",<br/>		"xsfdz": "销售方住址",<br/>		"xsfdh": "销售方电话",<br/>		"xsfkhh": "(销售方)开户行",<br/>		"xsfzh": "(销售方)银行账号",<br/>		"sfzsxsfyhzhbq": "是否展示销售方银行账号标签",<br/>		"hjje": "合计金额",<br/>		"hjse": "合计税额",<br/>		"jshj": "价税合计",<br/>		"skrxm": "收款人姓名",<br/>		"fhrxm": "复核人姓名",<br/>		"fpkjfsDm": "发票开具方式代码",<br/>		"skyhmc": "收款银行名称",<br/>		"skyhzh": "收款银行账号",<br/>		"jsfs": "结算方式",<br/>		"ysxwfsd": "应税行为发生地",<br/>		"bz": "备注",<br/>		"jazslxDm": "减按征税类型代码",<br/>		"dylzfphm": "对应蓝字发票号码",<br/>		"hzqrxxdbh": "红字确认信息单编号",<br/>		"hzqrduuid": "红字确认单uuid",<br/>		"ip": "服务器地址",<br/>		"macdz": "mac地址",<br/>		"cpuid": "CPU序列号",<br/>		"zbxlh": "主板序列号",<br/>		"fpmxList": [<br/>			{<br/>				"mxxh": "明细序号",<br/>				"dylzfpmxxh": "对应蓝字发票明细序号",<br/>				"hwhyslwfwmc": "货物或应税劳务、服务名称",<br/>				"spfwjc": "商品服务简称",<br/>				"xmmc": "项目名称",<br/>				"ggxh": "规格型号",<br/>				"dw": "单位",<br/>				"sl": "数量",<br/>				"dj": "单价",<br/>				"je": "金额",<br/>				"slv": "增值税税率/征收率",<br/>				"se": "税额",<br/>				"hsje": "含税金额",<br/>				"sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>				"yhzcbs": "优惠政策标识"<br/>			}<br/>		],<br/>	"esctdysList": {<br/>				"escxstyfphm": "二手车销售统一发票号码",<br/>				"escxstyzzfphm": "二手车销售统一纸质发票代码",<br/>				"escxstyzzfpDm": "二手车销售统一纸质发票号码"<br/>			},<br/>		"fjysList": [<br/>			{<br/>				"fjysmc": "附加要素名称",<br/>				"fjyslx": "附加要素类型",<br/>				"fjysz": "附加要素值"<br/>			}<br/>		]<br/>	}<br/>] |
| --- |


**   **生产报文示例

| [<br/>	{<br/>		"fphm": "25447*********226148",<br/>		"lzfpbz": "0",<br/>		"ptbh": "5d2cff**********b7a3",<br/>		"fppz": "01",<br/>		"kprq": "2025-05-01 12:00:00",		<br/>		"kpr": "付**",<br/>		"kprzjhm": "1310**********1335",<br/>		"kprzjlx": "201",<br/>		"qyDm": "14403000000",<br/>		"tdys": "15",<br/>		"gmfzrrbz": "N",<br/>		"gmfmc": "广州********设计室",<br/>		"gmfnsrsbh": "9115**********NK5H",<br/>		"gmfdz": "北京市海淀区**********01室",<br/>		"gmfdh": "155****0791",<br/>		"gmfkhh": "中信银行*******支行",<br/>		"gmfzh": "811070********00501",<br/>		"gmfjbr": "付**",<br/>		"jbrsfzjhm": "1310**********1335",<br/>		"gmfjbrlxdh": "155****0791",<br/>		"sfzsgmfyhzhbq": "N",<br/>		"xsfmc": "包头市******有限责任公司",<br/>		"xsfnsrsbh": "9144**********093N",<br/>		"xsfdz": "北京市海淀区**********01室",<br/>		"xsfdh": "155****0791",<br/>		"xsfkhh": "中信银行*******支行",<br/>		"xsfzh": "811070********00501",<br/>		"sfzsxsfyhzhbq": "Y",<br/>		"hjje": "1000.00",<br/>		"hjse": "5.00",<br/>		"jshj": "1005.00",<br/>		"skrxm": "付**",<br/>		"fhrxm": "付**",<br/>		"fpkjfsDm": "5",<br/>		"skyhmc": "中信银行*******支行",<br/>		"skyhzh": "811070********00501",<br/>		"jsfs": "01",<br/>		"ysxwfsd": "北京市",<br/>		"bz": "备注",<br/>		"jazslxDm": "",<br/>		"dylzfphm": "",<br/>		"hzqrxxdbh": "",<br/>		"hzqrduuid": "",<br/>        "ip": "***.***.***.**",<br/>        "macdz": "SESFSD4666DSSSA",<br/>        "cpuid": "SESFSD4666DSSSA",<br/>        "zbxlh": "SESFSD4666DSSSA",<br/>		"fpmxList": [<br/>			{<br/>				"mxxh": "1",<br/>				"dylzfpmxxh": "",<br/>				"hwhyslwfwmc": "*机动车*载货汽车",<br/>				"spfwjc": "机动车",<br/>				"xmmc": "载货汽车",<br/>				"ggxh": "",<br/>				"dw": "辆",<br/>				"sl": "1.00",<br/>				"dj": "1000.00",<br/>				"je": "1000.00",<br/>				"slv": "0.005",<br/>				"se": "5.00",<br/>				"hsje": "1005.00",<br/>				"sphfwssflhbbm": "1090305030000000000",<br/>				"yhzcbs": ""<br/>			}<br/>		],<br/>	   "esctdysList": {<br/>				"escxstyfphm": "",<br/>				"escxstyzzfphm": "",<br/>				"escxstyzzfpDm": ""<br/>			},<br/>		"fjysList": [<br/>			{<br/>				"fjysmc": "附加要素名称",<br/>				"fjyslx": "附加要素类型",<br/>				"fjysz": "附加要素值"<br/>			}<br/>		]<br/>	}<br/>] |
| --- |


#### 13.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | sllsh | 受理流水号 | String | 40 | 是 |  |


#### 13.5返回报文示例 
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"sllsh": "受理流水号"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 14.查询二手车发票上传结果
#### 14.1接口说明
给企业提供查询二手车发票开具状态的功能，预发票上传后由税务局端对发票再次进行校验，如果校验通过则表明发票开具成功。此时企业根据上传返回的信息查询发票开具的状态。

发票上传结果只能在发票上传后12小时内查询，如果超过12小时只能重新上传发票再获取上传结果。

#### 14.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | sllsh | 受理流水号 | String | 40 | 是 |  |


#### 14.3请求报文示例
| {<br/> "sllsh": "受理流水号"<br/>} |
| --- |


#### 14.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | fphm | 发票号码 | varchar | 20 | 是 |  |
| 4 | status | 上传状态 | varchar | 2 | 是 | 00：上传成功<br/>01：发票上传处理中<br/>02：上传失败<br/>03：重复上传 |
| 5 | message | 详细信息 | varchar | 30 | 否 | 详细信息 |
| 6 | Code | 错误码 | varchar | 20 | 否 | 未查询到上传结果会返回固定的Code值 |


#### 14.5返回报文示例 
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"resultList": [<br/>				{<br/>					"fphm": "发票号码1",<br/>					"status": "上传状态",<br/>					"message": "详细信息"<br/>				},<br/> {<br/>					"fphm": "发票号码2",<br/>					"status": "上传状态",<br/>					"message": "详细信息"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01",<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 15.数电红字确认单申请
#### 15.1接口说明
给企业提供红字确认单开具功能。

#### 15.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | lrfsf | 录入方身份 | varchar | 2 | 是 | 0：销方<br/>1：购方<br/>2：第三方 |
| 2 | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| 3 | xsfmc | 销售方名称 | varchar | 300 | 是 |  |
| 4 | gmfnsrsbh | 购买方纳税人识别号 | varchar | 20 | 否 |  |
| 5 | gmfmc | 购买方名称 | varchar | 300 | 是 |  |
| 6 | dsfnsrsbh | 第三方纳税人识别号 | varchar | 20 | 否 | 当录入方身份为2时必填 |
| 7 | dsfmc | 第三方名称 | varchar | 300 | 否 | 当录入方身份为2时必填 |
| 8 | lzfpdm | 蓝字发票代码 | varchar | 12 | 否 |  |
| 9 | lzfphm | 蓝字发票号码 | varchar | 20 | 是 |  |
| 10 | sfzzfpbz | 是否纸质发票标志 | varchar | 1 | 是 | Y：纸质发票<br/>N：电子发票 |
| 11 | lzkprq | 蓝字发票开票日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |
| 12 | lzhjje | 蓝字发票合计金额 | number | 18,2 | 是 |  |
| 13 | lzhjse | 蓝字发票合计税额 | number | 18,2 | 是 |  |
| 14 | lzfppzDm | 蓝字发票票种代码 | varchar | 2 | 是 | 01: 增值税专用发票<br/>02: 普通发票<br/>04: 二手车统一销售发票 |
| 15 | lzfpTdyslxDm | 蓝字发票特定要素类型代码 | varchar | 2 | 否 | 15：二手车<br/>51：正常开具<br/>52：反向开具 |
| 16 | hzcxje | 红字冲销金额 | number | 18,2 | 是 |  |
| 17 | hzcxse | 红字冲销税额 | number | 18,2 | 是 |  |
| 18 | chyyDm | 红字发票冲红原因代码 | varchar | 2 | 是 | 01：开票有误<br/>02：销货退回 |
| 19 | lzmxxh | 蓝字发票明细序号 | number | 8 | 是 |  |
| 20 | xh | 序号 | number | 8 | 是 |  |
| 21 | sphfwssflhbbm | 商品和服务税收分类合并编码 | String | 19 | 是 |  |
| 22 | hwhyslwfwmc | 货物或应税劳务、服务名称 | varchar | 300 | 是 |  |
| 23 | spfwjc | 商品服务简称 | String | 120 | 是 |  |
| 24 | xmmc | 项目名称 | varchar | 600 | 是 |  |
| 25 | ggxh | 规格型号 | varchar | 150 | 否 |  |
| 26 | dw | 单位 | varchar | 300 | 否 | 必须与蓝票“单位”保持一致。 |
| 27 | fpspdj | 单价 | varchar | 25 | 否 | 如“数量”栏次非空，则本栏次必须非空 |
| 28 | fpspsl | 数量 | varchar | 25 | 否 | 如“单价”栏次非空，则本栏次必须非空 |
| 29 | je | 金额 | number | 18,2 | 是 |  |
| 30 | sl1 | 税率 | number | 16,6 | 是 |  |
| 31 | se | 税额 | number | 18,2 | 是 |  |


#### 15.3请求报文示例
| {<br/>	"lrfsf": "录入方身份",<br/>	"xsfnsrsbh": "销售方纳税人识别号" ,<br/>	"xsfmc": "销售方名称",<br/>	"gmfnsrsbh": "购买方纳税人识别号",<br/>	"gmfmc": "购买方名称",<br/>	"dsfnsrsbh": "第三方纳税人识别号",<br/>	"dsfmc": "第三方名称",<br/>	"lzfpdm": "蓝字发票代码",<br/>	"lzfphm": "蓝字发票号码",<br/>	"sfzzfpbz": "是否纸质发票标志",<br/>	"lzkprq": "蓝字发票开票日期",<br/>	"lzhjje": "蓝字发票合计金额",<br/>	"lzhjse": "蓝字发票合计税额",<br/>	"lzfppzDm": "蓝字发票票种代码",<br/>	"lzfpTdyslxDm": "蓝字发票特定要素类型代码" ,<br/>	"hzcxje": "红字冲销金额" ,<br/>	"hzcxse": "红字冲销税额" ,<br/>	"chyyDm": "红字发票冲红原因代码",<br/>	"hzqrdmxList": [<br/>		{<br/>			"lzmxxh": "蓝字发票明细序号",<br/>			"xh": "序号",<br/>			"sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>			"hwhyslwfwmc": "货物或应税劳务、服务名称",<br/>			"spfwjc": "商品服务简称",<br/>			"xmmc": "项目名称",<br/>			"ggxh": "规格型号",<br/>			"dw": "单位",<br/>			"fpspdj": "单价",<br/>			"fpspsl": "数量",<br/>			"je": "金额",<br/>			"sl1": "税率",<br/>			"se": "税额"<br/>		}<br/>	]<br/>} |
| --- |


<font style="color:#000000;">二手车类特定要素发票示例报文</font>

| {<br/>    "lrfsf": "0",<br/>    "xsfmc": "广州**********计室",<br/>    "xsfnsrsbh": "9144**********093N",<br/>    "gmfmc": "付**********",<br/>    "gmfnsrsbh": "9115**********NK5H",<br/>    "lzfpdm": "",<br/>    "lzfphm": "2544**********577",<br/>    "sfzzfpbz": "N",<br/>    "lzkprq": "2025-07-03 12:00:00",<br/>    "lzhjje": "100.00",<br/>    "lzhjse": "0.50",<br/>    "lzfppzDm": "02",<br/>    "lzfpTdyslxDm": "15",<br/>    "hzcxje": "-100.00",<br/>    "hzcxse": "-0.50",<br/>    "chyyDm": "01",<br/>    "hzqrdmxList": [<br/>        {<br/>            "lzmxxh": "1",<br/>            "xh": "1",<br/>            "sphfwssflhbbm": "1090305030000000000",<br/>            "hwhyslwfwmc": "*机动车*载货汽车",<br/>            "spfwjc": "机动车",<br/>            "xmmc": "载货汽车",<br/>            "ggxh": "CL**********S3272",<br/>            "dw": "辆",<br/>            "fpspdj": "100.00",<br/>            "fpspsl": "-1",<br/>            "je": "-100.00",<br/>            "sl1": "0.005",<br/>            "se": "-0.50"<br/>        }<br/>    ]<br/>} |
| --- |




<font style="color:#000000;">二手车销售统一发票示例报文</font>

| {<br/>    "lrfsf": "0",<br/>    "xsfnsrsbh": "9144********093N",<br/>    "xsfmc": "广州********设计室",<br/>    "gmfmc": "广东********限公司",<br/>    "gmfnsrsbh": "91440********C8X",<br/>    "lzfpdm": "",<br/>    "lzfphm": "25447********26187",<br/>    "sfzzfpbz": "N",<br/>    "lzkprq": "2025-04-22 16:55:20",<br/>    "lzhjje": "1005.00",<br/>    "lzhjse": "0.00",<br/>    "lzfppzDm": "03",<br/>    "lzfpTdyslxDm": "51",<br/>    "hzcxje": "-1005.00",<br/>    "hzcxse": "-0.00",<br/>    "chyyDm": "01",<br/>    "hzqrdmxList": [<br/>        {<br/>            "lzmxxh": "1",<br/>            "xh": "1",<br/>            "sphfwssflhbbm": "1090305030000000000",<br/>            "hwhyslwfwmc": "*机动车*载货汽车",<br/>            "spfwjc": "机动车",<br/>            "xmmc": "载货汽车",<br/>            "ggxh": "CL********272",<br/>            "dw": "辆",<br/>            "fpspdj": "1005.00",<br/>            "fpspsl": "-1",<br/>            "je": "-1005.00",<br/>            "sl1": "0.00",<br/>            "se": "0.00"<br/>        }<br/>    ]<br/>} |
| --- |


#### 15.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | hzfpxxqrdbh | 红字确认单编号 | varchar | 20 | 否 |  |
| 4 | uuid | 红字确认单UUID | varchar | 32 | 否 |  |
| 5 | hzqrxxztDm | 红字确认单状态 | varchar | 2 | 否 | 01：无需确认<br/>02：销方录入待购方确认<br/>03：购方录入待销方确认<br/>04：购销双方已确认<br/>05：作废（销方录入购方否认）<br/>06：作废（购方录入销方否认）<br/>07：作废（超72小时未确认）<br/>08：（发起方撤销）<br/>09：作废（确认后撤销）<br/>10作废（异常凭证） |


#### 15.5返回报文示例
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"hzfpxxqrdbh": "红字确认单编号",<br/>			"uuid": "红字确认单UUID",<br/>			"hzqrxxztDm": "红字确认单状态"<br/>}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 16.数电红字确认单确认
#### 16.1接口说明
给企业提供数电红字确认单确认接口，将已经确认的红字确认单确认并上传成功后表明红字确认单确认成功。

#### 16.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | xsfnsrsbh | 统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| 2 | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| 3 | hzqrdbh | 红字确认单编号 | varchar | 20 | 是 |  |
| 4 | qrlx | 确认类型 | varchar | 1 | 是 | Y：同意<br/>N：不同意<br/>C：撤销 |


#### 16.3请求报文示例
| {<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"uuid": "红字确认单UUID ",<br/>	"hzqrdbh": "红字确认单编号 ",<br/>	"qrlx": "确认类型"<br/>} |
| --- |


#### 16.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | qrrq | 确认日期 | datetime |  | 否 | 格式：<br/>yyyy-MM-dd HH:mm:ss |


#### 16.5返回报文示例 
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"qrrq ": "确认日期"<br/>}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 17.查询数电红字确认单明细信息
#### 17.1接口说明
向企业提供数电红字确认单明细查询的功能，企业可通过红字确认单UUID、销售方纳税人识别号查询数电红字确认单明细信息，并将查询的结果保存在本地。使用此信息可以在申请数电红字确认单时校验蓝票是否可以红冲；在开具数电红字发票时校验是否有数电红字确认单明细。

建议企业定时下载/更新数电红字确认单明细信息,或在接收数电红字确认单明细、数电红字确认单明细变更时手工获取数电红字确认单明细信息。

根据红字确认单状态判断蓝字发票状态，具体如下：

（1）当红字确认单状态为01无需确认时，蓝字发票购方未进行入账或勾选抵扣操作，红字确认单由销方发起无需确认。

（2）当红字确认单状态为02销方录入待购方确认时，蓝字发票购方已进行入账或勾选抵扣操作，销方申请红字确认单待购方确认。

（3）当红字确认单状态为03购方录入待销方确认时，蓝字发票购方已进行入账或勾选抵扣操作，购方申请红字确认单待销方确认。

#### 17.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| 2 | xsfnsrsbh | （销售方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 26 | 是 |  |


#### 17.3请求报文示例
| {<br/>	"uuid": "红字确认单UUID ",<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码"<br/>} |
| --- |


#### 17.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| 4 | hzfpxxqrdbh | 红字发票信息确认单编号 | varchar | 20 | 是 |  |
| 5 | lrfsf | 录入方身份 | varchar | 1 | 是 | 0：销方<br/>1：购方 |
| 6 | xsfnsrsbh | （销售方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| 7 | xsfmc | （销售方）名称 | varchar | 300 | 是 |  |
| 8 | gmfnsrsbh | （购买方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 |  |
| 9 | gmfmc | （购买方）名称 | varchar | 300 | 是 |  |
| 10 | lzfpdm | 蓝字发票代码 | number | 12 | 否 |  |
| 11 | lzfphm | 蓝字发票号码 | number | 20 | 否 |  |
| 12 | sfzzfpbz | 是否纸质发票标志 | varchar | 1 | 是 | Y：纸质发票<br/>N：电子发票 |
| 13 | lzkprq | 蓝字发票开票日期 | datetime |  | 否 | yyyy-MM-dd HH:mm:ss |
| 14 | lzhjje | 蓝字发票合计金额 | number | 18,2 | 否 |  |
| 15 | lzhjse | 蓝字发票合计税额 | number | 18,2 | 否 |  |
| 16 | lzfppzDm | 蓝字发票票种代码 | varchar | 2 | 否 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票 |
| 17 | lzfpTdyslxDm | 蓝字发票特定要素类型代码 | varchar | 2 | 否 | 01：成品油发票<br/>02：稀土发票<br/>03：建筑服务发票<br/>04：货物运输服务发票<br/>05：不动产销售服务发票<br/>06：不动产租赁服务发票<br/>07：代收车船税<br/>08：通行费<br/>09：旅客运输服务发票<br/>10：医疗服务（住院）发票<br/>11：医疗服务（门诊）发票<br/>12：自产农产品销售发票<br/>13	拖拉机和联合收割机发票<br/>14：机动车<br/>15：二手车<br/>16：农产品收购发票<br/>17：光伏收购发票<br/>18：卷烟发票<br/>20：农产品 |
| 18 | hzcxje | 红字冲销金额 | number | 18,2 | 是 |  |
| 19 | hzcxse | 红字冲销税额 | number | 18,2 | 是 |  |
| 20 | chyyDm | 红字发票冲红原因代码 | varchar | 2 | 是 | 01：开票有误<br/>02：销货退回<br/>03：服务中止<br/>04：销售折让 |
| 21 | hzqrxxztDm | 红字确认单状态 | varchar | 2 | 是 | 01：无需确认<br/>02：销方录入待购方确认<br/>03：购方录入待销方确认<br/>04：购销双方已确认<br/>05：作废（销方录入购方否认）<br/>06：作废（购方录入销方否认）<br/>07：作废（超72小时未确认）<br/>08：（发起方撤销）<br/>09：作废（确认后撤销）<br/>10作废（异常凭证） |
| 22 | qrrq | 确认日期 | datetime |  | 否 | yyyy-MM-dd HH:mm:ss |
| 23 | ykjhzfpbz | 已开具红字发票标志 | varchar | 1 | 否 | Y：已开具<br/>N：未开具 |
| 24 | hzfphm | 红字发票号码 | String | 20 | 否 |  |
| 25 | hzkprq | 红字开票日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |
| 26 | yxbz | 有效标志 | varchar | 1 | 是 | Y：有效<br/>N：无效 |
| 27 | cezslxDm | 差额征税类型代码 | varchar | 2 | 否 | 空：非差额发票<br/>01：全额开票<br/>02：差额开票 |
| 28 | lrrq | 录入日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |
| 29 | lzmxxh | 蓝字发票明细序号 | number | 8 | 是 |  |
| 30 | xh | 序号 | number | 8 | 是 |  |
| 31 | sphfwssflhbbm | 商品和服务税收分类合并编码 | varchar | 19 | 是 |  |
| 32 | hwhyslwfwmc | 货物或应税劳务、服务名称 | varchar | 300 | 是 |  |
| 33 | spfwjc | 商品服务简称 | varchar | 120 | 是 |  |
| 34 | xmmc | 项目名称 | varchar | 600 | 是 |  |
| 35 | ggxh | 规格型号 | varchar | 150 | 否 |  |
| 36 | dw | 单位 | varchar | 300 | 否 |  |
| 37 | fpspdj | 单价 | varchar | 25 | 否 | 如“数量”栏次非空，则本栏次必须非空 |
| 38 | fpspsl | 数量 | varchar | 25 | 否 | 如“单价”栏次非空，则本栏次必须非空 |
| 39 | je | 金额 | number | 18,2 | 是 |  |
| 40 | sl1 | 税率 | number | 16,6 | 是 |  |
| 41 | se | 税额 | number | 18,2 | 是 |  |
| 42 | kce | 扣除额 | number | 18,2 | 否 | 蓝票扣除额的负数 |
| 43 | yhzcbs | 优惠政策标识 | varchar | 2 | 否 |  |


#### 17.5返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"uuid": "红字确认单UUID",<br/>			"hzfpxxqrdbh": "红字发票信息确认单编号",<br/>			"lrfsf": "录入方身份",<br/>			"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>			"xsfmc": "销售方名称",<br/>			"gmfnsrsbh": "（购买方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>			"gmfmc": "购买方名称",<br/>			"lzfpdm": "蓝字发票代码",<br/>			"lzfphm": "蓝字发票号码",<br/>			"sfzzfpbz": "是否纸质发票标志",<br/>			"lzkprq": "蓝字发票开票日期",<br/>			"lzhjje": "蓝字发票合计金额",<br/>			"lzhjse": "蓝字发票合计税额",<br/>			"lzfppzDm": "蓝字发票票种代码",<br/>			"lzfpTdyslxDm": "蓝字发票特定要素类型代码",<br/>			"hzcxje": "红字冲销金额",<br/>			"hzcxse": "红字冲销税额",<br/>			"chyyDm": "红字发票冲红原因代码",<br/>			"hzqrxxztDm": "红字确认信息状态代码",<br/>			"qrrq": "确认日期",<br/>			"ykjhzfpbz": "已开具红字发票标志",<br/>			"hzfphm": "红字发票号码",<br/>			"hzkprq": "红字开票日期",<br/>			"yxbz": "有效标志",<br/>			"cezslxDm": "差额征税类型代码",<br/>			"lrrq": "录入日期",<br/>			"hzqrxxmxList": [<br/>				{<br/>					"xh": "序号",<br/>					"lzmxxh": "蓝字发票明细序号",<br/>					"sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>					"hwhyslwfwmc": "货物或应税劳务、服务名称",<br/>					"spfwjc": "商品服务简称",<br/>					"xmmc": "项目名称",<br/>					"ggxh": "规格型号",<br/>					"dw": "单位",<br/>					"fpspdj": "单价",<br/>					"fpspsl": "数量",<br/>					"je": "金额",<br/>					"sl1": "税率",<br/>					"se": "税额",<br/>					"kce": "扣除额",<br/>					"yhzcbs": "优惠政策标识"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 18.查询数电红字确认单列表信息
#### 18.1接口说明
向企业提供查询数电红字确认单列表信息的功能，企业可通过购买方纳税人识别号、销售方纳税人识别号、蓝字发票号码、录入日期起、录入日期止等条件查询数电红字确认单列表信息，并将查询的结果保存在本地。使用此信息可以在申请数电红字确认单时校验数电蓝字发票是否可以红冲；在开具数电红字发票时校验是否有数电红字确认单。

建议企业定时下载/更新数电红字确认单列表信息,或在接收数电红字确认单、数电红字确认单变更时手工获取数电红字确认单列表信息。

根据红字确认单状态判断蓝字发票状态，具体如下：

（1）当红字确认单状态为01无需确认时，蓝字发票购方未进行入账或勾选抵扣操作，红字确认单由销方发起无需确认。

（2）当红字确认单状态为02销方录入待购方确认时，蓝字发票购方已进行入账或勾选抵扣操作，销方申请红字确认单待购方确认。

（3）当红字确认单状态为03购方录入待销方确认时，蓝字发票购方已进行入账或勾选抵扣操作，购方申请红字确认单待销方确认。

#### 18.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | yhjslx | 用户角色类型 | varchar | 2 | 是 | 0：销方<br/>1：购方<br/>2：第三方 |
| 2 | xsfnsrsbh | （销售方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 | 条件必录，作为销方，必录 |
| 3 | xsfmc | （销售方）名称 | varchar | 300 | 否 | 条件必录，作为销方，必录 |
| 4 | gmfnsrsbh | （购买方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 | 条件必录，作为购方，必录 |
| 5 | gmfmc | （购买方）名称 | varchar | 300 | 否 | 条件必录，作为购方，必录 |
| 6 | dsfnsrsbh | 第三方纳税人识别号 | varchar | 20 | 否 | 当录入方身份为2时必填 |
| 7 | dsfmc | 第三方名称 | varchar | 300 | 否 | 当录入方身份为2时必填 |
| 8 | lrfsf | 录入方身份 | varchar | 2 | 否 | 0：销方<br/>1：购方<br/>2：第三方 |
| 9 | lrrqq | 录入日期起 | date | 20 | 否 | yyyy-MM-dd |
| 10 | lrrqz | 录入日期止 | date | 20 | 否 | yyyy-MM-dd |
| 11 | lzfpdm | 蓝字发票代码 | varchar | 12 | 否 |  |
| 12 | lzfphm | 蓝字发票号码 | varchar | 20 | 否 |  |
| 13 | hzfpxxqrdbh | 红字确认单编号 | varchar | 20 | 否 |  |
| 14 | hzqrxxztDm | 红字确认信息状态代码 | varchar | 2 | 否 | 01：无需确认<br/>02：销方录入待购方确认<br/>03：购方录入待销方确认<br/>04：购销双方已确认<br/>05：作废（销方录入购方否认）<br/>06：作废（购方录入销方否认）<br/>07：作废（超72小时未确认）<br/>08：（发起方撤销）<br/>09：作废（确认后撤销）<br/>10：作废（异常凭证） |
| 15 | fppzDm | 发票票种代码 | varchar | 2 | 否 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票<br/>05：铁路客票电子发票<br/>06：航空运输电子客票行程单 |
| 16 | pageNumber | 页码 | number | 10 | 否 |  |
| 17 | pageSize | 每页数量 | number | 10 | 否 |  |


#### 18.3请求报文示例
| {<br/>	"yhjslx": "用户角色类型",<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"xsfmc": "（销售方）名称",<br/>	"gmfnsrsbh": "（购买方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"gmfmc": "（购买方）名称",<br/> 	"dsfnsrsbh": "第三方纳税人识别号",<br/>	"dsfmc": "第三方名称",<br/>	"lrfsf": "录入方身份",<br/>	"lrrqq": "录入日期起",<br/>	"lrrqz": "录入日期止",<br/>	"lzfpdm": "蓝字发票代码",<br/>	"lzfphm": "蓝字发票号码",<br/>	"hzfpxxqrdbh": "红字确认单编号",<br/>	"hzqrxxztDm": "红字确认信息状态代码",<br/>	"fppzDm": "发票票种代码",<br/>	"pageNumber": "页码",<br/>	"pageSize": "每页数量"<br/>} |
| --- |


生产报文示例

| {<br/>    "yhjslx": "0",<br/>    "xsfnsrsbh": "9144**********093N",<br/>    "xsfmc": "广州********设计室",<br/>    "gmfnsrsbh": "9115**********NK5H",<br/>    "gmfmc": "包头市******有限责任公司",<br/>    "lrfsf": "0",<br/>    "lrrqq": "2025-05-01",<br/>    "lrrqz": "2025-05-30",<br/>    "lzfpdm": "",<br/>    "lzfphm": "254470********220447",<br/>    "hzfpxxqrdbh": "4401052********01218",<br/>    "hzqrxxztDm": "01",<br/>    "fppzDm": "01",<br/>    "pageNumber": "1",<br/>    "pageSize": "10"<br/>} |
| --- |


#### 18.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | total | 总数量 | varchar | 10 | 是 |  |
| 4 | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| 5 | hzfpxxqrdbh | 红字发票信息确认单编号 | varchar | 20 | 是 |  |
| 6 | lrfsf | 录入方身份 | varchar | 2 | 是 | 0：销方 1：购方 |
| 7 | xsfnsrsbh | （销售方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 |  |
| 8 | xsfmc | （销售方）名称 | varchar | 300 | 是 |  |
| 9 | gmfnsrsbh | （购买方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| 10 | gmfmc | （购买方）名称 | varchar | 300 | 是 |  |
| 11 | lzfpdm | 蓝字发票代码 | varchar | 12 | 否 |  |
| 12 | lzfphm | 蓝字发票号码 | varchar | 20 | 否 |  |
| 13 | sfzzfpbz | 是否纸质发票标志 | varchar | 1 | 是 | Y=纸质发票，N=电子发票 |
| 14 | lzkprq | 蓝字发票开票日期 | datetime |  | 否 | yyyy-MM-dd HH:mm:ss |
| 15 | lzhjje | 蓝字发票合计金额 | number | 18,2 | 否 |  |
| 16 | lzhjse | 蓝字发票合计税额 | number | 18,2 | 否 |  |
| 17 | lzfppzDm | 蓝字发票票种代码 | varchar | 2 | 否 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票 |
| 18 | lzfpTdyslxDm | 蓝字发票特定要素类型代码 | varchar | 2 | 否 | 01：成品油发票<br/>02：稀土发票<br/>03：建筑服务发票<br/>04：货物运输服务发票<br/>05：不动产销售服务发票<br/>06：不动产租赁服务发票<br/>07：代收车船税<br/>08：通行费<br/>09：旅客运输服务发票<br/>10：医疗服务（住院）发票<br/>11：医疗服务（门诊）发票<br/>12：自产农产品销售发票<br/>13	拖拉机和联合收割机发票<br/>14：机动车<br/>15：二手车<br/>16：农产品收购发票<br/>17：光伏收购发票<br/>18：卷烟发票<br/>20：农产品 |
| 19 | hzcxje | 红字冲销金额 | number | 18,2 | 是 |  |
| 20 | hzcxse | 红字冲销税额 | number | 18,2 | 是 |  |
| 21 | hzqrdmxsl | 红字确认单明细数量 | number | 10 | 是 |  |
| 22 | chyyDm | 红字发票冲红原因代码 | varchar | 2 | 是 | 01：开票有误<br/>02：销货退回<br/>03：服务中止<br/>04：销售折让 |
| 23 | hzqrxxztDm | 红字确认信息状态代码 | varchar | 2 | 是 |  |
| 24 | qrrq | 确认日期 | datetime |  | 否 | yyyy-MM-dd HH:mm:ss |
| 25 | ykjhzfpbz | 已开具红字发票标志 | varchar | 1 | 否 | Y：已开具<br/>N：未开具 |
| 26 | hzfphm | 红字发票号码 | varchar | 20 | 否 |  |
| 27 | hzkprq | 红字开票日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |
| 28 | yxbz | 有效标志 | varchar | 1 | 是 | Y：有效<br/>N：无效 |
| 29 | lrrq | 录入日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |


#### 18.5返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"hzqrxxList": {<br/>				"pageNumber": 1,<br/>				"pageSize": 20,<br/>				"total": 1,<br/>				"list": [<br/>					{<br/>						"uuid": "红字确认单UUID",<br/>						"hzfpxxqrdbh": "红字发票信息确认单编号",<br/>						"lrfsf": "录入方身份",<br/>						"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>						"xsfmc": "（销售方）名称",<br/>						"gmfnsrsbh": "（购买方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>						"gmfmc": "（购买方）名称",<br/>						"lzfpdm": "蓝字发票发票代码",<br/>						"lzfphm": "蓝字发票发票号码",<br/>						"sfzzfpbz": "是否纸质发票标志",<br/>						"lzkprq": "蓝字发票开票日期",<br/>						"lzhjje": "蓝字发票合计金额",<br/>						"lzhjse": "蓝字发票合计税额",<br/>						"lzfppzDm": "蓝字发票发票票种代码",<br/>						"lzfpTdyslxDm": "蓝字发票特定要素类型代码",<br/>						"hzcxje": "红字冲销金额",<br/>						"hzcxse": "红字冲销税额",<br/>"hzqrdmxsl": "红字确认单明细数量",<br/>						"chyyDm": "红字发票冲红原因代码",<br/>						"hzqrxxztDm": "红字确认信息状态代码",<br/>						"qrrq": "确认日期",<br/>						"ykjhzfpbz": "已开具红字发票标志",<br/>						"hzfphm": "红字发票号码",<br/>						"hzkprq": "红字开票日期",<br/>						"yxbz": "有效标志",<br/>						"lrrq": "录入日期"<br/>					}<br/>				]<br/>			}<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 19.上传发票汇总确认信息
#### 19.1接口说明
给企业提供按月上传发票汇总信息接口，以避免由于企业未及时上传发票而带来的问题。企业在每月13日前需按自然月汇总上月在本平台开具的数电票的数量、金额和税额进行上传至乐企服务端，与乐企服务端汇总接收到的数电票信息进行比对，若比对一致，返回比对成功；若比对不一致，返回具体失败信息，由企业核实后，再次上传。

若企业在每月13日前未上传上个月的发票汇总确认信息，乐企服务端将在13日零点汇总乐企服务端接收到的上个月的数子化电子发票。

当企业上传发票汇总确认信息后，发现已确认的月份还有数电票未上传，可以取消发票汇总确认，把未上传的数电票上传至乐企服务端后再次上传发票汇总确认信息。

#### 19.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| 2 | xsfsjswjgdm | 销售方省级税务机关代码 | varchar | 11 | 是 |  |
| 3 | ywlx | 业务类型 | varchar | 1 | 是 | 0：确认<br/>1：取消 |
| 4 | ptbh | 平台编号 | varchar | 20 | 是 |  |
| 5 | yf | 月份 | varchar | 7 | 是 | 格式：yyyy-MM |
| 6 | lzfpsl | 蓝字发票数量 | number | 10 | 否 | 业务类型为“0”时必填 |
| 7 | lzfpje | 蓝字发票金额 | number | 18,2 | 否 | 业务类型为“0”时必填 |
| 8 | lzfpse | 蓝字发票税额 | number | 18,2 | 否 | 业务类型为“0”时必填 |
| 9 | hzfpsl | 红字发票数量 | number | 10 | 否 | 业务类型为“0”时必填 |
| 10 | hzfpje | 红字发票金额 | number | 18,2 | 否 | 业务类型为“0”时必填 |
| 11 | hzfpse | 红字发票税额 | number | 18,2 | 否 | 业务类型为“0”时必填 |




#### 19.3请求报文示例
| {<br/>	"xsfnsrsbh": "销售方纳税人识别号",<br/>	"xsfsjswjgdm": "销售方省级税务机关代码",<br/>	"ywlx": "业务类型",<br/>	"ptbh": "平台编号",<br/>	"yf": "月份",<br/>	"lzfpsl": "蓝字发票数量",<br/>	"lzfpje": "蓝字发票金额",<br/>	"lzfpse": "蓝字发票税额",<br/>	"hzfpsl": "红字发票数量",<br/>	"hzfpje": "红字发票金额",<br/>	"hzfpse": "红字发票税额"<br/>} |
| --- |


生产报文示例

| {<br/>    "xsfnsrsbh": "9144**********093N",<br/>    "xsfsjswjgdm": "14400020000",<br/>    "ywlx": "0",<br/>    "ptbh": "5d2cff**********b7a3",<br/>    "yf": "2025-05",<br/>    "lzfpsl": "1300",<br/>    "lzfpje": 15518088765.27,<br/>    "lzfpse": 1687911.48,<br/>    "hzfpsl": 257,<br/>    "hzfpje": -9770623.50,<br/>    "hzfpse": -1043355.60<br/>} |
| --- |


#### 19.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |


#### 19.5返回报文示例
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>		   "returncode": "00",<br/>	     	"returnmsg": "成功"<br/>}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 20.查询发票汇总确认信息
#### 20.1接口说明
给企业提供发票汇总确认信息查询功能，企业可以通过此接口查询历史发票汇总确认信息。

#### 20.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| 2 | xsfsjswjgdm | 销售方省级税务机关代码 | varchar | 11 | 是 |  |
| 3 | ptbh | 平台编号 | varchar | 20 | 否 | 若为空，则查询纳税人在所有平台的开票汇总信息 |
| 4 | yf | 月份 | varchar | 7 | 否 | 格式：yyyy-MM若为空，则查询所有历史月份数据 |


#### 20.3请求报文示例
| {<br/>	"xsfnsrsbh": "销售方纳税人识别号",<br/>	"xsfsjswjgdm": "销售方省级税务机关代码",<br/>	"ptbh": "平台编号",<br/>	"yf": "月份"<br/>} |
| --- |


#### 20.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| 2 | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| 3 | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| 发票汇总确认信息（多条记录时，循环以下节点） | | | | | | |
| 4 | ptbh | 平台编号 | varchar | 20 | 否 |  |
| 5 | yf | 月份 | varchar | 7 | 否 | 格式：yyyy-MM |
| 6 | lzfpsl | 蓝字发票数量 | number | 10 | 否 |  |
| 7 | lzfpje | 蓝字发票金额 | number | 18,2 | 否 |  |
| 8 | lzfpse | 蓝字发票税额 | number | 18,2 | 否 |  |
| 9 | hzfpsl | 红字发票数量 | number | 10 | 否 |  |
| 10 | hzfpje | 红字发票金额 | number | 18,2 | 否 |  |
| 11 | hzfpse | 红字发票税额 | number | 18,2 | 否 |  |


#### 20.5返回报文示例
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"xsfnsrsbh": "销售方纳税人识别号",<br/>			"fphzqrxxList": [<br/>				{	"ptbh": "平台编号",<br/>					"yf": "月份",<br/>					"lzfpsl": "蓝字发票数量",<br/>					"lzfpje": "蓝字发票金额",<br/>					"lzfpse": "蓝字发票税额",<br/>					"hzfpsl": "红字发票数量",<br/>					"hzfpje": "红字发票金额",<br/>					"hzfpse": "红字发票税额"<br/>				}, {	"ptbh": "平台编号",<br/>					"yf": "月份",<br/>					"lzfpsl": "蓝字发票数量",<br/>					"lzfpje": "蓝字发票金额",<br/>					"lzfpse": "蓝字发票税额",<br/>					"hzfpsl": "红字发票数量",<br/>					"hzfpje": "红字发票金额",<br/>					"hzfpse": "红字发票税额"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 21.发票用途状态信息查询
#### 21.1接口说明
企业业务系统通过此接口查询单张发票状态、红字开具确认状态、发票用途等信息。此接口用途为辅助乐企开票企业发起红字确认单申请时的业务校验，实际以生成红字确认单时的业务校验结果为准。

发票用途状态信息查询结果仅供企业参考，在综服平台进行发票勾选的企业，其查询到的发票状态可能存在延时问题。

#### 21.2请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | fplx | 发票类型 | String | 2 | 是 | 01：增值税专用发票<br/>02：货物运输业增值税专用发票<br/>03：机动车销售统一发票<br/>04：增值税普通发票<br/>08：增值税电子专用发票<br/>10：增值税电子普通发票<br/>11：卷式发票<br/>14：通行费发票<br/>15：二手车销售统一发票<br/>81：电子发票（增值税专用发票）<br/>82：电子发票（普通发票）<br/>85：纸质发票（增值税专用发票）<br/>86：纸质发票（普通发票）<br/>51：电子发票（铁路电子客票）<br/>61：电子发票（航空运输客票电子行程单）<br/>83：机动车销售电子统一发票<br/>84：二手车销售电子统一发票<br/>87：纸质发票（机动车销售统一发票）<br/>88：纸质发票（二手车销售统一发票） |
| 2 | fpdm | 发票代码 | String | 12 | 否 | 发票类型为：01、02、03、04、08、10、11、14、15传纸质发票代码，其他发票类型无需传入 |
| 3 | fphm | 发票号码 | String | 20 | 是 | 发票类型为：01、02、03、04、08、10、11、14、15传纸质发票号码<br/>发票类型为：51、61、81、82、83、84、85、86、87、88传20位数字化电子发票号码 |
| 4 | kprq | 开票日期 | String | 8 | 是 | YYYYMMDD |


#### 21.3请求报文示例
| {<br/>	"fplx": "发票类型",<br/>	"fpdm": "发票代码",<br/>	"fphm": "发票号码",<br/>	"kprq": "开票日期"<br/>} |
| --- |


#### 21.4返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | String | 2 | 是 | 详情可参照“六、附件：1.返回码代码表” |
| 2 | returnmsg | 返回信息 | String | 2000 | 否 | 错误信息说明 |
| 3 | fpdm | 发票代码 | String | 12 | 是 | <font style="color:#000000;">数字化电子发票发票代码可为空</font> |
| 4 | fphm | 发票号码 | String | 20 | 是 | <font style="color:#000000;">数字化电子发票，发票号码20位</font> |
| 5 | kprq | 开票日期 | String | 19 | 是 | YYYY-MM-DD HH:mm:ss |
| 6 | fpzt | 发票状态 | String | 1 | 否 | 0：正常<br/>2：作废<br/>3：已红冲<br/>7：部分红冲<br/>8：全额冲红 |
| 7 | ycpzzt | 异常凭证状态 | String | 1 | 否 | 01：正常<br/>02：异常凭证<br/>03：疑似异常凭证 |
| 8 | hzsdbs | 红字锁定标识 | String | 1 | 否 | Y：锁定<br/>N：未锁定 |
| 9 | fpyt | 发票用途 | String | 2 | 否 | 0：未使用<br/>1：已申请抵扣<br/>2：已申请退税<br/>3：已申请代办退税<br/>4：已勾选不抵扣（历史数据）<br/>5：已申请代办退税（历史数据）<br/>6：已申请不抵扣<br/>7：内销转出口<br/>8：出口转内销<br/>9：准予退税<br/>10：不予退税<br/>11：冬奥退税 |
| 10 | rzzt | 入账状态 | String | 2 | 否 | 01：未入账<br/>02：已入账<br/>03：已入账撤销 |
| 11 | cpyycbs | 成品油异常标识 | String | 1 | 否 | 9：正常<br/>1：成品油单价异常<br/>2：成品油超库存异常<br/>8：正常，需全额红冲 |
| 12 | cktsldm | 出口退税类代码 | String | 2 | 否 | 01：增值税专用发票可用于代办退税标签（仅用于代办退税） |
| 13 | zzsyhyt | 增值税优惠用途（农产品加计扣除） | String | 2 | 否 | 0：未使用 <br/>1：全部项目加计 <br/>2：全部项目不加计 <br/>3：部分项目加计 |
| 14 | xfsyt | 消费税用途 | String | 2 | 否 | 00：未勾选库存<br/>01：已勾选库存 |
| 15 | jdcycbs | 机动车异常标识 | String | 1 | 否 | 0：无风险<br/>1：低风险<br/>2：中风险<br/>3：高风险 |
| 16 | skssq | 税款所属期 | String | 6 | 否 | 返回格式：yyyymm |


#### 21.5返回报文示例
| {<br/>	"Response": {<br/>		"RequestId": "系统自动生成ID",<br/>		"Data": {<br/>			"returncode": "返回码",<br/>			"returnmsg": "返回信息",<br/>			"fpdm": "发票代码",<br/>			"fphm": "发票号码",<br/>			"kprq": "开票日期",<br/>			"fpzt": "发票状态",<br/>			"ycpzzt": "异常凭证状态",<br/>			"hzsdbs": "红字锁定标识",<br/>			"fpyt": "发票用途",<br/>			"rzzt": "入账状态",<br/>			"cpyycbs": "成品油异常标识",<br/>			"cktsldm": "出口退税类代码",<br/>			"zzsyhyt": "增值税优惠用途（农产品加计扣除）",<br/>			"xfsyt": "消费税用途",<br/>			"jdcycbs": "机动车异常标识",<br/>			"skssq": "税款所属期"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error": {<br/>			"Code": "01",<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


# 六、附件
## （一）国籍代码表
| 序号 | 国家或地区数字代码 | 国家或地区名称 | 国家或地区简称 |
| --- | --- | --- | --- |
| 1 | 004 | 阿富汗 | 阿富汗 |
| 2 | 008 | 阿尔巴尼亚共和国 | 阿尔巴尼亚 |
| 3 | 010 | 南极洲 | 南极洲 |
| 4 | 012 | 阿尔及利亚民主人民共和国 | 阿尔及利亚 |
| 5 | 016 | 美属萨摩亚 | 美属萨摩亚 |
| 6 | 020 | 安道尔公国 | 安道尔 |
| 7 | 024 | 安哥拉共和国 | 安哥拉 |
| 8 | 028 | 安提瓜和巴布达 | 安提瓜和巴布达 |
| 9 | 031 | 阿塞拜疆共和国 | 阿塞拜疆 |
| 10 | 032 | 阿根廷共和国 | 阿根廷 |
| 11 | 036 | 澳大利亚联邦 | 澳大利亚 |
| 12 | 040 | 奥地利共和国 | 奥地利 |
| 13 | 044 | 巴哈马联邦 | 巴哈马 |
| 14 | 048 | 巴林国 | 巴林 |
| 15 | 050 | 孟加拉人民共和国 | 孟加拉国 |
| 16 | 051 | 亚美尼亚共和国 | 亚美尼亚 |
| 17 | 052 | 巴巴多斯 | 巴巴多斯 |
| 18 | 056 | 比利时王国 | 比利时 |
| 19 | 060 | 百慕大 | 百慕大 |
| 20 | 064 | 不丹王国 | 不丹 |
| 21 | 068 | 玻利维亚共和国 | 玻利维亚 |
| 22 | 070 | 波斯尼亚和黑塞哥维那 | 波黑 |
| 23 | 072 | 博茨瓦纳共和国 | 博茨瓦纳 |
| 24 | 074 | 布维岛 | 布维岛 |
| 25 | 076 | 巴西联邦共和国 | 巴西 |
| 26 | 084 | 伯利兹 | 伯利兹 |
| 27 | 086 | 英属印度洋领地 | 英属印度洋领地 |
| 28 | 090 | 所罗门群岛 | 所罗门群岛 |
| 29 | 092 | 英属维尔京群岛 | 英属维尔京群岛 |
| 30 | 096 | 文莱达鲁萨兰国 | 文莱 |
| 31 | 100 | 保加利亚共和国 | 保加利亚 |
| 32 | 104 | 缅甸联邦 | 缅甸 |
| 33 | 108 | 布隆迪共和国 | 布隆迪 |
| 34 | 112 | 白俄罗斯共和国 | 白俄罗斯 |
| 35 | 116 | 柬埔寨王国 | 柬埔寨 |
| 36 | 120 | 喀麦隆共和国 | 喀麦隆 |
| 37 | 124 | 加拿大 | 加拿大 |
| 38 | 132 | 佛得角共和国 | 佛得角 |
| 39 | 136 | 开曼群岛 | 开曼群岛 |
| 40 | 140 | 中非共和国 | 中非 |
| 41 | 144 | 斯里兰卡民主社会主义共和国 | 斯里兰卡 |
| 42 | 148 | 乍得共和国 | 乍得 |
| 43 | 152 | 智利共和国 | 智利 |
| 44 | 156 | 中华人民共和国 | 中国 |
| 45 | 158 | 中国台湾 | 中国台湾 |
| 46 | 162 | 圣诞岛 | 圣诞岛 |
| 47 | 166 | 科科斯（基林）群岛 | 科科斯（基林）群岛 |
| 48 | 170 | 哥伦比亚共和国 | 哥伦比亚 |
| 49 | 174 | 科摩罗伊斯兰联邦共和国 | 科摩罗 |
| 50 | 175 | 马约特 | 马约特 |
| 51 | 178 | 刚果共和国 | 刚果（布） |
| 52 | 180 | 刚果民主共和国 | 刚果（金） |
| 53 | 184 | 库克群岛 | 库克群岛 |
| 54 | 188 | 哥斯达黎加共和国 | 哥斯达黎加 |
| 55 | 191 | 克罗地亚共和国 | 克罗地亚 |
| 56 | 192 | 古巴共和国 | 古巴 |
| 57 | 196 | 塞浦路斯共和国 | 塞浦路斯 |
| 58 | 203 | 捷克共和国 | 捷克 |
| 59 | 204 | 贝宁共和国 | 贝宁 |
| 60 | 208 | 丹麦王国 | 丹麦 |
| 61 | 212 | 多米尼克国 | 多米尼克 |
| 62 | 214 | 多米尼加共和国 | 多米尼加 |
| 63 | 218 | 厄瓜多尔共和国 | 厄瓜多尔 |
| 64 | 222 | 萨尔瓦多共和国 | 萨尔瓦多 |
| 65 | 226 | 赤道几内亚共和国 | 赤道几内亚 |
| 66 | 231 | 埃塞俄比亚联邦民主共和国 | 埃塞俄比亚 |
| 67 | 232 | 厄立特里亚国 | 厄立特里亚 |
| 68 | 233 | 爱沙尼亚共和国 | 爱沙尼亚 |
| 69 | 234 | 法罗群岛 | 法罗群岛 |
| 70 | 238 | 福克兰群岛（马尔维纳斯） | 福克兰群岛（马尔维纳斯） |
| 71 | 239 | 南乔治亚岛和南桑德韦奇岛 | 南乔治亚岛和南桑德韦奇岛 |
| 72 | 242 | 斐济群岛共和国 | 斐济 |
| 73 | 246 | 芬兰共和国 | 芬兰 |
| 74 | 250 | 法兰西共和国 | 法国 |
| 75 | 254 | 法属圭亚那 | 法属圭亚那 |
| 76 | 258 | 法属波利尼西亚 | 法属波利尼西亚 |
| 77 | 260 | 法属南部领地 | 法属南部领地 |
| 78 | 262 | 吉布提共和国 | 吉布提 |
| 79 | 266 | 加蓬共和国 | 加蓬 |
| 80 | 268 | 格鲁吉亚 | 格鲁吉亚 |
| 81 | 270 | 冈比亚共和国 | 冈比亚 |
| 82 | 275 | 巴勒斯坦国 | 巴勒斯坦 |
| 83 | 276 | 德意志联邦共和国 | 德国 |
| 84 | 288 | 加纳共和国 | 加纳 |
| 85 | 292 | 直布罗陀 | 直布罗陀 |
| 86 | 296 | 基里巴斯共和国 | 基里巴斯 |
| 87 | 300 | 希腊共和国 | 希腊 |
| 88 | 304 | 格陵兰 | 格陵兰 |
| 89 | 308 | 格林纳达 | 格林纳达 |
| 90 | 312 | 瓜德罗普 | 瓜德罗普 |
| 91 | 316 | 关岛 | 关岛 |
| 92 | 320 | 危地马拉共和国 | 危地马 |
| 93 | 324 | 几内亚共和国 | 几内亚 |
| 94 | 328 | 圭亚那合作共和国 | 圭亚那 |
| 95 | 332 | 海地共和国 | 海地 |
| 96 | 334 | 赫德岛和麦克唐纳岛 | 赫德岛和麦克唐纳岛 |
| 97 | 336 | 梵蒂冈城国 | 梵蒂冈 |
| 98 | 340 | 洪都拉斯共和国 | 洪都拉斯 |
| 99 | 344 | 中国香港特别行政区 | 中国香港 |
| 100 | 348 | 匈牙利共和国 | 匈牙利 |
| 101 | 352 | 冰岛共和国 | 冰岛 |
| 102 | 356 | 印度共和国 | 印度 |
| 103 | 360 | 印度尼西亚共和国 | 印度尼西亚 |
| 104 | 364 | 伊朗伊斯兰共和国 | 伊朗 |
| 105 | 368 | 伊拉克共和国 | 伊拉克 |
| 106 | 372 | 爱尔兰 | 爱尔兰 |
| 107 | 376 | 以色列国 | 以色列 |
| 108 | 380 | 意大利共和国 | 意大利 |
| 109 | 384 | 科特迪瓦共和国 | 科特迪瓦 |
| 110 | 388 | 牙买加 | 牙买加 |
| 111 | 392 | 日本国 | 日本 |
| 112 | 398 | 哈萨克斯坦共和国 | 哈萨克斯坦 |
| 113 | 400 | 约旦哈希姆王国 | 约旦 |
| 114 | 404 | 肯尼亚共和国 | 肯尼亚 |
| 115 | 408 | 朝鲜民主主义人民共和国 | 朝鲜 |
| 116 | 410 | 大韩民国 | 韩国 |
| 117 | 414 | 科威特国 | 科威特 |
| 118 | 417 | 吉尔吉斯共和国 | 吉尔吉斯斯坦 |
| 119 | 418 | 老挝人民民主共和国 | 老挝 |
| 120 | 422 | 黎巴嫩共和国 | 黎巴嫩 |
| 121 | 426 | 莱索托王国 | 莱索托 |
| 122 | 428 | 拉脱维亚共和国 | 拉脱维亚 |
| 123 | 430 | 利比里亚共和国 | 利比里亚 |
| 124 | 434 | 大阿拉伯利比亚人民社会主义民众国 | 利比亚 |
| 125 | 438 | 列支敦士登公国 | 列支敦士登 |
| 126 | 440 | 立陶宛共和国 | 立陶宛 |
| 127 | 442 | 卢森堡大公国 | 卢森堡 |
| 128 | 446 | 中国澳门特别行政区 | 中国澳门 |
| 129 | 450 | 马达加斯加共和国 | 马达加斯加 |
| 130 | 454 | 马拉维共和国 | 马拉维 |
| 131 | 458 | 马来西亚 | 马来西亚 |
| 132 | 462 | 马尔代夫共和国 | 马尔代夫 |
| 133 | 466 | 马里共和国 | 马里 |
| 134 | 470 | 马耳他共和国 | 马耳他 |
| 135 | 474 | 马提尼克 | 马提尼克 |
| 136 | 478 | 毛里塔尼亚伊斯兰共和国 | 毛里塔尼亚 |
| 137 | 480 | 毛里求斯共和国 | 毛里求斯 |
| 138 | 484 | 墨西哥合众国 | 墨西哥 |
| 139 | 492 | 摩纳哥公国 | 摩纳哥 |
| 140 | 496 | 蒙古国 | 蒙古 |
| 141 | 498 | 摩尔多瓦共和国 | 摩尔多瓦 |
| 142 | 499 | 黑山 | 黑山 |
| 143 | 500 | 蒙特塞拉特 | 蒙特塞拉特 |
| 144 | 504 | 摩洛哥王国 | 摩洛哥 |
| 145 | 508 | 莫桑比克共和国 | 莫桑比克 |
| 146 | 512 | 阿曼苏丹国 | 阿曼 |
| 147 | 516 | 纳米比亚共和国 | 纳米比亚 |
| 148 | 520 | 瑙鲁共和国 | 瑙鲁 |
| 149 | 524 | 尼泊尔王国 | 尼泊尔 |
| 150 | 528 | 荷兰王国 | 荷兰 |
| 151 | 530 | 荷属安的列斯 | 荷属安的列斯 |
| 152 | 533 | 阿鲁巴 | 阿鲁巴 |
| 153 | 540 | 新喀里多尼亚 | 新喀里多尼亚 |
| 154 | 548 | 瓦努阿图共和国 | 瓦努阿图 |
| 155 | 554 | 新西兰 | 新西兰 |
| 156 | 558 | 尼加拉瓜共和国 | 尼加拉瓜 |
| 157 | 562 | 尼日尔共和国 | 尼日尔 |
| 158 | 566 | 尼日利亚联邦共和国 | 尼日利亚 |
| 159 | 570 | 纽埃 | 纽埃 |
| 160 | 574 | 诺福克岛 | 诺福克岛 |
| 161 | 578 | 挪威王国 | 挪威 |
| 162 | 580 | 北马里亚纳自由联邦 | 北马里亚纳 |
| 163 | 581 | 美国本土外小岛屿 | 美国本土外小岛屿 |
| 164 | 583 | 密克罗尼西亚联邦 | 密克罗尼西亚联邦 |
| 165 | 584 | 马绍尔群岛共和国 | 马绍尔群岛 |
| 166 | 585 | 帕劳共和国 | 帕劳 |
| 167 | 586 | 巴基斯坦伊斯兰共和国 | 巴基斯坦 |
| 168 | 591 | 巴拿马共和国 | 巴拿马 |
| 169 | 598 | 巴布亚新几内亚独立国 | 巴布亚新几内亚 |
| 170 | 600 | 巴拉圭共和国 | 巴拉圭 |
| 171 | 604 | 秘鲁共和国 | 秘鲁 |
| 172 | 608 | 菲律宾共和国 | 菲律宾 |
| 173 | 612 | 皮特凯恩 | 皮特凯恩 |
| 174 | 616 | 波兰共和国 | 波兰 |
| 175 | 620 | 葡萄牙共和国 | 葡萄牙 |
| 176 | 624 | 几内亚比绍共和国 | 几内亚比绍 |
| 177 | 626 | 东帝汶 | 东帝汶 |
| 178 | 630 | 波多黎各 | 波多黎各 |
| 179 | 634 | 卡塔尔国 | 卡塔尔 |
| 180 | 638 | 留尼汪 | 留尼汪 |
| 181 | 642 | 罗马尼亚 | 罗马尼亚 |
| 182 | 643 | 俄罗斯联邦 | 俄罗斯联邦 |
| 183 | 646 | 卢旺达共和国 | 卢旺达 |
| 184 | 654 | 圣赫勒拿 | 圣赫勒拿 |
| 185 | 659 | 圣基茨和尼维斯联邦 | 圣基茨和尼维斯 |
| 186 | 660 | 安圭拉 | 安圭拉 |
| 187 | 662 | 圣卢西亚 | 圣卢西亚 |
| 188 | 666 | 圣皮埃尔和密克隆 | 圣皮埃尔和密克隆 |
| 189 | 670 | 圣文森特和格林纳丁斯 | 圣文森特和格林纳丁斯 |
| 190 | 674 | 圣马力诺共和国 | 圣马力诺 |
| 191 | 678 | 圣多美和普林西比民主共和国 | 圣多美和普林西比 |
| 192 | 682 | 沙特阿拉伯王国 | 沙特阿拉伯 |
| 193 | 686 | 塞内加尔共和国 | 塞内加尔 |
| 194 | 688 | 塞尔维亚 | 塞尔维亚 |
| 195 | 690 | 塞舌尔共和国 | 塞舌尔 |
| 196 | 694 | 塞拉利昂共和国 | 塞拉利昂 |
| 197 | 702 | 新加坡共和国 | 新加坡 |
| 198 | 703 | 斯洛伐克共和国 | 斯洛伐克 |
| 199 | 704 | 越南社会主义共和国 | 越南 |
| 200 | 705 | 斯洛文尼亚共和国 | 斯洛文尼亚 |
| 201 | 706 | 索马里共和国 | 索马里 |
| 202 | 710 | 南非共和国 | 南非 |
| 203 | 716 | 津巴布韦共和国 | 津巴布韦 |
| 204 | 724 | 西班牙王国 | 西班牙 |
| 205 | 728 | 南苏丹 | 南苏丹 |
| 206 | 732 | 西撒哈拉 | 西撒哈拉 |
| 207 | 736 | 苏丹共和国 | 苏丹 |
| 208 | 740 | 苏里南共和国 | 苏里南 |
| 209 | 744 | 斯瓦尔巴岛和扬马延岛 | 斯瓦尔巴岛和扬马延岛 |
| 210 | 748 | 斯威士兰王国 | 斯威士兰 |
| 211 | 752 | 瑞典王国 | 瑞典 |
| 212 | 756 | 瑞士联邦 | 瑞士 |
| 213 | 760 | 阿拉伯叙利亚共和国 | 叙利亚 |
| 214 | 762 | 塔吉克斯坦共和国 | 塔吉克斯坦 |
| 215 | 764 | 泰王国 | 泰国 |
| 216 | 768 | 多哥共和国 | 多哥 |
| 217 | 772 | 托克劳 | 托克劳 |
| 218 | 776 | 汤加王国 | 汤加 |
| 219 | 780 | 特立尼达和多巴哥共和国 | 特立尼达和多巴哥 |
| 220 | 784 | 阿拉伯联合酋长国 | 阿联酋 |
| 221 | 788 | 突尼斯共和国 | 突尼斯 |
| 222 | 792 | 土耳其共和国 | 土耳其 |
| 223 | 795 | 土库曼斯坦 | 土库曼斯坦 |
| 224 | 796 | 特克斯和凯科斯群岛 | 特克斯和凯科斯群岛 |
| 225 | 798 | 图瓦卢 | 图瓦卢 |
| 226 | 800 | 乌干达共和国 | 乌干达 |
| 227 | 804 | 乌克兰 | 乌克兰 |
| 228 | 807 | 前南斯拉夫马其顿共和国 | 前南马其顿 |
| 229 | 818 | 阿拉伯埃及共和国 | 埃及 |
| 230 | 826 | 大不列颠及北爱尔兰联合王国 | 英国 |
| 231 | 831 | 根西岛 | 根西岛 |
| 232 | 832 | 泽西岛 | 泽西岛 |
| 233 | 833 | 马恩岛 | 马恩岛 |
| 234 | 834 | 坦桑尼亚联合共和国 | 坦桑尼亚 |
| 235 | 840 | 美利坚合众国 | 美国 |
| 236 | 850 | 美属维尔京群岛 | 美属维尔京群岛 |
| 237 | 854 | 布基纳法索 | 布基纳法索 |
| 238 | 858 | 乌拉圭东岸共和国 | 乌拉圭 |
| 239 | 860 | 乌兹别克斯坦共和国 | 乌兹别克斯坦 |
| 240 | 862 | 委内瑞拉共和国 | 委内瑞拉 |
| 241 | 876 | 瓦利斯和富图纳 | 瓦利斯和富图纳 |
| 242 | 882 | 萨摩亚独立国 | 萨摩亚 |
| 243 | 887 | 也门共和国 | 也门 |
| 244 | 891 | 南斯拉夫联盟共和国 | 南斯拉夫 |
| 245 | 894 | 赞比亚共和国 | 赞比亚 |
| 246 | A00 | 科索沃 | 科索沃 |






