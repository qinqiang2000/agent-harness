<font style="color:#000000;">乐企数字化电子发票（通行费）开票能力说明文档V2.000</font>



**<font style="color:#000000;">修改说明</font>**

| **版本** | **章节编号** | **修订内容简述** | **生效日期** |
| :--- | :--- | :--- | :--- |
| V1.000 | <font style="color:rgb(0, 0, 0);">全部</font> | <font style="color:#000000;">新建文档</font> | 2024.4.26 |
| V1.001 | <font style="color:rgb(0, 0, 0);">第四、五章</font> | <font style="color:#000000;">第四章2.2.3.1/5.2.3.1调整通行日期起、止为选填；   </font><font style="color:#000000;">第五章6.通行费发票上传调整通行日期起、止为选填。</font> | 2024.11.07 |
| V1.002 | <font style="color:rgb(0, 0, 0);">第四章</font> | <font style="color:#000000;">第四章2.2.3.3调整编码校验规则。</font> | 2024.11.11 |
| V1.003 | <font style="color:rgb(0, 0, 0);">第四章</font> | <font style="color:#000000;">第四章2.2.3.3调整编码校验规则，新增开票编码。</font> | 2024.11.11 |
| V1.004 | 第四、五章 | 第四章5.2.3.1调整备注长度；<br/>第五章6.通行费发票上传调整备注字段说明。 | 2025.01.24 |
| V1.005 | 第四、五章 | 第四章2.2.3.1、5.2.3.1合规性校验增加发票开具方式代码字段；2.2.3.3、5.2.3.2业务逻辑校验增加发票开具方式代码校验规则。   第五章6.通行费上传增加发票开具方式代码字段。 | 2025.03.28 |
| V1.006 | 第五章 | 发票上传、红字确认单申请、汇总确认等接口请求报文增加生产报文示例。 | 2025.08.29 |
| V2.000 | 第五章 | 增加发票用途状态信息查询接口 | 2025.09.26 |




**<font style="color:#000000;">目 录</font>**

一、阅读指引	1

二、能力介绍	1

（一）能力简介	1

（二）应用案例	1

（三）名词解释	1

（四）扩展阅读	2

三、政策依据	2

四、开发指引	2

（一）业务场景	2

1.通行费发票开具前置	2

2.通行费蓝字发票开具	8

3.通行费红字确认单申请	16

4.红字确认单确认	22

5.通行费红字发票开具	25

6.开票汇总确认	34

五、 接口技术说明	38

（一）能力编码	38

（二）接口清单	38

（三）接口详情	39

1.查询纳税人基本信息	39

2.查询可用税率信息	47

3.查询税收分类编码信息	49

4.查询通行费红字确认单列表信息	54

5.查询通行费红字确认单明细信息	61

6.通行费发票上传	66

7.查询通行费发票上传结果	76

8.通行费红字确认单申请	78

9.通行费红字确认单确认	84

10.上传发票汇总确认信息	86

11. 查询发票汇总确认信息	89

12.发票用途状态信息查询	92

六、 附件	96



# 一、阅读指引
为满足收费公路多场景、规模化、合规化、自动化的通行费发票开具需求，乐企数字开放平台提供通行费数电票的开具能力，并通过本能力说明文档明确了通行费数电票开具相关业务规则和数据接口。

本能力适用于提供收费公路通行服务的纳税人订阅。

本能力说明文档分为阅读指引、能力介绍、政策依据、开发指引、接口技术说明、附件六个章节，其中阅读指引、能力介绍、政策依据章节适合纳税人管理人员及财务人员阅读；开发指引、接口技术说明、附件章节适合纳税人技术人员阅读。

# 二、能力介绍
## （一）能力简介
收费公路提供通行服务时，可以通过本能力开具通行费发票。

收费公路可将本能力中的各类规则和接口嵌入业务系统中，实现通行费发票开具流程和商业行为的融合，有效提升发票开具效率。

## （二）应用案例
某收费公路公司将通行费发票开具能力嵌入通行费管理系统中，经办人对行程申请开具通行费发票时，通行费管理系统通过乐企嵌入的通行费发票开具规则和接口，组合开票能力获取的发票要素等信息自动生成通行费发票，并完成交付。

## （三）名词解释
直连单位:指的是申请直连乐企数字开放平台且税务机关审核通过的纳税人。

使用单位:指的是被直连单位邀请直连乐企数字开放平台且税务机关审核通过的纳税人。

开具前置:指的是纳税人在开具发票前所获取的关于开票相关信息的能力。

API列表:指的是纳税人在使用开票能力期间所需要的应用程序接口。

## （四）扩展阅读
无。

# 三、政策依据
《交通运输部 财政部 国家税务总局 国家档案局关于收费公路通行费电子票据开具汇总等有关事项的公告》（交通运输部公告2020年第24号）。

国家税务总局各省（自治区、直辖市、计划单列市）税务局关于推行全面数字化电子发票的相关公告。

# 四、开发指引
企业在调用乐企平台发起的相关请求报文中禁止使用Unicode码，但是可以使用Unicode码对应的中文。例如 ★ 可以出现在开票报文的备注中，但是不能出现\u38996。

## （一）业务场景
为方便理解，下述内容中业务流程图中涉及到的接口编号与第四章-4.1接口清单列表进行对应，编号规则仅适用于本文档，后续乐企1.5平台对所有接口编号设置统一的编号规则；下述内容中时序图中的编号表示步骤顺序。

### 1.通行费发票开具前置
企业在开具发票前可提前将开具发票所需的相关信息获取到本地，待开票时查询本地的数据进行校验。

在此场景中企业获取信息时无严格的先后顺序，可同时申请获取所有信息，也可以单独只获取某一个开票信息更新本地的信息。

#### 1.1全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114856712-f376af7d-e49e-4fa1-9a18-38890eed3c49.png)

#### 1.2业务规则 
##### 1.2.1获取纳税人基本信息
定时获取纳税人基本信息，用于企业判断是否可以使用通行费开票能力，建议定时获取纳税人基本信息，或者在纳税人基本信息发生变更时手动触发更新。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114856961-17789283-0de2-4a15-8850-5ea83fcb27b0.png)

当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 1.2.2获取可用税收分类编码
定时获取可用税收分类编码，在开具通行费发票时可依据获取到的税收分类编码判断发票信息是否合规，建议定时获取税收分类编码。

针对不同的税收分类编码维护了可使用增值税特殊管理内容，即可使用的优惠政策，纳税人在开具数字化电子发票时可以根据选择的税收分类编码选择适用的优惠政策，享受税收减免政策。

在开具通行费数字化电子发票时，根据需求选择符合的优惠政策代码和税率，包括：

优惠政策选择“简易征收”，发票明细“优惠政策标识”项填写“01”，税率限制为3%或5%；

优惠政策选择“不征税”，发票明细“优惠政策标识”项填写“04”，选择不征税后，税率为0，该优惠政策不能与其他优惠政策（含优惠政策标识为空的）混开；

优惠政策选择“按3%简易征收”，发票明细“优惠政策标识”项填写“08”，“税率”栏次限制为3%；



![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114857142-83e3fcdd-8630-4b03-aaa9-596f990e8b6b.png)

当接口调用时发生以下任意情形，调用失败。

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 1.2.3获取可用税率
定时获取可用税率，使用在开具通行费发票时可依据获取到的可用税率判断发票信息是否合规，建议定时获取可用税率。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114857414-d480bdf5-ec95-4c78-aeef-f37d8c184aff.png)

当接口调用时发生以下任意情形，调用失败。

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 1.2.4获取通行费蓝字发票勾选信息
企业可依据通行费蓝字发票信息勾选信息判断通行费蓝字发票是否可红冲，建议企业定时下载/更新通行费蓝字发票信息勾选，或在接收通行费蓝字发票勾选状态发生变更时手工获取通行费蓝字发票勾选信息。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114858117-f97f76f0-3b54-4614-94b9-d6a68c39307f.png)

调用发票归集能力的《发票状态信息查询》接口，获取通行费蓝字发票勾选信息，当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 1.2.5获取通行费红字确认单列表
从税务局端获取通行费红字确认单列表信息，以便于后期开具红字发票以及红字发票确认时进行业务校验。建议企业定时下载/更新通行费红字确认单列表信息,或在接收通行费红字确认单、通行费红字确认单变更时手工获取通行费红字确认单列表信息。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114858461-312917bf-5f6d-4ee4-915e-c2e930c0707a.png)

当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 1.2.6获取通行费红字确认单明细
从税务局端获取通行费红字确认单明细信息，以便于后期开具红字发票以及红字发票确认时进行业务校验。建议企业定时下载/更新通行费红字确认单明细信息,或在接收通行费红字确认单明细、通行费红字确认单明细变更时手工获取通行费红字确认单明细信息。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114858737-991b214d-9d4f-4863-9e5e-e11cb6f614ca.png)

当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

### 2.通行费蓝字发票开具
#### 2.1全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114858977-1408675a-1497-4586-880f-9a141a645538.png)

#### 2.2业务规则
##### 2.2.1判断纳税人开票资格
查询本地保存的纳税人基本信息，判断纳税人是否具备开具通行费蓝字发票资格。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114859333-08b05b0e-b543-4072-aadf-2469a392a835.png)

当发生以下任意条件时禁止开具通行费蓝字发票：

● 未查询到纳税人基本信息，本地无纳税人基本信息。

● 纳税人信息中“纳税人状态”不是“03（正常）”、“09（报验）”中的任意一个。

##### 2.2.2获取开票基础信息
查询本地保存的税收分类编码信息和可用税率信息。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114859608-84157877-8135-48da-8713-075a36eead32.png)

##### 2.2.3录入、校验发票信息
依据开票能力发票开具的要求，录入发票信息，并依据发票开具规则对发票信息进行业务逻辑校验，主要包括合规性校验、数值校验。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114859832-933655e4-32f1-47f2-8c9e-819c0b70dbf4.png)

###### **2.2.3.1合规性校验**
合规性校验主要对输入参数的类型、长度、是否必填、码值进行校验。以下任意一项不满足要求时，阻断发票开具。校验规则如下：

● 平台编号，必填，最大长度20位；

● 发票票种，必填，必须为“02”；

● 发票号码，必填，长度20位，由数字组成，需符合通行费发票赋码规则；

● 蓝字发票标志，必填，取值范围为“0”、“1”；

● 开票日期，必填，格式必须是“yyyy-MM-dd HH:mm:ss”；

● 开票人，必填，最大长度300位；

● 开票人证件号码，选填，最大长度30位；

● 开票人证件类型，选填，最大长度4位，取值范围为“101”、“102”、“103”、“199”、“201”、“202”、“203”、“204”、“205”、“206”、“207”、“208”、“209”、“210”、“211”、“212”、“213”、“214”、“215”、“216”、“217”、“218”、“219”、“220”、“221”、“222”、“223”、“224”、“225”、“226”、“227”、“228”、“229”、“230”、“231”、“232”、“233”、“234”、“235”、“236”、“237”、“238”、“239”、“240”、“241”、“291”、“299”；

● 特定要素，必填，必须为“08”；

● 区域代码，必填，最大长度20位；

● 销售方纳税人识别号，必填，最大长度20位，由数字和大写字母组成；

● 销售方名称，必填，最大长度300位；

● 销售方地址，选填，最大长度300位；

● 销售方电话，选填，最大长度60位；

● 销售方开户行，选填，最大长度120位；

● 销售方账号，选填，最大长度50位；

● 收款银行名称，选填，最大长度120位；

● 收款银行账号，选填，最大长度100位；

● 购买方纳税人识别号，选填，最大长度	20位（开具抵扣发票时，必填）；

● 购买方名称，必填，最大长度300位；

● 购买方地址，选填，最大长度300位；

● 购买方电话，选填，最大长度60位；

● 购买方开户行名称，选填，最大长度120位；

● 购买方开户行银行账号，选填，最大长度50位；

● 购买方自然人标志，选填，取值范围为“Y”、“N”；

● 经办人，选填，最大长度150位；

● 经办人身份证件号码，选填，最大长度	30位；

● 经办人联系电话，选填，最大长度60位；

● 合计金额，必填，最大长度18位，最多2位小数；

● 合计税额，必填，最大长度18位，最多2位小数；

● 价税合计，必填，最大长度18位，最多2位小数；

● 结算方式，选填，取值范围为“01”、“02”、“03”、“04”、“05”、“99”；

● 应税行为发生地，选填，最大长度11位；

● 对应蓝字发票号码，选填，长度20位；

● 红字确认信息单编号，选填，最大长度20位；

● 红字确认单uuid，选填，最大长度32位；

● 备注，选填，最大长度450位；

● 服务器地址，必填，长度20位；

● mac地址，必填，长度20位；

● CPU序列号，选填，长度20位；

● 主板序列号，选填，长度20位；

● 是否展示销售方银行账号标签，选填，取值范围为“Y”、“N”；

● 是否展示购买方银行账号标签，选填，取值范围为“Y”、“N”；

● 减按征税类型代码，选填，取值范围为“54”、“55”；

● 发票开具方式代码，必填，最大长度1位，取值范围“4”、“5”。

● 明细序号，必填，最大长度8位；

● 对应蓝字发票明细序号，选填，最大长度8位；

● 项目名称，必填，最大长度600位；

● 商品和服务税收分类合并编码，必填，最大长度19位，必须在商品编码信息中存在；

● 货物或应税劳务、服务名称，必填，最大长度300位；

● 商品服务简称，必填，最大长度120位；

● 车牌号码，必填，最大长度20位；

● 车辆类型代码，必填，最大长度5位；

● 车辆类型名称，必填，最大长度40位；

● 通行日期起，选填，格式必须是“yyyy-MM-dd HH:mm:ss”，仅当使用“6010000000000000000 预付卡销售和充值”的商品和服务税收分类编码开具ETC卡充值通行费发票时为选填，其他场景必填；

● 通行日期止，选填，格式必须是“yyyy-MM-dd HH:mm:ss”，仅当使用“6010000000000000000 预付卡销售和充值”的商品和服务税收分类编码开具ETC卡充值通行费发票时为选填，其他场景必填；

● 金额，必填，最大长度18位，最多2位小数；

● 增值税税率/征收率，必填，最大长度16位，最多6位小数。必须在可用税率信息中存在；

● 税额，必填，最大长度18位，最多2位小数；

● 含税金额，必填，最大长度18位，最多2位小数；

● 发票行性质，必填，取值范围为“00”、“01”、“02”；

● 优惠政策标识，选填，不为空时取值范围为“01”、“02”、“03”、“04”、“05”、“06”、“07”、“08”、“09”、“10”、“11”、“12”、“13”、“14”、“15”、“16”、“17”、“18”；

● 附加要素名称，选填，最大长度200位；

● 附加要素类型，选填，最大长度200位；

● 附加要素值，选填，最大长度200位。

###### **2.2.3.2数据校验**
● 汇总金额校验：|所有商品行金额之和-合计金额|<=0.01。

● 单行税额校验：| 金额 * 税率 - 税额 |<=0.06。

● 汇总税额校验：| 金额 * 税率（第1行）+......+金额 * 税率（第N行）-税额合计|<=1.27。

● 折扣行校验：折扣行的项目名称应与原发票行一致。

###### **2.2.3.3业务逻辑校验**
● 开具通行费发票只能使用“3040502020301000000高速公路通行服务”、“3040502020399000000其他道路通行服务”、“6010000000000000000 预付卡销售和充值”商品和服务税收分类编码开具发票，且当使用“6010000000000000000 预付卡销售和充值”商编开具发票时，只能开具ETC卡充值的不征税发票。

● 发票上传接口中“平台编号”字段值必须为直连单位ID。

● 单张发票明细行最多不能超过5000条，超过5000条则阻断发票上传；建议企业开具发票明细行控制在2000条以下。

● 开具发票只能使用税收分类编码中“是否汇总项”字段为“N”的编码进行开票。

● 发票上传时间与开票时间间隔应当小于48小时。

●“发票开具方式代码”根据直连单位与使用单位的关系填写内容，当直连单位和使用单位关系为直连单位自用、总分公司关系、母子公司关系、其他控制关系、同一监管部门时，必须填写“5：自建平台开票（乐企自用开票）”，当关系为不具有控制关系（他用）、不具有控制关系（联用）时，必须填写“4：第三方平台开票（乐企联用、他用开票）” 。

##### 2.2.4发票赋码
路网中心系统根据电子发票票号码规则，给电子发票（通行费）依次分配不重复的发票号码。

赋码规则：发票号码设计采用20位电子发票编码规则：

第1-2位，共2位，取开票年份的末2位，如2021年开的发票为21，2022年为22，以此类推。

第3-4位，共2位，为省份代码。

第5位为“7”。  
第6位为“9”。

7-20位由行云按交通运输部门设定的通行费发票号码规则编码。



![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114860077-c73af4e7-5e89-4ba1-8932-f23ad044055f.png)

##### 2.2.5发票上传
发票赋码成功后，首先在本地保存通行费蓝字发票预开具信息（发票状态为“预开具成功”），调用税务局端《通行费发票上传》接口预上传通行费蓝字发票，并依据返回的结果，更新本地发票预上传结果。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114860344-c83e4df0-6eb1-4f42-81b0-ec6f0eb72f06.png)

调用《通行费发票上传》进行判断，满足以下任意条件时阻断开具通行费蓝字发票：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 2.2.6查询发票上传结果
发票上传成功后，间隔10S依据发票上传返回的“受理流水号”调用税务局端《查询通行费发票上传结果》接口查询通行费蓝字发票是否接收成功，并依据返回的发票开具结果，更新本地发票开具结果。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114860580-c5acae07-88f4-4484-bae2-446f5da2297a.png)

调用《查询通行费发票上传结果》接口查询通行费蓝字发票是否开具成功： 

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

### 3.通行费红字确认单申请
#### 3.1全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114861006-67e2a7ae-bcdc-4303-9081-ce03379db654.png)

#### 3.2业务规则
##### 3.2.1判断纳税人申请资格
查询本地保存的纳税人基本信息，判断纳税人是否具备申请通行费红字确认单资格。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114861196-619dd544-570a-4e35-9406-dcd5798111c4.png)

根据查询的纳税人基本信息进行校验，当发生以下任意条件时禁止开具通行费红字确认单：

● 未查询到纳税人基本信息，本地无纳税人基本信息。

● 纳税人信息中“纳税人状态”不是“03（正常）”、“09（报验）”中的任意一个。

##### 3.2.2本地判断蓝字发票是否可红冲
查询本地保存蓝字发票信息和蓝字发票勾选信息，校验通行费蓝字发票是否具备红冲条件。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114861454-23df4a49-ff00-496b-8458-5aed13dc598b.png)

对从本地查询的蓝字发票、蓝字发票勾选信息、通行费红字发票信息进行判断，满足以下任意条件时禁止开具通行费红字确认单：

● 企业业务系统中无蓝字发票信息。

● 对应蓝字发票被认定为异常发票。

● 对应蓝字发票状态为“作废”、“锁定”或“异常凭证”。

● 查询蓝字发票抵扣信息失败，本地无蓝字发票抵扣信息。

● 对应蓝字发票增值税用途为待退税、已退税、已抵扣（改退）、已代办退税、不予退税且不予抵扣时。

● 校验对应蓝字发票税收优惠类标签明细，当“冬奥会退税标签”为“已用于冬奥会退税”时。

##### 3.2.3录入、校验通行费红字确认单信息
依据开票能力通行费红字确认单要求，录入通行费红字确认单信息，并依据通行费红字确认单申请规则对发票信息进行业务逻辑校验，主要包括合规性校验、数值校验。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114861643-c438fd33-b34b-43e9-85b7-40bf6f363a29.png)

###### **3.2.3.1合规性校验**
合规性校验主要对输入参数的类型、长度、是否必填、码值进行校验。以下任意一项不满足要求时，阻断发票开具，校验规则如下：

● 录入方身份，必填，取值范围为“0”、“1”。

● 销售方纳税人识别号，必填，最大长度20位，由数字和大写字母组成。

● 销售方名称，必填，最大长度300位。

● 购买方纳税人识别号，选填，最大长度	20位。

● 购买方名称，必填，最大长度300位。

● 蓝字发票代码，选填，最大长度12位。

● 蓝字发票号码，必填，最大长度20位。

● 是否纸质发票标志，必填，取值范围为“Y”、“N”。

● 蓝字发票开票日期，必填，格式为yyyy-MM-dd HH:mm:ss。

● 蓝字发票合计金额，必填，最大长度18位，最多2位小数。

● 蓝字发票合计税额，必填，最大长度18位，最多2位小数。

● 蓝字发票发票票种代码，必填，取值范围为“02”。

● 蓝字发票特定要素类型代码，必填，取值范围为“08”。

● 红字冲销金额，必填，最大长度18位，最多2位小数。

● 红字冲销税额，必填，最大长度18位，最多2位小数。

● 红字发票冲红原因代码，必填，取值范围为“01”、“02”、“03”、“04”。

● 序号，必填，最大长度	8位，从1开始。

● 蓝字发票明细序号，必填，最大长度8位。

● 商品和服务税收分类合并编码，必填，最大长度19位。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 金额，必填，最大长度18位，最多2位小数。

● 税率，必填，最大长度16位，最多6位小数。

● 税额，必填，最大长度18位，最多2位小数。

###### **3.2.3.2数据校验**
● 含税金额=税额+金额，不能有误差。

● 红票开具金额<= 对应蓝字发票开具金额。

###### **3.2.3.3业务逻辑校验**
● 当对受票方为企业的通行费发票申请红字确认单时，无论是否进行勾选用途确认或入账确认，均支持销方发起部分红冲或全额红冲；若受票方企业已用票，购销双方均可以发起部分红冲或全额红冲，经对方确认后开票方开具红字发票。

● 当对受票方为自然人的通行费发票申请红字确认单时，若受票方在个人票夹未操作“拒收”，此时支持销方发起部分红冲或全额红冲；若受票方已在个人票夹操作“拒收”，此时仅支持销方发起全额红冲。

● 红字发票的商品金额必须为负数，税额不为正数。

● 对应蓝字发票带折扣行时，将折扣金额、税额分摊反映在对应的项目名称行上，再和红字发票进行比对。

● 对应蓝字发票开具过红字发票时，系统对红冲的“对应蓝字发票明细序号”行累计数量、累计金额和累计税额进行监控。当累计开具红字发票的数量以及负数金额或者税额绝对值之和超过原蓝字发票时，不允许其继续开具红字发票。

 	● 通行费发票申请红字确认单红冲原因只能选择“开票有误”、“销售折让”或“服务中止”，单价、数量必须为空。红冲原因为“开票有误”时，必须全额红冲，并且明细金额必须和蓝字发票保持一致；红冲原因为“服务中止”或“销售折让”时，允许部分红冲。

● 开票方后续若注销税控设备，或符合使用数电票红冲税控发票条件的，可以在通行费管理系统中开具红字通行费数电票，对原税控开具的通行费发票进行红冲。

● 对于税控发票，申请红字确认单时，如果税控蓝票项目名称为*A*B，红字确认单项目名称字段填写税控蓝字发票项目名称第二个*号之后的内容，即B。

##### 3.2.4红字确认单申请
通行费红字确认单录入校验通过后，首先在本地保存通行费红字确认单申请信息，调用税务局端《通行费红字确认单申请》接口将预申请通行费红字确认单上传至税务局端，如果返回成功则表明预申请通行费红字确认单上传成功。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114861919-4f26b7bd-0f5c-4f96-9307-34b2e30f4648.png)

调用《通行费红字确认单申请》接口申请通行费红字确认单，满足以下任意条件时阻断申请通行费红字确认单，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

### 4.红字确认单确认
#### 4.1全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114862132-3ab752b8-6e69-4e9a-ab19-6afed4d069a8.png)

#### 4.2.业务规则 
##### 4.2.1判断纳税人确认资格
查询本地保存的纳税人基本信息，判断纳税人是否具备确认红字确认单的资格。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114862330-b99fb829-511b-492f-bf0c-a9f3c07017b7.png)

当发生以下任意条件时禁止申请通行费红字确认单：

● 未查询到纳税人基本信息，本地无纳税人基本信息。

● 纳税人信息中“纳税人状态”不是“03（正常）”、“09（报验）”中的任意一个。

##### 4.2.2查询通行费红字确认单信息
从本地查询通行费红字确认单信息，判断红字确认单是否可以确认。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114862602-bf33db99-2177-4ded-a9ba-47d73f052fcd.png)

当满足以下任意条件时禁止确认通行费红字确认单：

● 查询通行费红字确认单信息失败，本地无通行费红字确认单信息。

● 红字确认单状态非待确认状态。

##### 4.2.3选择、确认通行费红字确认单
从查询出的通行费红字确认单中选择需要确认的通行费红字确认单，并选择确认结果。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114862772-043427c2-40ca-4ad2-9f68-30e6d2d80597.png)

##### 4.2.4上传通行费红字确认单确认信息
调用《通行费红字确认单确认》接口向税务局端上传通行费红字确认单确认结果，包括：同意、不同意和撤销，并更新通行费红字确认单确认信息上传结果。

红字确认单撤销时要求红字确认单状态为有效且未开具红票，红字确认单撤销只能由最后操作方申请，具体包含以下规则：

1、购买方未对蓝字发票做勾选/入账操作，销售方申请红字确认单，这时红字确认单状态为“01”，此时只允许销售方撤销。

2、购买方对蓝字发票做勾选/入账操作，销售方申请红字确认单，购买方未确认，这时红字确认单状态为“02”，此时只允许销售方撤销。

3、购买方对蓝字发票做勾选/入账操作，销售方申请红字确认单，购买方已确认，这时红字确认单状态为“04”，此时只允许购买方撤销。

4、购买方对蓝字发票做勾选/入账操作，购买方申请红字确认单，销售方未确认，这时红字确认单状态为“03”，此时只允许购买方撤销。

5、购买方对蓝字发票做勾选/入账操作，购买方申请红字确认单，销售方已确认，这时红字确认单状态为“04”，此时只允许销售方撤销。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114862962-43f5b0d3-2c68-4fb2-a0b8-c77e614c9140.png)

调用《通行费红字确认单确认》接口上传已确认的通行费红字确认单信息，当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

### 5.通行费红字发票开具
#### 5.1.全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114863212-1ef6153b-b9f0-4123-91c9-cbca12f41c75.png)

#### 5.2.业务规则
##### 5.2.1校验红字确认单信息
查询本地保存的红字确认单信息，判断是否存在红字确认单信息以及红字确认单状态是否正常。 

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114863491-c357b3dc-96bb-4e78-b44e-40f49cb1a35d.png)

根据查询的红字确认单信息进行校验，当满足以下任意条件时禁止开具通行费红字发票：

● 未查询到红字确认单信息，本地无红字确认单信息。

● 通行费红字确认单信息状态不正确。

##### 5.2.2判断纳税人开票资格
查询本地保存的纳税人基本信息，判断纳税人是否具备开具通行费红字发票资格。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114864171-e6151f8c-cd5f-49db-a57f-482b2d6e47f2.png)

当发生以下任意条件时禁止开具通行费红字发票：

● 未查询到纳税人基本信息，本地无纳税人基本信息。

● 纳税人信息中“纳税人状态”不是“03（正常）”、“09（报验）”中的任意一个。

##### 5.2.3录入、校验发票信息
依据开票能力红字发票开具的要求，依据红字确认单录入发票信息，并依据发票开具规则对发票信息进行业务逻辑校验，主要包括合规性校验、数值校验。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114864388-92b4c3a6-83b4-47f6-bfa9-c8b093d90d00.png)

###### **5.2.3.1合规性校验**
合规性校验主要对输入参数的类型、长度、是否必填、码值进行校验。以下任意一项不满足要求时，阻断发票开具。校验规则如下：

● 发票号码，必填，长度20位，由数字组成，前2位为年份后2位。

● 蓝字发票标志，必填，取值范围为“0”、“1”.

● 平台编号，必填，最大长度20位。

● 服务器地址，必填，长度20位。

● mac地址，必填，长度20位。

● CPU序列号，选填，长度20位。

● 主板序列号，选填，长度20位。

● 发票票种，必填，取值范围为“02”。

● 购买方自然人标志，选填，取值范围为“Y”、“N”。

● 特定要素，必填，取值范围为“08”。

● 区域代码，必填，最大长度20位。

● 收购发票类型代码，选填，取值范围为空、“01”、“02”、“03”。

● 差额征税类型代码，选填，取值范围为空、“01”、“02”。

● 出口业务适用政策代码，选填，取值范围为空、“01”、“02”、“03”。

● 增值税即征即退代码，选填，取值范围为空、“01”、“02”、“03”、“04”、“05”、“06”、“07”、“08”、“09”、“10”、“11”、“12”。

● 销售方纳税人识别号，必填，最大长度20位，由数字和大写字母组成。

● 销售方名称，必填，最大长度300位。

● 销售方地址，选填，最大长度300位。

● 销售方电话，选填，最大长度60位。

● 销售方开户行，选填，最大长度120位。

● 销售方账号，选填，最大长度50位。

● 购买方纳税人识别号，选填，最大长度	20位（开具抵扣发票时，必填）。

● 购买方名称，必填，最大长度300位。

● 购买方地址，选填，最大长度300位。

● 购买方电话，选填，最大长度60位。

● 购买方开户行名称，选填，最大长度120位。

● 购买方开户行银行账号，选填，最大长度50位。

● 经办人，选填，最大长度150位。

● 经办人身份证件号码，选填，最大长度	30位。

● 经办人联系电话，选填，最大长度60位。

● 合计金额，必填，最大长度18位，最多2位小数。

● 合计税额，必填，最大长度18位，最多2位小数。

● 价税合计，必填，最大长度18位，最多2位小数。

● 收款银行名称，选填，最大长度120位。

● 收款银行账号，选填，最大长度100位。

● 结算方式，选填，取值范围为“01”、“02”、“03”、“04”、“05”、“99”。

● 应税行为发生地，选填，最大长度11位。

● 开票人，必填，最大长度300位。当使用联用、他用能力时，开票员必须与申请接入时配置的开票员一致。

● 开票人证件号码，选填，最大长度30位。当使用联用、他用能力时，必填，必须是开票人证件类型对应的证件号码，并且与平台维护的信息一致。

● 开票人证件类型，选填，最大长度4位。当使用他用、联用能力时，必填，取值范围为“ 101”，“ 102”，“ 103”，“ 199”，“ 200”，“ 201”，“ 202”，“ 203”，“ 204”，“ 205”，“ 206”，“ 207”，“ 208”，“ 209”，“ 210”，“ 211”，“ 212”，“ 213”，“ 214”，“ 215”，“ 216”，“ 217”，“ 218”，“ 219”，“ 220”，“ 221”，“ 222”，“ 223”，“ 224”，“ 225”，“ 226”，“ 227”，“ 228”，“ 229”，“ 230”，“ 231”，“ 232”，“ 233”，“ 234”，“ 235”，“ 236”，“ 237”，“ 238”，“ 239”，“ 240”，“ 241”，“ 291”，“ 299”。

● 对应蓝字发票号码，必填，长度20位。

● 红字确认信息单编号，必填，最大长度20位。

● 红字确认单uuid，必填，最大长度32位。

● 备注，选填，最大长度382位。

● 开票日期，必填，格式必须是“yyyy-MM-dd HH:mm:ss”。

● 减按征税类型代码，选填，取值范围为“54”、“55”；

● 发票开具方式代码，必填，最大长度1位，取值范围“4”、“5”。

● 明细序号，必填，最大长度8位。

● 对应蓝字发票明细序号，必填，最大长度8位。

● 货物或应税劳务、服务名称，必填，最大长度300位。

● 商品服务简称，必填，最大长度120位。

● 项目名称，必填，最大长度600位。

● 车牌号码，必填，最大长度20位。

● 车辆类型代码，必填，最大长度5位。

● 车辆类型名称，必填，最大长度40位。

● 通行日期起，选填，格式必须是“yyyy-MM-dd HH:mm:ss”，仅当使用“6010000000000000000 预付卡销售和充值”的商品和服务税收分类编码开具ETC卡充值通行费发票时为选填，其他场景必填；

● 通行日期止，选填，格式必须是“yyyy-MM-dd HH:mm:ss”，仅当使用“6010000000000000000 预付卡销售和充值”的商品和服务税收分类编码开具ETC卡充值通行费发票时为选填，其他场景必填；

● 规格型号，选填，最大长度150位。

● 单位，选填，最大长度300位。

● 数量，选填（如“单价”非空，则必填），最大长度25位。

● 单价，选填（如“数量”非空，则必填），最大长度25位。

● 金额，必填，最大长度18位，最多2位小数。

● 增值税税率/征收率，必填，最大长度16位，最多6位小数。必须在可用税率信息中存在。

● 税额，必填，最大长度18位，最多2位小数。

● 含税金额，必填，最大长度18位，最多2位小数。

● 扣除额，选填，最大长度18位，最多2位小数。

● 商品和服务税收分类合并编码，必填，最大长度19位。必须在商品编码信息中存在。

● 优惠政策标识，选填，不为空时取值范围为“01”、“02”、“03”、“04”、“05”、“06”、“07”、“08”、“09”、“10”、“11”、“12”、“13”、“14”、“15”、“16”、“17”、“18”。

● 附加要素名称，选填，最大长度200位。

● 附加要素类型，选填，最大长度200位。

● 附加要素值，选填，最大长度200位。

###### **5.2.3.2数据校验**
● 红字发票明细和红字确认单必须保持一致

● 发票上传时间与开票时间间隔应当小于48小时。

● “发票开具方式代码”根据直连单位与使用单位的关系填写内容，当直连单位和使用单位关系为直连单位自用、总分公司关系、母子公司关系、其他控制关系、同一监管部门时，必须填写“5：自建平台开票（乐企自用开票）”，当关系为不具有控制关系（他用）、不具有控制关系（联用）时，必须填写“4：第三方平台开票（乐企联用、他用开票）” 。

##### 5.2.4发票赋码
路网中心系统根据电子发票票号码规则，给电子发票（通行费）依次分配不重复的发票号码。

赋码规则：发票号码设计采用20位电子发票编码规则：

第1-2位，共2位，取开票年份的末2位，如2021年开的发票为21，2022年为22，以此类推。

第3-4位，共2位，为省份代码。

第5位为“7”。  
第6位为“9”。

7-20位由交通运输部门按行业规则编码。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114864580-cb45eb47-4dc7-48fa-8de2-ef2012344b7c.png)

##### 5.2.5发票上传
发票赋码成功后，调用税务局端《通行费发票上传》接口上传通行费红字发票，并依据返回的结果，更新本地发票预上传结果。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114864845-ff66fff0-b475-4cc2-a57a-5418d2d91a9a.png)

调用《通行费发票上传》进行判断，满足以下任意条件时阻断开具通行费红字发票，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 5.2.6查询发票上传结果
发票上传成功后，间隔10秒-10分钟依据发票上传返回的“受理流水号”调用税务局端《查询通行费发票上传结果》接口查询通行费红字发票是否接收成功，并依据返回的发票开具结果，更新本地发票开具结果。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114865122-3712290d-651f-4c8f-8c6b-464c2322255f.png)

调用《查询通行费发票上传结果》接口查询通行费红字发票是否开具成功。满足以下任意条件时阻断开具通行费红字发票：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

### 6.开票汇总确认
#### 6.1.全流程图
![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114865393-6755b3ef-5588-469d-b1ad-108fbf6bca77.png)

#### 6.2.业务规则
##### 6.2.1数字化电子发票汇总信息上传
提供按月上传发票汇总信息接口，以避免由于企业未及时上传发票而带来的问题。企业在每月13日零点前需按自然月汇总上月在本平台开具的数字化电子发票的数量、金额和税额上传至乐企服务端，与乐企服务端汇总接收到的数字化电子发票信息进行比对，若比对一致，返回比对成功；若比对不一致，返回具体失败信息，由企业核实后，再次上传。

发票汇总确认上传成功后，乐企不再允许上传已确认月份的数字化电子发票。

若企业在每月13日零点前未上传上个月的发票汇总确认信息，乐企服务端将在13日零点自动汇总乐企服务端接收到的上个月的数字化电子发票。每月13日零点之后，上个月未上传的发票需重新开具。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114865689-fd88fe6b-a2d4-4fce-9893-9454ee869c78.png)

每月13日零点之前，当企业上传发票汇总确认信息后，发现已确认的月份还有数字化电子发票未上传，可以取消发票汇总确认，把未上传的数字化电子发票上传至乐企服务端后再次上传发票汇总确认信息。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114865988-cef9d5ec-f358-45e7-a88e-e81b27a7ab70.png)

调用《上传发票汇总确认信息》接口当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

##### 6.2.2查询发票汇总确认信息
给企业提供发票汇总确认信息查询功能，企业可以通过此接口查询历史发票汇总确认信息。

![](https://cdn.nlark.com/yuque/0/2025/png/647520/1759114866193-67b6d50a-3872-47b5-9abf-5ef19fd26423.png)

调用《查询发票会汇总确认信息》接口当接口调用时发生以下任意情形，调用失败：

● 网络通信异常。

● 返回报文存在error节点。

● “返回码”不为“00”。

# **五、**接口技术说明
## （一）能力编码
| 能力名称 | 乐企通行费开票能力 |
| --- | --- |
| 能力编码 | 202079 |




## （二）接口清单
| **序号** | **接口名称** | **服务编码** |
| :---: | --- | --- |
| 1 | 查询纳税人基本信息 | <font style="color:rgb(0, 0, 0);">CXNSRJBXX</font> |
| 2 | 查询可用税率信息 | <font style="color:rgb(0, 0, 0);">CXKYSL</font> |
| 3 | 查询税收分类编码信息 | <font style="color:rgb(0, 0, 0);">CXSSFLBM</font> |
| 4 | 查询通行费红字确认单列表信息 | <font style="color:rgb(0, 0, 0);">CXQDHZQRDLB</font> |
| 5 | 查询通行费红字确认单明细信息 | <font style="color:rgb(0, 0, 0);">CXQDHZQRDMX</font> |
| 6 | 通行费发票上传 | <font style="color:rgb(0, 0, 0);">TXFFPSC</font> |
| 7 | 查询通行费发票上传结果 | <font style="color:rgb(0, 0, 0);">CXQDFPSCJG</font> |
| 8 | 通行费红字确认单申请 | <font style="color:rgb(0, 0, 0);">QDHZQRDSQ</font> |
| 9 | 通行费红字确认单确认 | <font style="color:rgb(0, 0, 0);">QDHZQRDQR</font> |
| 10 | 上传发票汇总确认信息 | <font style="color:rgb(0, 0, 0);">SCFPHZQRXX</font> |
| 11 | 查询发票汇总确认信息 | <font style="color:rgb(0, 0, 0);">CXFPHZQRXX</font> |
| 12 | <font style="color:#000000;">发票用途状态信息查询</font> | FPZTXXCX |


### 1.查询纳税人基本信息
#### 1.1接口说明
向企业提供查询纳税人基本信息的功能，企业可将查询的基本信息，包括生产经营信息、税务机关信息、企业性质、消费税性质等保存在本地。在开票时自校验该接口获取的纳税人基本信息是否满足开具发票的条件。

#### 1.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 1.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| 1 | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 开票纳税人识别号/统一社会信用代码 |


#### 1.4请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码"<br/>} |
| --- |


#### 1.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | djxh | 登记序号 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | ssdabh | 税收档案编号 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">6</font> | nsrmc | 纳税人名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">7</font> | nsrlx | 纳税人类型标签 | varchar | 300 | 是 | 1：一般纳税人<br/>2：小规模纳税人<br/>3：转登记小规模纳税人<br/>4：辅导期一般纳税人<br/>5：自然人 |
| <font style="color:rgb(0, 0, 0);">8</font> | scjydz | 生产经营地址 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">9</font> | zcdyzbm | 注册地邮政编码 | varchar | 6 | 是 |  |
| <font style="color:rgb(0, 0, 0);">10</font> | zcdlxdh | 注册地联系电话 | varchar | 60 | 否 |  |
| <font style="color:rgb(0, 0, 0);">11</font> | fddbrxm | 法人名称(法定代表人姓名 | varchar | 150 | 是 |  |
| <font style="color:rgb(0, 0, 0);">12</font> | djzclxdm | 登记注册类型（国标） | varchar | 3 | 否 |  |
| <font style="color:rgb(0, 0, 0);">13</font> | hydm | 行业代码 | varchar | 4 | 是 | 主行业代码特定征收部门可空 |
| <font style="color:rgb(0, 0, 0);">14</font> | qxjswjgdm | 区县级税务机关代码 | varchar | 11 | 是 |  |
| <font style="color:rgb(0, 0, 0);">15</font> | zgswskfjdm | 税务机关代码 | varchar | 11 | 是 | 主管税务所科分局 |
| <font style="color:rgb(0, 0, 0);">16</font> | zgswskfjmc | 税务机关名称 | varchar | 300 | 是 | 主管税务所科分局 |
| <font style="color:rgb(0, 0, 0);">17</font> | cwfzrxm | 财务负责人姓名 | varchar | 150 | 是 |  |
| <font style="color:rgb(0, 0, 0);">18</font> | khhmc | 账户名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">19</font> | yhzh | 账号 | varchar | 50 | 否 | 首选账户账号 |
| <font style="color:rgb(0, 0, 0);">20</font> | bsrxm | 企业办税人员姓名 | varchar | 150 | 否 |  |
| <font style="color:rgb(0, 0, 0);">21</font> | xdpsdqybz | 数字化电子票试点企业标识 | varchar | 20 | 是 | Y：数字化电子票试点企业<br/>N：不是数字化电子票试点企业 |
| <font style="color:rgb(0, 0, 0);">22</font> | ckqyfldm | 出口企业分类 | varchar | 20 | 是 | 空：非出口企业<br/>01：一类出口企业<br/>02：二类出口企业<br/>03：三类出口企业<br/>04：四类出口企业 |
| <font style="color:rgb(0, 0, 0);">23</font> | zfjglxdm | 总分机构类型 | varchar | 20 | 是 | 0：非总分机构 <br/>1：总机构<br/>2：分支机构 3：分总机构 |
| <font style="color:rgb(0, 0, 0);">24</font> | yhyywddm | 银行营业网点 | varchar | 13 | 否 | |
| <font style="color:rgb(0, 0, 0);">25</font> | nsrztdm | 开票方纳税人状态 | varchar | 2 | 是 | 01：受理<br/>02：筹建期<br/>03：正常<br/>04：停业<br/>05：非正常<br/>06：清算<br/>07：注销<br/>08：非正常户注销<br/>09：报验<br/>10：核销报验<br/>11：中断缴费<br/>12：恢复缴费<br/>13：简易注销无异议<br/>99：其他 |
| <font style="color:rgb(0, 0, 0);">26</font> | yxqq | 纳税人类型标签有效期起 | date | | 否 | 格式：<br/>yyyy-MM-dd |
| <font style="color:rgb(0, 0, 0);">27</font> | yxqz | 纳税人类型标签有效期止 | date | | 否 | 格式：<br/>yyyy-MM-dd |
| <font style="color:rgb(0, 0, 0);">28</font> | qyhyxzdm | 企业行业性质 | varchar | 300 | 否 | 01：成品油生产企业 <br/>02：成品油经销企业 <br/>03：国内机动车生产企业 <br/>04：进口机动车生产企业驻我国办事机构或总授权代理机构 <br/>05：机动车授权经销企业 <br/>06：其他机动车贸易商 <br/>07：二手车市场 <br/>08：二手车经销企业<br/>09：二手车拍卖企业 <br/>10：稀土矿产企业 <br/>11：稀土冶炼分离企业 <br/>12：稀土其他企业<br/>13：稀土矿产企业、稀土冶炼分离企业、稀土其他企业<br/>14：稀土矿产企业、稀土冶炼分离企业 15：稀土矿产企业、稀土其他企业 <br/>16：稀土冶炼分离企业、稀土其他企业 <br/>17：卷烟生产企业<br/>18：卷烟批发企业<br/>19：卷烟出口企业 <br/>20：生产型出口企业 <br/>21：外贸型出口企业<br/>22：外贸综合服务企业<br/>23：自贸区试点企业<br/>24：特殊监管区内企业 <br/>25：增值税一般纳税人资格试点<br/>26：市场采购试点<br/>27：退税商店<br/>28：电子商务出口企业<br/>29：享受出口退税政策的融资租赁企业 <br/>30：增值税零税率应税服务提供者<br/>31：房地产开发企业 <br/>32：农产品深加工企业<br/>33：外购石脑油、燃料油用于消费税退税企业 <br/>34：从事机动车进口的其他贸易商<br/>35：自产农产品者 <br/>36：农产品收购企业 <br/>37：光伏收购企业 <br/>38：住房租赁企业 <br/>39：冬奥会退税企业 |
| <font style="color:rgb(0, 0, 0);">29</font> | xfsnsrlxdm | 消费税纳税人类型 | varchar | 20 | 否 | 01：卷烟生产消费税纳税人 <br/>02：卷烟批发消费税纳税人 <br/>03：白酒生产消费税纳税人 <br/>04：黄酒生产消费税纳税人 <br/>05：啤酒生产消费税纳税人 <br/>06：其他酒生产消费税纳税人 <br/>07：小汽车生产消费税纳税人 <br/>08：超豪华小汽车消费税纳税人 <br/>09：汽油生产消费税纳税人 <br/>10：石脑油生产消费税纳税人 <br/>11：溶剂油生产消费税纳税人 <br/>12：润滑油生产消费税纳税人 <br/>13：柴油生产消费税纳税人 <br/>14：航空煤油生产消费税纳税人 <br/>15：燃料油生产消费税纳税人<br/>16：电池生产消费税纳税人 <br/>17：涂料生产消费税纳税人 <br/>18：高档化妆品生产消费税纳税人<br/>19：金银首饰铂金首饰和钻石及钻石饰品零售消费税纳税人<br/>20：其他贵重首饰和珠宝玉石生产消费税纳税人<br/>21：鞭炮焰火生产消费税纳税人 <br/>22：摩托车生产消费税纳税人 <br/>23：高尔夫球及球具生产消费税纳税人 <br/>24：高档手表生产消费税纳税人 <br/>25：游艇生产消费税纳税人 <br/>26：木制一次性筷子生产消费税纳税人 <br/>27：实木地板生产消费税纳税人 <br/>28：雪茄烟生产消费税纳税人 <br/>29：烟丝生产消费税纳税人 |


#### 1.6返回报文示例 
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"jcxx": {<br/>				"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>				"djxh": "登记序号",<br/>				"ssdabh": "税收档案编号",<br/>				"nsrmc": "纳税人名称",<br/>				"nsrlx": "纳税人类型",<br/>				"scjydz": "生产经营地址",<br/>				"zcdyzbm": "注册地邮政编码",<br/>				"zcdlxdh": "注册地联系电话",<br/>				"fddbrxm": "法人名称(法定代表人姓名",<br/>				"djzclxdm": "登记注册类型（国标）",<br/>				"hydm": "行业代码",<br/>				"qxjswjgdm": "区县级税务机关代码",<br/>				"zgswskfjdm": "税务机关代码",<br/>				"zgswskfjmc": "税务机关名称",<br/>				"cwfzrxm": "财务负责人姓名",<br/>				"khhmc": "账户名称",<br/>				"yhzh": "账号",<br/>				"bsrxm": "企业办税人员姓名",<br/>				"xdpsdqybz": "数字化电子票试点企业标识",<br/>				"ckqyfldm": "出口企业分类",<br/>				"zfjglxdm": "总分机构类型",<br/>				"yhyywddm": "银行营业网点",<br/>				"nsrztdm": "开票方纳税人状态",<br/>				"yxqq": "有效期起",<br/>				"yxqz": "有效期止"<br/>			},<br/>			"qyhyxzGrid": [<br/>				{<br/>					"qyhyxzdm": "企业行业性质",<br/>					"yxqq": "有效期起",<br/>					"yxqz": "有效期止"<br/>				}<br/>			],<br/>			"xfsnsrlxGrid": [<br/>				{<br/>					"xfsnsrlxdm": "消费税纳税人类型",<br/>					"yxqq": "有效期起",<br/>					"yxqz": "有效期止"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 2.查询可用税率信息
#### 2.1接口说明
向企业提供查询可用税率信息的功能，企业可将查询的基本信息保存在本地。在开票时选择保存在本地的可用税率。

#### 2.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 2.3请求参数
无

#### 2.4请求报文示例
| {} |
| --- |


#### 2.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | count | 总数量 | number | 10 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | csxz | 参数性质 | varchar | 2 | 是 | 1：税率<br/>2：征收率 |
| <font style="color:rgb(0, 0, 0);">5</font> | slzsl | 税率征收率 | number | 16,6 | 是 |  |
| <font style="color:rgb(0, 0, 0);">6</font> | yslbz | 原税率标志 | varchar | 1 | 是 | Y：是原税率<br/>N：否原税率 |
| <font style="color:rgb(0, 0, 0);">7</font> | dyysl | 对应原税率 | varchar | 150 | 否 | 百分比形式、逗号连接 |
| <font style="color:rgb(0, 0, 0);">8</font> | cszt | 参数状态 | varchar | 1 | 是 | 0：启用<br/>1：停用 |
| <font style="color:rgb(0, 0, 0);">9</font> | yxqq | 有效期起 | date | | 是 | 时间格式：<br/>yyyy-MM-dd |
| <font style="color:rgb(0, 0, 0);">10</font> | yxqz | 有效期止 | date | | 否 | 时间格式：<br/>yyyy-MM-dd |
| <font style="color:rgb(0, 0, 0);">11</font> | tyrq | 停用日期 | date | | 否 | 时间格式：<br/>yyyy-MM-dd |


#### 2.6接口报文示例
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"count": "总数量",<br/>			"slzslList": [<br/>				{<br/>					"csxz": "参数性质",<br/>					"slzsl": "税率征收率",<br/>					"yslbz": "原税率标志",<br/>					"dyysl": "对应原税率",<br/>					"cszt": "参数状态",<br/>					"yxqq": "有效期起",<br/>					"yxqz": "有效期止",<br/>					"tyrq": "停用日期"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 3.查询税收分类编码信息
#### 3.1接口说明
向企业提供查询商品税收分类编码信息的功能，企业可将查询的基本信息保存在本地。在开票时选择保存在本地的税收分类编码。

#### 3.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 3.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | nsrsbh | 纳税人识别号/统一社会信用代码 | varchar | 20 | 是 | 开票纳税人识别号/统一社会信用代码 |
| <font style="color:rgb(0, 0, 0);">2</font> | sjc | 时间戳 | date | | 否 | 格式：yyyyMMddHHmmss<br/>首次下载时为空；<br/>非首次下载时，传入上次下载返回的时间戳.格式：yyyyMMddHHmmss |
| <font style="color:rgb(0, 0, 0);">3</font> | sjswjgdm | 省级税务机关代码 | varchar | 11 | 否 |  |


#### 3.4请求报文示例
| {<br/>	"nsrsbh": "纳税人识别号/统一社会信用代码",<br/>	"sjc": "时间戳",<br/>	"sjswjgdm": "省级税务机关代码"<br/>} |
| --- |


#### 3.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | sjc | 时间戳 | date | | 是 | 格式：<br/>yyyyMMddHHmmss<br/>用于增量下载 |
| <font style="color:rgb(0, 0, 0);">4</font> | count | 总数量 | number | 10 | 是 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | fjbm | 父级编码 | varchar | 19 | 是 |  |
| <font style="color:rgb(0, 0, 0);">6</font> | sphfwssflhbbm | 商品和服务税收分类合并编码 | varchar | 19 | 是 |  |
| <font style="color:rgb(0, 0, 0);">7</font> | tdyslxdm | 特定要素标签归类 | varchar | 2 | 否 | 01：成品油<br/>02：稀土<br/>03：建筑服务<br/>04：货物运输<br/>05：不动产销售<br/>06：不动产租赁<br/>07：代收车船使用税<br/>08：通行费<br/>09：旅客运输<br/>10：医疗服务<br/>11：农产品<br/>12：拖拉机和联合收割机<br/>13：机动车<br/>14：光伏收购<br/>15：卷烟 |
| <font style="color:rgb(0, 0, 0);">8</font> | cezs | 差额征税 | varchar | 1 | 否 | Y：是<br/>N：否 |
| <font style="color:rgb(0, 0, 0);">9</font> | bzs | 不征税 | varchar | 1 | 否 | Y：是<br/>N：否 |
| <font style="color:rgb(0, 0, 0);">10</font> | jzjtdm | 即征即退代码集合 | varchar | 150 | 否 | 01：增值税即征即退-软件产品<br/>02：增值税即征即退-资源综合利用产品<br/>03：增值税即征即退-管道运输服务<br/>04：增值税即征即退-有形动产融资租赁服务<br/>05：增值税即征即退-有形动产融资性售后回租服务<br/>06：增值税即征即退-新型墙体材料<br/>07：增值税即征即退-风力发电产品<br/>08：增值税即征即退-光伏发电产品<br/>09：增值税即征即退-动漫软件产品<br/>10：增值税即征即退-飞机维修劳务<br/>11：增值税即征即退-黄金<br/>12：增值税即征即退-铂金 |
| <font style="color:rgb(0, 0, 0);">11</font> | sphfwmc | 商品和服务名称 | varchar | 150 | 是 |  |
| <font style="color:rgb(0, 0, 0);">12</font> | sphfwfljc | 商品和服务分类简称 | varchar | 120 | 是 |  |
| <font style="color:rgb(0, 0, 0);">13</font> | sm | 说明 | varchar | | 否 |  |
| <font style="color:rgb(0, 0, 0);">14</font> | zzssl | 增值税税率 | varchar | 50 | 否 | <br/>取值返回是中文顿号连接的百分数。例如3%、5% |
| <font style="color:rgb(0, 0, 0);">15</font> | zsl | 征收率 | varchar | 50 | 否 | <br/>取值返回是中文顿号连接的百分数。例如3%、5% |
| <font style="color:rgb(0, 0, 0);">16</font> | zzstsgl | 增值税特殊管理 | varchar | 150 | 否 |  |
| <font style="color:rgb(0, 0, 0);">17</font> | zzszcyj | 增值税政策依据 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">18</font> | zzstsnrdm | 增值税特殊内容代码 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">19</font> | xfsgl | 消费税管理 | varchar | 150 | 否 |  |
| <font style="color:rgb(0, 0, 0);">20</font> | xfszcyj | 消费税政策依据 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">21</font> | xfstsnrdm | 消费税特殊内容代码 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">22</font> | gjz | 关键字 | mediumtext | | 否 |  |
| <font style="color:rgb(0, 0, 0);">23</font> | sfhzx | 是否汇总项 | varchar | 1 | 是 | Y：是<br/>N：否 |
| <font style="color:rgb(0, 0, 0);">24</font> | dytjjbm | 对应统计局编码（2011年版）或国民行业代码 | mediumtext | | 否 |  |
| <font style="color:rgb(0, 0, 0);">25</font> | hgjcksppm | 海关进出口商品品目 | mediumtext | | 否 |  |
| <font style="color:rgb(0, 0, 0);">26</font> | qyrq | 启用日期 | date | | 是 | 格式：<br/>yyyy-MM-dd |
| <font style="color:rgb(0, 0, 0);">27</font> | tyrq | 停用日期 | date | | 否 | 格式：<br/>yyyy-MM-dd |
| <font style="color:rgb(0, 0, 0);">28</font> | hydm | 行业代码 | varchar | 4 | 否 | 主行业代码特定征收部门可空 |
| <font style="color:rgb(0, 0, 0);">29</font> | dydhy | 对应的行业 | varchar | 68 | 否 |  |
| <font style="color:rgb(0, 0, 0);">30</font> | hydydzspm1 | 行业对应的征收品目一 | varchar | 9 | 否 |  |
| <font style="color:rgb(0, 0, 0);">31</font> | hydydzsmc1 | 行业对应的征收名称一 | varchar | 210 | 否 |  |
| <font style="color:rgb(0, 0, 0);">32</font> | hydydzspm2 | 行业对应的征收品目二 | varchar | 9 | 否 |  |
| <font style="color:rgb(0, 0, 0);">33</font> | hydydzsmc2 | 行业对应的征收名称二 | varchar | 210 | 否 |  |


#### 3.6返回报文示例 
成功返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data":{<br/>		"returncode": "00",<br/>		"returnmsg": "成功",<br/>			"sjc": "时间戳",<br/>			"count": "总数量",<br/>			"ssbmList": [<br/>				{<br/>				   "fjbm": "父级编码",<br/>				   "sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>					"tdyslxdm": "特定要素标签归类",<br/>					"cezs": "差额征税",<br/>					"bzs": "不征税",<br/>					"jzjtdm": "即征即退代码集合",<br/>					"sphfwmc": "商品和服务名称",<br/>					"sphfwfljc": "商品和服务分类简称",<br/>					"sm": "说明",<br/>					"zzssl": "增值税税率",<br/>					"zsl": "征收率",<br/>					"zzstsgl": "增值税特殊管理",<br/>					"zzszcyj": "增值税政策依据",<br/>					"zzstsnrdm": "增值税特殊内容代码（增值税减免税政策代码表）",<br/>					"xfsgl": "消费税管理",<br/>					"xfszcyj": "消费税政策依据",<br/>					"xfstsnrdm": "消费税特殊内容代码",<br/>					"gjz": "关键字",<br/>					"sfhzx": "是否汇总项",<br/>					"dytjjbm": "对应统计局编码（2011年版）或国民行业代码",<br/>					"hgjcksppm": "海关进出口商品品目",<br/>					"qyrq": "启用日期",<br/>					"tyrq": "停用日期",			<br/>					"zspmList": [<br/>						{<br/>	                     "hydm": "行业代码",<br/>							"dydhy": "对应的行业",<br/>							"hydydzspm1": "行业对应的征收品目一",<br/>							"hydydzsmc1": "行业对应的征收名称一",<br/>							"hydydzspm2": "行业对应的征收品目二",<br/>							"hydydzsmc2": "行业对应的征收名称二"<br/>						}]<br/>				}]<br/>}<br/>}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |




### 4.查询通行费红字确认单列表信息
#### 4.1接口说明
向企业提供查询通行费红字确认单列表信息的功能，企业可通过购买方纳税人识别号、销售方纳税人识别号、蓝字发票号码、录入日期起、录入日期止等条件查询通行费红字确认单列表信息，并将查询的结果保存在本地。使用此信息可以在申请通行费红字确认单时校验通行费蓝字发票是否可以红冲；在开具通行费红字发票时校验是否有通行费红字确认单。

#### 4.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 4.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| 1.  | yhjslx | 用户角色类型 | varchar | 2 | 是 | 0：销方<br/>1：购方 |
| 1.  | xsfnsrsbh | 销售方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 | 条件必录，作为销方，必录 |
| 1.  | xsfmc | 销售方名称 | varchar | 300 | 否 | 条件必录，作为销方，必录 |
| 1.  | gmfnsrsbh | 购买方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 | 条件必录，作为购方，必录 |
| 1.  | gmfmc | 购买方名称 | varchar | 300 | 否 | 条件必录，作为购方，必录 |
| 1.  | lrfsf | 录入方身份 | varchar | 2 | 否 | 0：销方<br/>1：购方 |
| 1.  | lrrqq | 录入日期起 | date | 20 | 否 | yyyy-MM-dd |
| 1.  | lrrqz | 录入日期止 | date | 20 | 否 | yyyy-MM-dd |
| 1.  | lzfpdm | 蓝字发票代码 | varchar | 12 | 否 |  |
| 1.  | lzfphm | 蓝字发票号码 | varchar | 20 | 否 |  |
| 1.  | hzfpxxqrdbh | 红字确认单编号 | varchar | 20 | 否 |  |
| 1.  | hzqrxxztDm | 红字确认信息状态代码 | varchar | 2 | 否 | 01：无需确认<br/>02：销方录入待购方确认<br/>03：购方录入待销方确认<br/>04：购销双方已确认<br/>05：作废（销方录入购方否认）<br/>06：作废（购方录入销方否认）<br/>07：作废（超72小时未确认）<br/>08：（发起方撤销） |
| 1.  | fppzDm | 发票票种代码 | varchar | 2 | 否 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票<br/>05：铁路客票电子发票<br/>06：航空运输电子客票行程单 |
| 1.  | pageNumber | 页码 | number | 10 | 否 |  |
| 1.  | pageSize | 每页数量 | number | 10 | 否 |  |


#### 4.4请求报文示例
| {<br/>	"yhjslx": "用户角色类型",<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"xsfmc": "（销售方）名称",<br/>	"gmfnsrsbh": "（购买方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"gmfmc": "（购买方）名称",<br/>	"lrfsf": "录入方身份",<br/>	"lrrqq": "录入日期起",<br/>	"lrrqz": "录入日期止",<br/>	"lzfphm": "蓝字发票号码",<br/>	"hzfpxxqrdbh": "红字确认单编号",<br/>	"hzqrxxztDm": "红字确认信息状态代码",<br/>	"fppzDm": "发票票种代码",<br/>	"pageNumber": "页码",<br/>	"pageSize": "每页数量"<br/>} |
| --- |


生产报文示例

| {<br/>    "yhjslx": "0",<br/>    "xsfnsrsbh": "9144**********093N",<br/>    "xsfmc": "广州********设计室",<br/>    "gmfnsrsbh": "9115**********NK5H",<br/>    "gmfmc": "包头市******有限责任公司",<br/>    "lrfsf": "0",<br/>    "lrrqq": "2025-05-01",<br/>    "lrrqz": "2025-05-30",<br/>    "lzfpdm": "",<br/>    "lzfphm": "254470********220447",<br/>    "hzfpxxqrdbh": "4401052********01218",<br/>    "hzqrxxztDm": "01",<br/>    "fppzDm": "02",<br/>    "pageNumber": "1",<br/>    "pageSize": "10"<br/>} |
| --- |


#### 4.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | --- | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | total | 总数量 | varchar | 10 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | hzfpxxqrdbh | 红字发票信息确认单编号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">6</font> | lrfsf | 录入方身份 | varchar | 2 | 是 | 0：销方 1：购方 |
| <font style="color:rgb(0, 0, 0);">7</font> | xsfnsrsbh | 销售方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">8</font> | xsfmc | 销售方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">9</font> | gmfnsrsbh | 购买方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">10</font> | gmfmc | 购买方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">11</font> | lzfpdm | 蓝字发票代码 | varchar | 12 | 否 |  |
| <font style="color:rgb(0, 0, 0);">12</font> | lzfphm | 蓝字发票号码 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">13</font> | sfzzfpbz | 是否纸质发票标志 | varchar | 1 | 是 | Y=纸质发票，N=电子发票 |
| <font style="color:rgb(0, 0, 0);">14</font> | lzkprq | 蓝字发票开票日期 | datetime | | 否 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">15</font> | lzhjje | 蓝字发票合计金额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">16</font> | lzhjse | 蓝字发票合计税额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">17</font> | lzfppzDm | 蓝字发票票种代码 | varchar | 2 | 否 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票 |
| <font style="color:rgb(0, 0, 0);">18</font> | lzfpTdyslxDm | 蓝字发票特定要素类型代码 | varchar | 2 | 是 | 01：成品油发票<br/>02：稀土发票<br/>03：建筑服务发票<br/>04：货物运输服务发票<br/>05：不动产销售服务发票<br/>06：不动产租赁服务发票<br/>07：代收车船税<br/>08：通行费<br/>09：旅客运输服务发票<br/>10：医疗服务（住院）发票<br/>11：医疗服务（门诊）发票<br/>12：自产农产品销售发票<br/>13	拖拉机和联合收割机发票<br/>14：机动车<br/>15：二手车<br/>16：农产品收购发票<br/>17：光伏收购发票<br/>18：卷烟发票<br/>20：农产品<br/>24：报废产品收购 |
| <font style="color:rgb(0, 0, 0);">19</font> | hzcxje | 红字冲销金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">20</font> | hzcxse | 红字冲销税额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">21</font> | hzqrdmxsl | 红字确认单明细数量 | number | 10 | 是 |  |
| <font style="color:rgb(0, 0, 0);">22</font> | chyyDm | 红字发票冲红原因代码 | varchar | 2 | 是 | 01：开票有误<br/>02：销货退回<br/>03：服务中止<br/>04：销售折让 |
| <font style="color:rgb(0, 0, 0);">23</font> | hzqrxxztDm | 红字确认信息状态代码 | varchar | 2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">24</font> | qrrq | 确认日期 | datetime | | 否 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">25</font> | ykjhzfpbz | 已开具红字发票标志 | varchar | 1 | 否 | Y：已开具<br/>N：未开具 |
| <font style="color:rgb(0, 0, 0);">26</font> | hzfphm | 红字发票号码 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">27</font> | hzkprq | 红字开票日期 | datetime | | 否 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">28</font> | yxbz | 有效标志 | varchar | 1 | 是 | Y：有效<br/>N：无效 |
| <font style="color:rgb(0, 0, 0);">29</font> | lrrq | 录入日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |


#### 4.6返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"returncode": "结果代码",<br/>			"returnmsg": "结果说明",<br/>			"hzqrxxList": {<br/>				"pageNumber": 1,<br/>				"pageSize": 20,<br/>				"total": 1,<br/>				"list": [{<br/>					"uuid": "红字确认单UUID",<br/>					"hzfpxxqrdbh": "红字发票信息确认单编号",<br/>					"lrfsf": "录入方身份",<br/>					"xsfnsrsbh": "销售方统一社会信用代码/纳税人识别号/身份证件号码",<br/>					"xsfmc": "（销售方）名称",<br/>					"gmfnsrsbh": "（购买方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>					"gmfmc": "（购买方）名称",<br/>					"lzfphm": "蓝字发票号码",<br/>					"lzkprq": "蓝字发票开票日期",<br/>					"lzhjje": "蓝字发票合计金额",<br/>					"lzhjse": "蓝字发票合计税额",<br/>					"lzfppzDm": "蓝字发票发票票种代码",<br/>					"lzfpTdyslxDm": "蓝字发票特定要素类型代码",<br/>					"hzcxje": "红字冲销金额",<br/>					"hzcxse": "红字冲销税额",<br/>					"hzqrdmxsl": "红字确认单明细数量",<br/>					"chyyDm": "红字发票冲红原因代码",<br/>					"hzqrxxztDm": "红字确认信息状态代码",<br/>					"ykjhzfpbz": "已开具红字发票标志",<br/>					"hzfphm": "红字发票号码",<br/>					"hzkprq": "红字开票日期",<br/>					"yxbz": "有效标志",<br/>					"lrrq": "录入日期"<br/>					}<br/>				]<br/>			}<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 5.查询通行费红字确认单明细信息
#### 5.1接口说明
向企业提供通行费红字确认单明细查询的功能，企业可通过红字确认单UUID、销售方纳税人识别号查询通行费红字确认单明细信息，并将查询的结果保存在本地。使用此信息可以在申请通行费红字确认单时校验蓝票是否可以红冲；在开具通行费红字发票时校验是否有通行费红字确认单明细。

#### 5.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 5.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | --- | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| <font style="color:rgb(0, 0, 0);">2</font> | xsfnsrsbh | （销售方）统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |


#### 5.4请求报文示例
| {<br/>	"uuid": "红字确认单UUID ",<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码"<br/>} |
| --- |


#### 5.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | --- | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | hzfpxxqrdbh | 红字发票信息确认单编号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | lrfsf | 录入方身份 | varchar | 1 | 是 | 0：销方<br/>1：购方 |
| <font style="color:rgb(0, 0, 0);">6</font> | xsfnsrsbh | 销售方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">7</font> | xsfmc | 销售方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">8</font> | gmfnsrsbh | 购买方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">9</font> | gmfmc | 购买方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">10</font> | lzfpdm | 蓝字发票代码 | number | 12 | 否 |  |
| <font style="color:rgb(0, 0, 0);">11</font> | lzfphm | 蓝字发票号码 | number | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">12</font> | sfzzfpbz | 是否纸质发票标志 | varchar | 1 | 是 | Y：纸质发票<br/>N：电子发票 |
| <font style="color:rgb(0, 0, 0);">13</font> | lzkprq | 蓝字发票开票日期 | datetime |  | 否 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">14</font> | lzhjje | 蓝字发票合计金额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">15</font> | lzhjse | 蓝字发票合计税额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">16</font> | lzfppzDm | 蓝字发票票种代码 | varchar | 2 | 否 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票 |
| <font style="color:rgb(0, 0, 0);">17</font> | lzfpTdyslxDm | 蓝字发票特定要素类型代码 | varchar | 2 | 是 | 01：成品油发票<br/>02：稀土发票<br/>03：建筑服务发票<br/>04：货物运输服务发票<br/>05：不动产销售服务发票<br/>06：不动产租赁服务发票<br/>07：代收车船税<br/>08：通行费<br/>09：旅客运输服务发票<br/>10：医疗服务（住院）发票<br/>11：医疗服务（门诊）发票<br/>12：自产农产品销售发票<br/>13	拖拉机和联合收割机发票<br/>14：机动车<br/>15：二手车<br/>16：农产品收购发票<br/>17：光伏收购发票<br/>18：卷烟发票<br/>20：农产品<br/>24：报废产品收购 |
| <font style="color:rgb(0, 0, 0);">18</font> | hzcxje | 红字冲销金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">19</font> | hzcxse | 红字冲销税额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">20</font> | chyyDm | 红字发票冲红原因代码 | varchar | 2 | 是 | 01：开票有误<br/>02：销货退回<br/>03：服务中止<br/>04：销售折让 |
| <font style="color:rgb(0, 0, 0);">21</font> | hzqrxxztDm | 红字确认单状态 | varchar | 2 | 是 | 01：无需确认<br/>02：销方录入待购方确认<br/>03：购方录入待销方确认<br/>04：购销双方已确认<br/>05：作废（销方录入购方否认）<br/>06：作废（购方录入销方否认）<br/>07：作废（超72小时未确认）<br/>08：（发起方撤销）<br/>09：作废（确认后撤销）<br/>10：作废（异常凭证） |
| <font style="color:rgb(0, 0, 0);">22</font> | qrrq | 确认日期 | datetime | | 否 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">23</font> | ykjhzfpbz | 已开具红字发票标志 | varchar | 1 | 否 | Y：已开具<br/>N：未开具 |
| <font style="color:rgb(0, 0, 0);">24</font> | hzfphm | 红字发票号码 | String | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">25</font> | hzkprq | 红字开票日期 | datetime | | 否 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">26</font> | yxbz | 有效标志 | varchar | 1 | 是 | Y：有效<br/>N：无效 |
| <font style="color:rgb(0, 0, 0);">27</font> | cezslxDm | 差额征税类型代码 | varchar | 2 | 否 | 空：非差额发票<br/>01：全额开票<br/>02：差额开票 |
| <font style="color:rgb(0, 0, 0);">28</font> | lrrq | 录入日期 | datetime |  | 是 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">29</font> | lzmxxh | 蓝字发票明细序号 | number | 8 | 是 |  |
| <font style="color:rgb(0, 0, 0);">30</font> | xh | 序号 | number | 8 | 是 |  |
| <font style="color:rgb(0, 0, 0);">31</font> | sphfwssflhbbm | 商品和服务税收分类合并编码 | varchar | 19 | 是 |  |
| <font style="color:rgb(0, 0, 0);">32</font> | hwhyslwfwmc | 货物或应税劳务、服务名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">33</font> | spfwjc | 商品服务简称 | varchar | 120 | 是 |  |
| <font style="color:rgb(0, 0, 0);">34</font> | xmmc | 项目名称 | varchar | 600 | 是 |  |
| <font style="color:rgb(0, 0, 0);">35</font> | ggxh | 规格型号 | varchar | 150 | 否 |  |
| <font style="color:rgb(0, 0, 0);">36</font> | dw | 单位 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">37</font> | fpspdj | 单价 | varchar | 25 | 否 | 如“数量”栏次非空，则本栏次必须非空 |
| <font style="color:rgb(0, 0, 0);">38</font> | fpspsl | 数量 | varchar | 25 | 否 | 如“单价”栏次非空，则本栏次必须非空 |
| <font style="color:rgb(0, 0, 0);">39</font> | je | 金额 | number | 18,2 | 是 |  |
| 40 | sl1 | 税率 | number | 16,6 | 是 |  |
| 41 | se | 税额 | number | 18,2 | 是 |  |
| 42 | kce | 扣除额 | number | 18,2 | 否 | 蓝票扣除额的负数 |
| 43 | yhzcbs | 优惠政策标识 | varchar | 2 | 否<br/> |  |


#### 5.6返回报文示例 
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"returncode": "结果代码",<br/>			"returnmsg": "结果说明",<br/>			"uuid": "红字确认单UUID",<br/>			"hzfpxxqrdbh": "红字发票信息确认单编号",<br/>			"lrfsf": "录入方身份",<br/>			"xsfnsrsbh": "销售方统一社会信用代码/纳税人识别号/身份证件号码",<br/>			"xsfmc": "销售方名称",<br/>			"gmfnsrsbh": "购买方统一社会信用代码/纳税人识别号/身份证件号码",<br/>			"gmfmc": "购买方名称",<br/>			"lzfphm": "蓝字发票发票号码",<br/>			"lzkprq": "蓝字发票开票日期",<br/>			"lzhjje": "蓝字发票合计金额",<br/>			"lzhjse": "蓝字发票合计税额",<br/>			"lzfppzDm": "蓝字发票发票票种代码",<br/>			"lzfpTdyslxDm": "蓝字发票特定要素类型代码",<br/>			"hzcxje": "红字冲销金额",<br/>			"hzcxse": "红字冲销税额",<br/>			"chyyDm": "红字发票冲红原因代码",<br/>			"hzqrxxztDm": "红字确认信息状态代码",<br/>			"qrrq": "确认日期",<br/>			"ykjhzfpbz": "已开具红字发票标志",<br/>			"hzfphm": "红字发票号码",<br/>			"hzkprq": "红字开票日期",<br/>			"yxbz": "有效标志",<br/>			"cezslxDm": "差额征税类型代码",<br/>			"lrrq": "录入日期",<br/>			"hzqrxxmxList": [<br/>				{	"mxxh": "明细序号",<br/>					"dylzfpmxxh": "对应蓝字发票明细序号",<br/>					"xmmc": "项目名称",<br/>					"ggxh": "规格型号",<br/>					"dw": "单位",<br/>					"sl": "数量",<br/>					"dj": "单价",<br/>					"je": "金额（不含税）",<br/>					"slv": "增值税税率/征收率",<br/>					"se": "税额",<br/>					"sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>					"hwhyslwfwmc": "货物或应税劳务、服务名称",<br/>					"spfwjc": "商品服务简称",<br/>					"kce": "扣除额",<br/>					"yhzcbs": "优惠政策标识"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 6.通行费发票上传
#### 6.1接口说明
给企业提供上传预开具的通行费发票功能，上传成功后给企业返回信息。

税务局端接收到企业上传的通行费发票后，依次校验企业是具备开票条件、发票信息是否合规、是否超过授信额度、通行费发票号码是否合法、发票是否属于直连单位，当校验不通过时，不接收企业上传的通行费发票，返回具体错误信息。每次上传最大票量为100张数字化电子发票。

#### 6.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 6.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | --- | --- | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | ptbh | 平台编号 | varchar | 20 | 是 | 直连单位ID |
| <font style="color:rgb(0, 0, 0);">2</font> | fppz | 发票票种 | varchar | 2 | 是 | 02：数电普 |
| <font style="color:rgb(0, 0, 0);">3</font> | fphm | 发票号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | lzfpbz | 蓝字发票标志 | varchar | 1 | 是 | 0：蓝字发票<br/>1：红字发票 |
| <font style="color:rgb(0, 0, 0);">5</font> | kprq | 开票日期 | datetime | | 是 | 格式：<br/>yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">6</font> | kpr | 开票人 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">7</font> | kprzjlx | 开票人证件类型 | varchar | 4 | 否 | 101：组织机构代码证<br/>102：营业执照<br/>103：税务登记证<br/>199：其他单位证件<br/>201：居民身份证<br/>202：军官证<br/>203：武警警官证<br/>204：士兵证<br/>205：军队离退休干部证<br/>206：残疾人证<br/>207：残疾军人证（1-8级）<br/>208：外国护照<br/>209：港澳同胞回乡证<br/>210：港澳居民来往内地通行证<br/>211：台胞证<br/>212：中华人民共和国往来港澳通行证<br/>213：台湾居民来往大陆通行证<br/>214：大陆居民往来台湾通行证<br/>215：外国人居留证<br/>216：外交官证<br/>217：使（领事）馆证<br/>218：海员证<br/>219：香港永久性居民身份证<br/>220：台湾身份证<br/>221：澳门特别行政区永久性居民身份证<br/>222：外国人身份证件<br/>223：高校毕业生自主创业证<br/>224：就业失业登记证<br/>225：退休证<br/>226：离休证<br/>227：中国护照<br/>228：城镇退役士兵自谋职业证<br/>229：随军家属身份证明<br/>230：中国人民解放军军官转业证书<br/>231：中国人民解放军义务兵退出现役证<br/>232：中国人民解放军士官退出现役证<br/>233：外国人永久居留身份证（外国人永久居留证）<br/>234：就业创业证<br/>235：香港特别行政区护照<br/>236：澳门特别行政区护照<br/>237：中华人民共和国港澳居民居住证<br/>238：中华人民共和国台湾居民居住证<br/>239：《中华人民共和国外国人工作许可证》（A类）<br/>240：《中华人民共和国外国人工作许可证》（B类）<br/>241：《中华人民共和国外国人工作许可证》（C类）<br/>291：出生医学证明<br/>299：其他个人证件 |
| <font style="color:rgb(0, 0, 0);">8</font> | kprzjhm | 开票人证件号码 | varchar | 30 | 否 |  |
| <font style="color:rgb(0, 0, 0);">9</font> | tdys | 特定要素 | varchar | 2 | 是 | 08：通行费 |
| <font style="color:rgb(0, 0, 0);">10</font> | qyDm | 区域代码 | varchar | 20 | 是 | |
| <font style="color:rgb(0, 0, 0);">11</font> | xsfnsrsbh | 销售方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">12</font> | xsfmc | 销售方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">13</font> | xsfdz | 销售方地址 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">14</font> | xsfdh | 销售方电话 | varchar | 60 | 否 |  |
| <font style="color:rgb(0, 0, 0);">15</font> | xsfkhh | 销售方开户行 | varchar | 120 | 否 |  |
| <font style="color:rgb(0, 0, 0);">16</font> | xsfzh | 销售方账号 | varchar | 50 | 否 |  |
| <font style="color:rgb(0, 0, 0);">17</font> | skyhmc | 收款银行名称 | varchar | 120 | 否 |  |
| <font style="color:rgb(0, 0, 0);">18</font> | skyhzh | 收款银行账号 | varchar | 100 | 否 |  |
| <font style="color:rgb(0, 0, 0);">19</font> | gmfnsrsbh | 购买方统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 否 | 开具抵扣发票时，必填 |
| <font style="color:rgb(0, 0, 0);">20</font> | gmfmc | 购买方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">21</font> | gmfdz | 购买方地址 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">22</font> | gmfdh | 购买方电话 | varchar | 60 | 否 |  |
| <font style="color:rgb(0, 0, 0);">23</font> | gmfkhh | 购买方开户行 | varchar | 120 | 否 |  |
| <font style="color:rgb(0, 0, 0);">24</font> | gmfzh | 购买方账号 | varchar | 50 | 否 |  |
| <font style="color:rgb(0, 0, 0);">25</font> | gmfzrrbz | 购买方自然人标志 | varchar | 1 | 否 | Y：购买方是自然人<br/>N：购买方非自然人 |
| <font style="color:rgb(0, 0, 0);">26</font> | gmfjbr | 购买方经办人姓名 | varchar | 150 | 否 |  |
| <font style="color:rgb(0, 0, 0);">27</font> | jbrsfzjhm | 购买方经办人证件号码 | varchar | 30 | 否 |  |
| <font style="color:rgb(0, 0, 0);">28</font> | gmfjbrlxdh | 购买方经办人联系电话 | varchar | 60 | 否 |  |
| <font style="color:rgb(0, 0, 0);">29</font> | hjje | 合计金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">30</font> | hjse | 合计税额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">31</font> | jshj | 价税合计 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">32</font> | jsfs | 结算方式 | varchar | 2 | 否 | 01：现金<br/>02：银行转账<br/>03：票据<br/>04：第三方支付<br/>05：预付卡<br/>99：其他 |
| <font style="color:rgb(0, 0, 0);">33</font> | ysxwfsd | 应税行为发生地 | varchar | 11 | 否 |  |
| <font style="color:rgb(0, 0, 0);">34</font> | dylzfphm | 对应蓝字发票号码 | varchar | 20 | 否 | 是否蓝字发票标志为1时，此节点有内容<br/>红票开具时必传；<br/>如果红冲的是税控发票，对应蓝字发票号码的填写规则为税控发票的发票代码+发票号码。 |
| <font style="color:rgb(0, 0, 0);">35</font> | hzqrxxdbh | 红字确认信息单编号 | varchar | 20 | 否 | 是否蓝字发票标志为1时，此节点有内容<br/>红票开具时必传 |
| <font style="color:rgb(0, 0, 0);">36</font> | hzqrduuid | 红字确认单uuid | varchar | 32 | 否 | 是否蓝字发票标志为1时，此节点有内容红票开具时必传 |
| <font style="color:rgb(0, 0, 0);">37</font> | bz | 备注 | varchar | 450 | 否 | 蓝票最长450位，红票最长382位。 |
| <font style="color:rgb(0, 0, 0);">38</font> | ip | 服务器地址 | varchar | 20 | 是 | 需自行采集开票申请设备 |
| <font style="color:rgb(0, 0, 0);">39</font> | macdz | mac地址 | char | 20 | 是 | 需自行采集开票申请设备 |
| <font style="color:rgb(0, 0, 0);">40</font> | cpuid | CPU序列号 | char | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">41</font> | zbxlh | 主板序列号 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">42</font> | sfzsxsfyhzhbq | 是否展示销售方银行账号标签 | varchar | 1 | 否 | Y:展示   N:不展示 |
| <font style="color:rgb(0, 0, 0);">43</font> | sfzsgmfyhzhbq | 是否展示购买方银行账号标签 | varchar | 1 | 否 | Y:展示   N:不展示 |
| <font style="color:rgb(0, 0, 0);">44</font> | jazslxDm | 减按征税类型代码 | varchar | 2 | 否 | 放弃免税、3%减按1%开票优惠政策原因代码，可选54、55、空。<br/>空：使用1%或免税开票<br/>54：前期已开具3%征收率的发票，发生销售折让、中止或者退回等情形需要开具3%征收率的红字发票，或者开票有误需要重新开具3%征收率的发票；<br/>55：因为实际经营业务需要，放弃享受减按1%征收率征收增值税政策；<br/>红字发票时必须与红字信息确认单对应代码一致。 |
| <font style="color:rgb(0, 0, 0);">45</font> | fpkjfsDm | 发票开具方式代码 | varchar | 1 | 是 | 4：第三方平台开票（乐企联用、他用开票）<br/>5：自建平台开票（乐企自用开票） |
| <font style="color:rgb(0, 0, 0);">46</font> | mxxh | 明细序号 | Number | 8 | 是 |  |
| <font style="color:rgb(0, 0, 0);">47</font> | dylzfpmxxh | 对应蓝字发票明细序号 | Number | 8 | 否 | 红票必传 |
| <font style="color:rgb(0, 0, 0);">48</font> | xmmc | 项目名称 | varchar | 600 | 是 |  |
| <font style="color:rgb(0, 0, 0);">49</font> | hwhyslwfwmc | 货物或应税劳务、服务名称 | varchar | 300 | 是 | 拼装规则：“*商品服务简称（spfwjc）*”+“项目名称（xmmc）” |
| <font style="color:rgb(0, 0, 0);">50</font> | spfwjc | 商品服务简称 | varchar | 120 | 是 |  |
| <font style="color:rgb(0, 0, 0);">51</font> | sphfwssflhbbm | 商品和服务税收分类合并编码 | varchar | 19 | 是 |  |
| <font style="color:rgb(0, 0, 0);">52</font> | <font style="color:rgb(0, 0, 0);">cphm</font> | <font style="color:rgb(0, 0, 0);">车牌号码</font> | <font style="color:rgb(0, 0, 0);">varchar</font> | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">53</font> | <font style="color:rgb(0, 0, 0);">cllxDm</font> | <font style="color:rgb(0, 0, 0);">车辆类型代码</font> | <font style="color:rgb(0, 0, 0);">varchar</font> | 5 | 是 |  |
| <font style="color:rgb(0, 0, 0);">54</font> | <font style="color:rgb(0, 0, 0);">cllxmc</font> | <font style="color:rgb(0, 0, 0);">车辆类型名称</font> | <font style="color:rgb(0, 0, 0);">varchar</font> | 40 | 是 |  |
| <font style="color:rgb(0, 0, 0);">55</font> | <font style="color:rgb(0, 0, 0);">txrqq</font> | <font style="color:rgb(0, 0, 0);">通行日期起</font> | <font style="color:rgb(0, 0, 0);">datetime</font> | | 否 | yyyy-MM-dd HH:mm:ss仅当使用“6010000000000000000 预付卡销售和充值”的商品和服务税收分类编码开具ETC卡充值通行费发票时为选填，其他场景必填。 |
| <font style="color:rgb(0, 0, 0);">56</font> | <font style="color:rgb(0, 0, 0);">txrqz</font> | <font style="color:rgb(0, 0, 0);">通行日期止</font> | <font style="color:rgb(0, 0, 0);">datetime</font> | | 否 | yyyy-MM-dd HH:mm:ss仅当使用“6010000000000000000 预付卡销售和充值”的商品和服务税收分类编码开具ETC卡充值通行费发票时为选填，其他场景必填。 |
| <font style="color:rgb(0, 0, 0);">57</font> | je | 金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">58</font> | slv | 增值税税率/征收率 | number | 16,6 | 是 |  |
| <font style="color:rgb(0, 0, 0);">59</font> | se | 税额 | number | 18，2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">60</font> | hsje | 含税金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">61</font> | fphxz | 发票行性质 | varchar | 2 | 是 | 00：正常行<br/>01：折扣行<br/>02：被折扣行 |
| <font style="color:rgb(0, 0, 0);">62</font> | yhzcbs | 优惠政策标识 | varchar | 2 | 否 | 01：简易征收<br/>02：稀土产品<br/>03：免税<br/>04：不征税<br/>05：先征后退<br/>06：100%先征后退<br/>07：50%先征后退<br/>08：按3%简易征收<br/>09：按5%简易征收<br/>10：按5%简易征收减按1.5%计征<br/>11：即征即退30%<br/>12：即征即退50%<br/>13：即征即退70%<br/>14：即征即退100%<br/>15：超税负3%即征即退<br/>16：超税负8%即征即退<br/>17：超税负12%即征即退<br/>18：超税负6%即征即退 |
| <font style="color:rgb(0, 0, 0);">63</font> | fjysmc | 附加要素名称 | String | 200 | 否 |  |
| <font style="color:rgb(0, 0, 0);">64</font> | fjyslx | 附加要素类型 | String | 200 | 否 |  |
| <font style="color:rgb(0, 0, 0);">65</font> | fjysz | 附加要素值 | String | 200 | 否 |  |


#### 6.4请求报文示例
| [<br/>	{<br/>"ptbh": "平台编号"，<br/>"fppz": "发票票种"，<br/>"fphm": "发票号码"，<br/>"lzfpbz": "蓝字发票标志"，<br/>"kprq": "开票日期"，<br/>"kpr": "开票人"，<br/>"kprzjlx": "开票人证件类型"，<br/>"kprzjhm": "开票人证件号码"，<br/>"tdys": "特定要素"，<br/>"qyDm": "区域代码"，<br/>"xsfnsrsbh": "销售方统一社会信用代码/纳税人识别号/身份证件号码"，<br/>"xsfmc": "销售方名称"，<br/>"xsfdz": "销售方地址"，<br/>"xsfdh": "销售方电话"，<br/>"xsfkhh": "销售方开户行"，<br/>"xsfzh": "销售方账号"，<br/>"skyhmc": "收款银行名称"，<br/>"skyhzh": "收款银行账号"，<br/>"gmfnsrsbh": "购买方统一社会信用代码/纳税人识别号/身份证件号码"，<br/>"gmfmc": "购买方名称"，<br/>"gmfdz": "购买方地址"，<br/>"gmfdh": "购买方电话"，<br/>"gmfkhh": "购买方开户行"，<br/>"gmfzh": "购买方账号"，<br/>"gmfzrrbz": "购买方自然人标志"，<br/>"gmfjbr": "购买方经办人姓名"，<br/>"jbrsfzjhm": "购买方经办人证件号码"，<br/>"gmfjbrlxdh": "购买方经办人联系电话"，<br/>"hjje": "合计金额"，<br/>"hjse": "合计税额"，<br/>"jshj": "价税合计"，<br/>"jsfs": "结算方式"，<br/>"ysxwfsd": "应税行为发生地"，<br/>"dylzfphm": "对应蓝字发票号码"，<br/>"hzqrxxdbh": "红字确认信息单编号"，<br/>"hzqrduuid": "红字确认单uuid"，<br/>"bz": "备注"，<br/>"ip": "服务器地址"，<br/>"macdz": "mac地址"，<br/>"cpuid": "CPU序列号"，<br/>"zbxlh": "主板序列号"，<br/>"sfzsxsfyhzhbq": "是否展示销售方银行账号标签"，<br/>"sfzsgmfyhzhbq": "是否展示购买方银行账号标签"，<br/>"jazslxDm": "减按征税类型代码"，<br/>"fpkjfsDm": "发票开具方式代码",<br/>"fpmxList": [{<br/>"mxxh": "明细序号"，<br/>"dylzfpmxxh": "对应蓝字发票明细序号"，<br/>"xmmc": "项目名称"，<br/>"hwhyslwfwmc": "货物或应税劳务、服务名称"，<br/>"spfwjc": "商品服务简称"，<br/>"sphfwssflhbbm": "商品和服务税收分类合并编码"，<br/>"cphm": "车牌号码"，<br/>"cllxDm": "车辆类型代码"，<br/>"cllxmc": "车辆类型名称"，<br/>"txrqq": "通行日期起"，<br/>"txrqz": "通行日期止"，<br/>"je": "金额"，<br/>"slv": "增值税税率/征收率"，<br/>"se": "税额"，<br/>"hsje": "含税金额"，<br/>"fphxz": "发票行性质"，<br/>"yhzcbs": "优惠政策标识"<br/>}],<br/>"fjysList": [{<br/>"fjysmc": "附加要素名称",<br/>"fjyslx": "附加要素类型",<br/>"fjysz": "附加要素值"<br/>}]<br/>	}<br/>] |
| --- |


生产报文示例

| [<br/>    {<br/>        "ptbh": "5d2cff**********b7a3",<br/>        "fppz": "02",<br/>        "fphm": "2544790*********0008",<br/>        "lzfpbz": "0",<br/>        "kprq": "2025-05-01 11:00:00",<br/>        "kpr": "开**",<br/>        "kprzjlx": "201",<br/>        "kprzjhm": "410521*********1921",<br/>        "tdys": "08",<br/>        "qyDm": "14403000000",<br/>        "xsfnsrsbh": "9144**********093N",<br/>        "xsfmc": "广州********设计室",<br/>        "xsfdz": "北京市********街道",<br/>        "xsfdh": "110120119",<br/>        "xsfkhh": "建设银行*****支行",<br/>        "xsfzh": "811070********00501",<br/>        "skyhmc": "建设银行*****支行",<br/>        "skyhzh": "811070********00501",<br/>        "gmfnsrsbh": "510129199110012117",<br/>        "gmfmc": "牛**（个人）",<br/>        "gmfdz": "北京市********大街",<br/>        "gmfdh": "136*******88",<br/>        "gmfkhh": "中信银行",<br/>        "gmfzh": "811070**********502",<br/>        "gmfzrrbz": "Y",<br/>        "gmfjbr": "购**",<br/>        "jbrsfzjhm": "201",<br/>        "gmfjbrlxdh": "138*******88",<br/>        "hjje": "100.00",<br/>        "hjse": "0.00",<br/>        "jshj": "100.00",<br/>        "jsfs": "01",<br/>        "ysxwfsd": "北京市",<br/>        "dylzfphm": "",<br/>        "hzqrxxdbh": "",<br/>        "hzqrduuid": "",<br/>        "bz": "备注",<br/>        "ip": "***.***.***.**",<br/>        "macdz": "SESFSD4666DSSSA",<br/>        "cpuid": "SESFSD4666DSSSA",<br/>        "zbxlh": "SESFSD4666DSSSA",<br/>        "sfzsxsfyhzhbq": "N",<br/>        "sfzsgmfyhzhbq": "N",<br/>        "jazslxDm": "",<br/>        "fpkjfsDm": "2",<br/>        "fpmxList": [<br/>            {<br/>                "mxxh": "1",<br/>                "dylzfpmxxh": "",<br/>                "xmmc": "预付卡销售和充值",<br/>                "hwhyslwfwmc": "*预付卡销售和充值*预付卡销售和充值",<br/>                "spfwjc": "预付卡销售和充值",<br/>                "sphfwssflhbbm": "6010000000000000000",<br/>                "cphm": "川·AI****1",<br/>                "cllxDm": "12234",<br/>                "cllxmc": "车辆类型名称",<br/>                "txrqq": "2024-05-12 00:00:00",<br/>                "txrqz": "2024-05-12 00:00:00",<br/>                "je": "100.00",<br/>                "slv": "0.00",<br/>                "se": "0.00",<br/>                "hsje": "100.00",<br/>                "fphxz": "00",<br/>                "yhzcbs": "04"<br/>            }<br/>        ],<br/>        "fjysList": [<br/>            {<br/>                "fjysmc": "附加要素名称",<br/>                "fjyslx": "附加要素类型",<br/>                "fjysz": "附加要素值"<br/>            }<br/>        ]<br/>    }<br/>] |
| --- |


#### 6.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | sllsh | 受理流水号 | String | 40 | 是 |  |


#### 6.6返回报文示例 
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"sllsh": "受理流水号"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 7.查询通行费发票上传结果
#### 7.1接口说明
给企业提供查询通行费发票开具状态的功能，企业侧预开具的发票上传后由税务局端对发票再次进行校验，如果校验通过则表明发票开具成功。此时企业根据上传返回的信息查询发票开具的状态。

发票上传结果只能在发票上传后12小时内查询，如果超过12小时只能重新上传发票再获取上传结果。

#### 7.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 7.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| 1 | sllsh | 受理流水号 | String | 40 | 是 |  |


#### 7.4请求报文示例
| {<br/> "sllsh": "受理流水号"<br/>} |
| --- |


#### 7.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | fphm | 发票号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | status | 上传状态 | varchar | 2 | 是 | 00：上传成功<br/>01：发票上传处理中<br/>02：上传失败<br/>03：重复上传 |
| <font style="color:rgb(0, 0, 0);">5</font> | message | 详细信息 | varchar | 30 | 否 | 详细信息 |
| <font style="color:rgb(0, 0, 0);">6</font> | Code | 错误码 | varchar | 20 | 否 | 未查询到上传结果会返回固定的Code值 |


#### 7.6返回报文示例 
成功返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"resultList": [<br/>				{<br/>					"fphm": "发票号码1",<br/>					"status": "上传状态",<br/>					"message": "详细信息"<br/>				}, {<br/>					"fphm": "发票号码2",<br/>					"status": "上传状态",<br/>					"message": "详细信息"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 8.通行费红字确认单申请
#### 8.1接口说明
给企业提供红字确认单申请功能。

#### 8.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 8.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | lrfsf | 录入方身份 | varchar | 2 | 是 | 0：销方<br/>1：购方 |
| <font style="color:rgb(0, 0, 0);">2</font> | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">3</font> | xsfmc | 销售方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | gmfnsrsbh | 购买方纳税人识别号 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | gmfmc | 购买方名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">6</font> | lzfpdm | 蓝字发票代码 | varchar | 12 | 否 |  |
| <font style="color:rgb(0, 0, 0);">7</font> | lzfphm | 蓝字发票号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">8</font> | sfzzfpbz | 是否纸质发票标志 | varchar | 1 | 是 | Y：纸质发票<br/>N：电子发票 |
| <font style="color:rgb(0, 0, 0);">9</font> | lzkprq | 蓝字发票开票日期 | datetime | | 是 | yyyy-MM-dd HH:mm:ss |
| <font style="color:rgb(0, 0, 0);">10</font> | lzhjje | 蓝字发票合计金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">11</font> | lzhjse | 蓝字发票合计税额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">12</font> | lzfppzDm | 蓝字发票票种代码 | varchar | 2 | 是 | 01: 增值税专用发票<br/>02: 普通发票<br/>03: 机动车统一销售发票<br/>04: 二手车统一销售发票 |
| <font style="color:rgb(0, 0, 0);">13</font> | lzfpTdyslxDm | 蓝字发票特定要素类型代码 | String | 2 | 是 | 08：通行费 |
| <font style="color:rgb(0, 0, 0);">14</font> | hzcxje | 红字冲销金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">15</font> | hzcxse | 红字冲销税额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">16</font> | chyyDm | 红字发票冲红原因代码 | varchar | 2 | 是 | 01：开票有误<br/>02：销货退回<br/>03：服务中止<br/>04：销售折让 |
| <font style="color:rgb(0, 0, 0);">17</font> | lzmxxh | 蓝字发票明细序号 | number | 8 | 是 |  |
| <font style="color:rgb(0, 0, 0);">18</font> | xh | 序号 | number | 8 | 是 |  |
| <font style="color:rgb(0, 0, 0);">19</font> | sphfwssflhbbm | 商品和服务税收分类合并编码 | String | 19 | 是 |  |
| <font style="color:rgb(0, 0, 0);">20</font> | hwhyslwfwmc | 货物或应税劳务、服务名称 | varchar | 300 | 是 |  |
| <font style="color:rgb(0, 0, 0);">21</font> | spfwjc | 商品服务简称 | String | 120 | 是 |  |
| <font style="color:rgb(0, 0, 0);">22</font> | xmmc | 项目名称 | varchar | 600 | 是 |  |
| <font style="color:rgb(0, 0, 0);">23</font> | ggxh | 规格型号 | varchar | 150 | 否 |  |
| <font style="color:rgb(0, 0, 0);">24</font> | dw | 单位 | varchar | 300 | 否 |  |
| <font style="color:rgb(0, 0, 0);">25</font> | fpspdj | 单价 | varchar | 25 | 否 | 如“数量”栏次非空，则本栏次必须非空 |
| <font style="color:rgb(0, 0, 0);">26</font> | fpspsl | 数量 | varchar | 25 | 否 | 如“单价”栏次非空，则本栏次必须非空 |
| <font style="color:rgb(0, 0, 0);">27</font> | je | 金额 | number | 18,2 | 是 |  |
| <font style="color:rgb(0, 0, 0);">28</font> | sl1 | 税率 | number | 16,6 | 是 |  |
| <font style="color:rgb(0, 0, 0);">29</font> | se | 税额 | number | 18,2 | 是 |  |


#### 8.4请求报文示例
| {<br/>	"lrfsf": "录入方身份",<br/>	"xsfnsrsbh": "销售方纳税人识别号",<br/>	"xsfmc": "销售方名称",<br/>	"gmfnsrsbh": "购买方纳税人识别号",<br/>	"gmfmc": "购买方名称",<br/>	"lzfphm": "蓝字发票发票号码",<br/>	"lzkprq": "蓝字发票开票日期",<br/>	"lzhjje": "蓝字发票合计金额",<br/>	"lzhjse": "蓝字发票合计税额",<br/>	"lzfpTdyslxDm": "蓝字发票特定要素类型代码",<br/>	"hzcxje": "红字冲销金额",<br/>	"hzcxse": "红字冲销税额",<br/>	"chyyDm": "红字发票冲红原因代码",<br/>	"hzqrdmxList": [<br/>		{<br/>			"mxxh": "明细序号",<br/>			"dylzfpmxxh": "对应蓝字发票明细序号",<br/>			"xmmc": "项目名称",<br/>          "ggxh": "规格型号",<br/>			"dw": "单位",<br/>			"sl": "数量",<br/>			"dj": "单价",<br/>			"je": "金额（不含税）",<br/>			"slv": "增值税税率/征收率",<br/>			"se": "税额",<br/>			"sphfwssflhbbm": "商品和服务税收分类合并编码",<br/>			"hwhyslwfwmc": "货物或应税劳务、服务名称",<br/>			"spfwjc": "商品服务简称"<br/>		}<br/>	]<br/>} |
| --- |


生产报文示例

| {<br/>    "lrfsf": "0",<br/>    "xsfnsrsbh": "914401********093N",<br/>    "xsfmc": "广州市********设计室",<br/>    "gmfnsrsbh": "510129********2117",<br/>    "gmfmc": "牛**（个人）",<br/>    "lzfpdm": "",<br/>    "lzfphm": "25447900********0090",<br/>    "sfzzfpbz": "N",<br/>    "lzkprq": "2025-06-01 11:00:00",<br/>    "lzhjje": "100.00",<br/>    "lzhjse": "0.00",<br/>    "lzfppzDm": "02",<br/>    "lzfpTdyslxDm": "08",<br/>    "hzcxje": "-100.00",<br/>    "hzcxse": "0.00",<br/>    "chyyDm": "01",<br/>    "hzqrdmxList": [<br/>        {<br/>            "lzmxxh": "1",<br/>            "xh": "1",<br/>            "sphfwssflhbbm": "6010000000000000000",<br/>            "hwhyslwfwmc": "*预付卡销售和充值*预付卡销售和充值",<br/>            "spfwjc": "预付卡销售和充值",<br/>            "xmmc": "预付卡销售和充值",<br/>            "ggxh": "",<br/>            "dw": "",<br/>            "fpspdj": "",<br/>            "fpspsl": "",<br/>            "je": "-100.00",<br/>            "sl1": "0.00",<br/>            "se": "0.00"<br/>        }<br/>    ]<br/>} |
| --- |


#### 8.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | hzfpxxqrdbh | 红字确认单编号 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | uuid | 红字确认单UUID | varchar | 32 | 否 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | hzqrxxztDm | 红字确认单状态 | varchar | 2 | 否 | 01：无需确认<br/>02：销方录入待购方确认<br/>03：购方录入待销方确认<br/>04：购销双方已确认<br/>05：作废（销方录入购方否认）<br/>06：作废（购方录入销方否认）<br/>07：作废（超72小时未确认）<br/>08：（发起方撤销）<br/>09：作废（确认后撤销）<br/>10：作废（异常凭证） |


#### 8.6返回报文示例
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"hzfpxxqrdbh": "红字确认单编号",<br/>			"uuid": "红字确认单UUID",<br/>			"hzqrxxztDm": "红字确认单状态"<br/>}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>}<br/>	}<br/>} |
| --- |


### 9.通行费红字确认单确认
#### 9.1接口说明
给企业提供红字确认单确认接口，进行红字确认单撤销操作。

#### 9.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 9.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | xsfnsrsbh | 统一社会信用代码/纳税人识别号/身份证件号码 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">2</font> | uuid | 红字确认单UUID | varchar | 32 | 是 |  |
| <font style="color:rgb(0, 0, 0);">3</font> | hzqrdbh | 红字确认单编号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">4</font> | qrlx | 确认类型 | varchar | 1 | 是 | Y：同意<br/>N：不同意<br/>C：撤销 |


#### 9.4请求报文示例
| {<br/>	"xsfnsrsbh": "（销售方）统一社会信用代码/纳税人识别号/身份证件号码",<br/>	"uuid": "红字确认单UUID ",<br/>	"hzqrdbh": "红字确认单编号 ",<br/>	"qrlx": "确认类型"<br/>} |
| --- |


#### 9.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | qrrq | 确认日期 | datetime | | 否 | 格式：<br/>yyyy-MM-dd HH:mm:ss |


#### 9.6返回报文示例 
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>		  "returncode": "00",<br/>		  "returnmsg": "成功",<br/>		  "qrrq ": "确认日期"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 10.上传发票汇总确认信息
#### 10.1接口说明
给企业提供按月上传发票汇总信息接口，以避免由于企业未及时上传发票而带来的问题。企业在每月13日零点前需按自然月汇总上月在本平台开具的数字化电子发票的数量、金额和税额进行上传至乐企服务端，与乐企服务端汇总接收到的数字化电子发票信息进行比对，若比对一致，返回比对成功；若比对不一致，返回具体失败信息，由企业核实后，再次上传。

若企业在每月13日零点前未上传上个月的发票汇总确认信息，乐企服务端将在13日零点汇总乐企服务端接收到的上个月的数字化电子发票。

当企业上传发票汇总确认信息后，发现已确认的月份还有数字化电子发票未上传，可以取消发票汇总确认，把未上传的数字化电子发票上传至乐企服务端后再次上传发票汇总确认信息。

#### 10.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 10.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">2</font> | xsfsjswjgdm | 销售方省级税务机关代码 | varchar | 11 | 是 |  |
| <font style="color:rgb(0, 0, 0);">3</font> | ywlx | 业务类型 | varchar | 1 | 是 | 0：确认<br/>1：取消 |
| <font style="color:rgb(0, 0, 0);">4</font> | ptbh | 平台编号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | yf | 月份 | varchar | 7 | 是 | 格式：yyyy-MM |
| <font style="color:rgb(0, 0, 0);">6</font> | lzfpsl | 蓝字发票数量 | number | 10 | 否 | 业务类型为“0”时必填 |
| <font style="color:rgb(0, 0, 0);">7</font> | lzfpje | 蓝字发票金额 | number | 18,2 | 否 | 业务类型为“0”时必填 |
| <font style="color:rgb(0, 0, 0);">8</font> | lzfpse | 蓝字发票税额 | number | 18,2 | 否 | 业务类型为“0”时必填 |
| <font style="color:rgb(0, 0, 0);">9</font> | hzfpsl | 红字发票数量 | number | 10 | 否 | 业务类型为“0”时必填 |
| <font style="color:rgb(0, 0, 0);">10</font> | hzfpje | 红字发票金额 | number | 18,2 | 否 | 业务类型为“0”时必填 |
| <font style="color:rgb(0, 0, 0);">11</font> | hzfpse | 红字发票税额 | number | 18,2 | 否 | 业务类型为“0”时必填 |


#### 10.4请求报文示例
| {<br/>	"xsfnsrsbh": "销售方纳税人识别号",<br/>	"xsfsjswjgdm": "销售方省级税务机关代码",<br/>	"ywlx": "业务类型",<br/>	"ptbh": "平台编号",<br/>	"yf": "月份",<br/>	"lzfpsl": "蓝字发票数量",<br/>	"lzfpje": "蓝字发票金额",<br/>	"lzfpse": "蓝字发票税额",<br/>	"hzfpsl": "红字发票数量",<br/>	"hzfpje": "红字发票金额",<br/>	"hzfpse": "红字发票税额"<br/>} |
| --- |


生产报文示例

| {<br/>    "xsfnsrsbh": "9144**********093N",<br/>    "xsfsjswjgdm": "14400020000",<br/>    "ywlx": "0",<br/>    "ptbh": "5d2cff**********b7a3",<br/>    "yf": "2025-05",<br/>    "lzfpsl": "1300",<br/>    "lzfpje": 15518088765.27,<br/>    "lzfpse": 1687911.48,<br/>    "hzfpsl": 257,<br/>    "hzfpje": -9770623.50,<br/>    "hzfpse": -1043355.60<br/>} |
| --- |


#### 10.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |


#### 10.6返回报文示例
成功时返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>		  "returncode": "00",<br/>		  "returnmsg": "成功"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


### 11. 查询发票汇总确认信息
#### 11.1接口说明
给企业提供发票汇总确认信息查询功能，企业可以通过此接口查询历史发票汇总确认信息。

#### 11.2请求方式
请求方式为POST

● path 指该参数为路径参数

● query 指该参数需在请求URL传参

● body 指该参数需在请求JSON传参

#### 11.3请求参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| --- | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是 |  |
| <font style="color:rgb(0, 0, 0);">2</font> | xsfsjswjgdm | 销售方省级税务机关代码 | varchar | 11 | 是 |  |
| <font style="color:rgb(0, 0, 0);">3</font> | ptbh | 平台编号 | varchar | 20 | 否 | 若为空，则查询纳税人在所有平台的开票汇总信息 |
| <font style="color:rgb(0, 0, 0);">4</font> | yf | 月份 | varchar | 7 | 否 | 格式：yyyy-MM若为空，则查询所有历史月份数据 |


#### 11.4请求报文示例
| {<br/>	"xsfnsrsbh": "销售方纳税人识别号",<br/>	"xsfsjswjgdm": "销售方省级税务机关代码",<br/>	"ptbh": "平台编号",<br/>	"yf": "月份"<br/>} |
| --- |


#### 11.5返回参数
| **序号** | **数据项标识** | **数据项名称** | **字段类型** | **长度** | **必须** | **说明** |
| :---: | --- | --- | --- | :---: | :---: | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | returncode | 返回码 | varchar | 2 | 是 | 00：成功<br/>其它：失败 |
| <font style="color:rgb(0, 0, 0);">2</font> | returnmsg | 返回信息 | varchar | 2000 | 否 | 错误信息说明 |
| <font style="color:rgb(0, 0, 0);">3</font> | xsfnsrsbh | 销售方纳税人识别号 | varchar | 20 | 是<br/> |  |
| 发票汇总确认信息（多条记录时，循环以下节点） | | | | | | |
| <font style="color:rgb(0, 0, 0);">4</font> | ptbh | 平台编号 | varchar | 20 | 否 |  |
| <font style="color:rgb(0, 0, 0);">5</font> | yf | 月份 | varchar | 7 | 否 | 格式：yyyy-MM |
| <font style="color:rgb(0, 0, 0);">6</font> | lzfpsl | 蓝字发票数量 | number | 10 | 否 |  |
| <font style="color:rgb(0, 0, 0);">7</font> | lzfpje | 蓝字发票金额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">8</font> | lzfpse | 蓝字发票税额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">9</font> | hzfpsl | 红字发票数量 | number | 10 | 否 |  |
| <font style="color:rgb(0, 0, 0);">10</font> | hzfpje | 红字发票金额 | number | 18,2 | 否 |  |
| <font style="color:rgb(0, 0, 0);">11</font> | hzfpse | 红字发票税额 | number | 18,2 | 否 |  |


#### 11.6返回报文示例
成功时返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Data": {<br/>			"returncode": "00",<br/>			"returnmsg": "成功",<br/>			"xsfnsrsbh": "销售方纳税人识别号",<br/>			"fphzqrxxList": [<br/>				{	"ptbh": "平台编号",<br/>					"yf": "月份",<br/>					"lzfpsl": "蓝字发票数量",<br/>					"lzfpje": "蓝字发票金额",<br/>					"lzfpse": "蓝字发票税额",<br/>					"hzfpsl": "红字发票数量",<br/>					"hzfpje": "红字发票金额",<br/>					"hzfpse": "红字发票税额"<br/>				}, {	"ptbh": "平台编号",<br/>					"yf": "月份",<br/>					"lzfpsl": "蓝字发票数量",<br/>					"lzfpje": "蓝字发票金额",<br/>					"lzfpse": "蓝字发票税额",<br/>					"hzfpsl": "红字发票数量",<br/>					"hzfpje": "红字发票金额",<br/>					"hzfpse": "红字发票税额"<br/>				}<br/>			]<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response":{<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error":{<br/>			"Code": "01”,<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |




### 12.发票用途状态信息查询
#### 12.1接口说明
企业业务系统通过此接口查询单张发票状态、红字开具确认状态、发票用途等信息。此接口用途为辅助乐企开票企业发起红字确认单申请时的业务校验，实际以生成红字确认单时的业务校验结果为准。

发票用途状态信息查询结果仅供企业参考，在综服平台进行发票勾选的企业，其查询到的发票状态可能存在延时问题。

#### 12.2请求方式
请求方式为POST

path 指该参数为路径参数

query 指该参数需在请求URL传参

body 指该参数需在请求JSON传参

#### 12.3请求参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | fplx | 发票类型 | String | 2 | 是 | 01：增值税专用发票<br/>02：货物运输业增值税专用发票<br/>03：机动车销售统一发票<br/>04：增值税普通发票<br/>08：增值税电子专用发票<br/>10：增值税电子普通发票<br/>11：卷式发票<br/>14：通行费发票<br/>15：二手车销售统一发票<br/>81：电子发票（增值税专用发票）<br/>82：电子发票（普通发票）<br/>85：纸质发票（增值税专用发票）<br/>86：纸质发票（普通发票）<br/>51：电子发票（铁路电子客票）<br/>61：电子发票（航空运输客票电子行程单）<br/>83：机动车销售电子统一发票<br/>84：二手车销售电子统一发票<br/>87：纸质发票（机动车销售统一发票）<br/>88：纸质发票（二手车销售统一发票） |
| 2 | fpdm | 发票代码 | String | 12 | 否 | 发票类型为：01、02、03、04、08、10、11、14、15传纸质发票代码，其他发票类型无需传入 |
| 3 | fphm | 发票号码 | String | 20 | 是 | 发票类型为：01、02、03、04、08、10、11、14、15传纸质发票号码<br/>发票类型为：51、61、81、82、83、84、85、86、87、88传20位数字化电子发票号码 |
| 4 | kprq | 开票日期 | String | 8 | 是 | YYYYMMDD |


#### 12.4请求报文示例
| {<br/>	"fplx": "发票类型",<br/>	"fpdm": "发票代码",<br/>	"fphm": "发票号码",<br/>	"kprq": "开票日期"<br/>} |
| --- |


#### 12.5返回参数
| 序号 | 数据项标识 | 数据项名称 | 字段类型 | 长度 | 必须 | 说明 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 | returncode | 返回码 | String | 2 | 是 | 详情可参照“六、附件：1.返回码代码表” |
| 2 | returnmsg | 返回信息 | String | 2000 | 否 | 错误信息说明 |
| 3 | fpdm | 发票代码 | String | 12 | 是 | <font style="color:#000000;">数字化电子发票发票代码可为空</font> |
| 4 | fphm | 发票号码 | String | 20 | 是 | <font style="color:#000000;">数字化电子发票，发票号码20位</font> |
| 5 | kprq | 开票日期 | String | 19 | 是 | YYYY-MM-DD HH:mm:ss |
| 6 | fpzt | 发票状态 | String | 1 | 否 | 0：正常<br/>2：作废<br/>3：已红冲<br/>7：部分红冲<br/>8：全额冲红 |
| 7 | ycpzzt | 异常凭证状态 | String | 1 | 否 | 01：正常<br/>02：异常凭证<br/>03：疑似异常凭证 |
| 8 | hzsdbs | 红字锁定标识 | String | 1 | 否 | Y：锁定<br/>N：未锁定 |
| 9 | fpyt | 发票用途 | String | 2 | 否 | 0：未使用<br/>1：已申请抵扣<br/>2：已申请退税<br/>3：已申请代办退税<br/>4：已勾选不抵扣（历史数据）<br/>5：已申请代办退税（历史数据）<br/>6：已申请不抵扣<br/>7：内销转出口<br/>8：出口转内销<br/>9：准予退税<br/>10：不予退税<br/>11：冬奥退税 |
| 10 | rzzt | 入账状态 | String | 2 | 否 | 01：未入账<br/>02：已入账<br/>03：已入账撤销 |
| 11 | cpyycbs | 成品油异常标识 | String | 1 | 否 | 9：正常<br/>1：成品油单价异常<br/>2：成品油超库存异常<br/>8：正常，需全额红冲 |
| 12 | cktsldm | 出口退税类代码 | String | 2 | 否 | 01：增值税专用发票可用于代办退税标签（仅用于代办退税） |
| 13 | zzsyhyt | 增值税优惠用途（农产品加计扣除） | String | 2 | 否 | 0：未使用 <br/>1：全部项目加计 <br/>2：全部项目不加计 <br/>3：部分项目加计 |
| 14 | xfsyt | 消费税用途 | String | 2 | 否 | 00：未勾选库存<br/>01：已勾选库存 |
| 15 | jdcycbs | 机动车异常标识 | String | 1 | 否 | 0：无风险<br/>1：低风险<br/>2：中风险<br/>3：高风险 |
| 16 | skssq | 税款所属期 | String | 6 | 否 | 返回格式：yyyymm |


#### 12.6返回报文示例
| {<br/>	"Response": {<br/>		"RequestId": "系统自动生成ID",<br/>		"Data": {<br/>			"returncode": "返回码",<br/>			"returnmsg": "返回信息",<br/>			"fpdm": "发票代码",<br/>			"fphm": "发票号码",<br/>			"kprq": "开票日期",<br/>			"fpzt": "发票状态",<br/>			"ycpzzt": "异常凭证状态",<br/>			"hzsdbs": "红字锁定标识",<br/>			"fpyt": "发票用途",<br/>			"rzzt": "入账状态",<br/>			"cpyycbs": "成品油异常标识",<br/>			"cktsldm": "出口退税类代码",<br/>			"zzsyhyt": "增值税优惠用途（农产品加计扣除）",<br/>			"xfsyt": "消费税用途",<br/>			"jdcycbs": "机动车异常标识",<br/>			"skssq": "税款所属期"<br/>		}<br/>	}<br/>} |
| --- |


失败返回：

| {<br/>	"Response": {<br/>		"RequestId": "16位随机数字和字母组合",<br/>		"Error": {<br/>			"Code": "01",<br/>			"Message": "错误说明"<br/>		}<br/>	}<br/>} |
| --- |


# **六、**附件
无



